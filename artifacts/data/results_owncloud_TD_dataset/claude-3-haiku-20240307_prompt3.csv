id,text,Label,Model_classification
0,"non exhaustive list of improvements 

   remove usage of deprecated methods
   implement dependancy injection
   make use of data providers in test cases

nice to have debatable priorityprobably separate refactoring stage
   use http error codes",TD,TD
1,"from 



oh fun oh fun

what happens here is that our awesome codebase has the is config writable check in at least three different places and the logic is all different  yay

 a check in libprivateconfigphp whether the file configconfigphp exists 
 a  check in libbasephp whether the file configconfigphp is writable or the readonly mode is set 
 a check in libprivateutilphp which checks whether the config directory is writable the even more funny thing here is that this code path is only called for new sessions thus all existing sessions will work happily but as soon as you start a new one things will explode

for the sake of having an usable documentation id say that we adjust the documentation for now and in the future unify these insane checks somehow in core  but that is unrelated… no need to have them at three different places and also no need to be different everywhere especially the third check is really some magic voodoo which abuses the session storage totally 



related to ",TD,TD
2," steps to reproduce
 use ocpconfigsetuservalue

 expected behaviour
returns false when no rows affected

 actual behaviour
returns false also if exception occurred


ocpreferencesetvalue returns a bool indicating if any rows have been affected 

however the public wrapper of this tries to catch exceptions and returns false if it catches one 

so if you use the public method you cannot determine if the call succeeded or not",TD,TD
3,"currently it is quite difficult to keep the database clean on deletion
if we had foreign keys we could use the cascading delete feature of database to automatically remove orphaned entries

some examples
 remove shares when file cache entry is gone 
 cleaning up tags for deleted files need a lot of different hooks when unshared when deleted when moved out of shared dir etc 
 cleanup up tags when a user is deleted 

also it would help to maintain a stronger data integrity and avoid issues like having storage entries the known legacy storage case that do not match users file cache entries any more etc
it would also prevent potential bugs to do partial manipulations in the db or integrity breaking operations

open questions
 should external apps also define foreign keys that might point to cores tables  a core table should not have foreign keys to external tables though
 what was the initial though process for deciding to not use foreign keys in the first place  at least so we can have it documented here

cc  karlitschek 
",TD,Not_TD
4,"the escapehtml should be called while replacing the variables in t and shouldnt be done in following way

tfilessharing shared by owner owner escapehtmlfiledatashareowner


cc lukasreschke  ",TD,TD
5,"ocsubadmin is static and thus it is an absolute pain to write unittest for code that includes it this is kinda bad when it comes to write unittest where a function may behave differently when the user is an admin or an subadmin

when touching the ocsubadmin code  for example for   i strongly suggest that we refactor the same code as well currently we just cannot test a lot of security relevant code due to that 

cc  fyi",TD,TD
6,"currently the scan method will reset etags by default unless a reuseetags argument is passed

this is unintuitive and can be the cause of misunderstandings that lead to developers believing that the behavior is the reverse this happened here 

schiesbn suggested to change it to have reuseetags be the default
if someone wants to force recreation of etag they should pass an extra flag

 ",TD,TD
7,"when sharing or resharing permissions need to be computed based on different criterion
 reshare permissions are computed based on the parent share permissions
 a shared folder must always be unsharable from self so it has an extra delete permission
 ext storage mount points have extra permissions that need to be computed
 remote shares have different permissions
 link shares  based on whether allow upload is globally allowed
 whether resharing is allowed globally
 

the logic for all of these is spread across multiple mechanisms
some are computed on the server side some on the js side some in the share dropdown some using the special datasharepermissions attribute

the idea is to refactor all this into a central place instead of spread all over the place

cc   schiesbn ",TD,TD
8,the appstore is currently queried everytime you often the apps pages which can result in a major performance drawback it may be sensible to cache the response for some timeframe,TD,TD
9,the appstore is currently queried everytime you open the apps pages which can result in a major performance drawback it may be sensible to cache the response for some timeframe,TD,TD
10,"our custom autoloader ocautoloader is actually very slow and requires alone about  for every request thats a huge amount when we compare it to the composer loader




we can see that the composer autoloader is actually called about twice the time but only takes a quarter of the time it can also be seen that this seems to be a problem in the logic as  are spent on cpu on our autoloader",TD,TD
11,"when uploadingoverwrite a file through webdav the following warningdebug message often appears in the log

 no reuse of etag for filestesttxt 


from what i remember this message is harmless we should look into removing it as it can be misleading

 can you confirm 
",TD,TD
12,"applications should be possible to prevent the remember me login from working for specific users and if that is done a decent notice should get shown to the user so that he gets aware of this

the current implementation requires us to disable remember me if apps such as filesexternal are enabled which have the login with owncloud credentials feature

ref  and ",TD,TD
13,"we do some really fancy and slloooooow magic when locating js files added with ocutiladdscript the following paths are added for instance

 jschosenjs
 newsjsappjs

then in order to locate the file we loop over all possible directories and figure out if the file exists why cant we simply construct a valid path like

 corejschosenjs
 appsnewsjsappjs

inside the addscript method

  lukasreschke morrisjobke ",TD,TD
14,"currently there are two ways to mount an external owncloud folder
 using server to server sharing
 using the owncloud external storage backend

these are using different code paths to do similar operations
the server to server sharing code happens in the dav class 
while the owncloud backend is here 

the purpose of the owncloud external storage backend is to take advantage of owncloud features that might not be available in regular webdav mounts like
 change detection through etags
 disable encryption for remote storage
 chunk upload yet to be added 

i think we should make server to server sharing based off the owncloud storage backend then improve that one so that both mechanisms benefit from it

 xenopathic schiesbn ",TD,TD
15,"this is just a dump from the irc log how could a possible sharing work hanswurst asked and that was a possible way to enhance the sharing


php

abstract class shareprovider extends ocpappframeworkdbmapper 

    protected type
    protected db

    public function constructocpidb db type 
        thistype  type
        thisdb  db
    




class share extends ocpappframeworkdbentity 
    protected share
    protected link
    protected users
    protected groups


class fileshare extends shareprovider 
    public function constructocpidb db 
        parentconstructdb file
    


folder  rootgetpathtofolder
folder  rootgetpathtofilexml

fileshare  new filesharedb
filesharesharewithgroupsfolder 
share  filesharesharewithusersfile 

link  filesharecreatepubliclinkshare
fileshareremovepubliclinklink

sharedusers  filesharegetusersfolder
sharedgroups  filesharegetgroupsfolder
fileshareremovesharefromgroups
fileshareremovesharefromusers


cc raydiation   schiesbn lukasreschke 



  would be the outcome if you would implement sharing with entities and mappers
  the shareprovider baseclass would implement all the important sql queries that are reusable in the child class
",TD,Not_TD
16,"

cc   ",TD,Not_TD
17,"

cc   ",TD,Not_TD
18,"migrate previewpng etc  to preview system

subtasks
  add a proper previewcontroller
  preview  image response types require stream based responses",TD,TD
19,see ,TD,Not_TD
20,"jquery tipsy is unmaintained  does not work with up to date jquery which forces us to ship jquerymigrate and has several bugs that are not present in the 

migrating should not be hard most of the time it will only amount to replacing

    elementtipsy

with

    elementtooltip

 jancborchardt lukasreschke  morrisjobke ",TD,TD
21,"we really need to get rid of octemplatejs which is some custom templating system only used by contacts but lives in core

there are better and maintained template systems…",TD,TD
22," steps to reproduce
 share a folder as public link with write permissions in instance a with usera uid usera display a from instancea
 open public link and add to instance b as userb uid userb display b from instanceb with add to owncloud field
 add a file testtxt to the folder as userb
 check activity feed for usera

 expected
one of
 userb created testtxt
 userbinstanceb created testtxt
 b from instanceb created testtxt

 actual
empty string created testtxt
added a workaroung so it uses remote user instead of empty string for now see  

 findings
the activity app uses the following code to get the uid when creating the activities
php
			user  servergetusersessiongetuser
			return user  usergetuid  


is it somehow possible to get any info from the session or somewhere else that the current user is a remote user userxyz with a displayname xyz on instanceabc on instanceabc so we dont display remote user only but can help to identify the user

since this also happens to intentional remote shares uidinstance in the share dropdown it would be nice to know which user you want to remove from the sharing list 

 cc schiesbn  for writing the feature",TD,TD
23,"currently the storage api is similar to the one from php and simply returns false when an error occurred
this makes it difficult to distinguish whether false means file not found or storage not available

we should move to using exceptions in such cases and get rid of booleans

xenopathic  schiesbn  ",TD,TD
24,"we need to migrate from the current unofficial and unmaintained dropbox sdk to the official one 

",TD,TD
25,"there are many cases in the code where we either assume that a returned value will be correct or where some abnormal situations are just ignored

for example
  here is assuming the user is not null  but a bug might break the subsequent code if it is
  here the user manager might return null but a home will still get created 
  here getrelativepath should normally never fail but if it does return null it is just ignored instead of throwing an exception 

we need to fix such known cases and be more defensive when programming to make sure the code is more robust this is especially important knowing that race conditions could trigger unpredictable behavior so better not have code running with wrong values if we have a way to catch such situations

",TD,TD
26,"the problem was discovered here  and handled by a easy fix for a particular problem here  but the overall problem still exists

the fakeroot in ocfilesview has a trailing slash for external mount points or share mount points otherwise it doesnt have a trailing slash also depending how the view is initialized fakeroot can have a trailing slash or not this leads to problems like described and fixed in the issues linked above additional it will fail if the path comes with two leading slashes like mentioned here  another inconsistency is that depending on the trailing slash of the fakeroot the result of getrelativepath will start with a leading slash or not

this all is highly inconsistent and it is really hard to say which behaviour is the correct one
we should always operate on normalized paths starting with one slash without any doubleslashes and without a trailing slash also the result should always be a normalized path

cc  ",TD,TD
27,ref ,TD,Not_TD
28,"from irc

  bes deepdiver can we somehow get rid of  
  it’s the second time that i get major headaches due to that totally not unit testing unit test… honestly setting up a webdav server in an unit test i don’t even know what to say…
  major headaches  basically that file does so much things wrong that any adjustments in core totally unrelated will probably make this test fail and one has to add some other major hacks in the core code just because of this unit test……
  anybodyelse i wouldnt just remove this test but if you have a idea how to improve it then go ahead and replace it with a better test
  improve
  that’s not an unit test
  that belongs in an integration test
  i wouldnt add a hack to core to meet the unit tests if something in core changes we need to adjust the test i know not ideal but thats how it is at the moment
  it’s not possible
  sabredav will use thisserver from irequest to access the server env values
  this so called “unit test” is setting it via server
  and irequest is setup earlier in the bootstraping
  especially for encryption it is important to do this kind of tests because there is no sophisticated algorithmus
  this are all simple file operations
  so we either can absolutely not unit test our request handling and everythign related to it
  because of a silly integration test
  that does it wrong
  we want to know if they succeed with encryption
  yes
  that’s what one calls “integration test
  if you would mock all the real stuff away you would basically test openssl methods
  which would be pointless
  sure then call it interation tests
  integration tests do not belong in unit tests  they are different type of tests – also exactly like our external storage tests which are execute differently
 → duckydan joined 
  but pure unit tests doesnt make sense in a lot of areas in owncloud and especially not in encryption
  yes – then they need to get executed differently
  move it out like an external storage test or whatever


",TD,Not_TD
29,see ,TD,Not_TD
30,ref ,TD,Not_TD
31,"i know we literally just finished this 

but this class is not easily correctlymockable without actually instantiating the class and mocking its three deps

its also impossible to mock its server property since it doesnt actually exist and is fetched magically via a get method which is in a lengthy switch case

extending  in our ocappframeworkhttprequest would give us much more maintainablilty and reduce our maintance needs as that class would handle all the heavy lifting except our specialty cases we have to account for

also in the future could be used when we get around to refactoring a number of other classes

the changes on our codes end would also be minimal from my first looks and could be made more minimal through usages of facades

thoughts on this  karlitschek 

please also note this class is deeply tested and used in some of phps most popular frameworks like symfonyobviously laravel drupalnot really a framework silex and a number of others i cant think of at the moment",TD,TD
32,"our codebase contains currently gems such as

php
ids  array
					parents  arrayitem
					while emptyparents 
						parents  implode parents
						query  ocdbprepareselect id permissions from prefixshare
							 where parent in parents
						result  queryexecute
						 reset parents array only go through loop again if
						 items are found that need permissions removed
						parents  array
						while item  resultfetchrow 
							 check if permissions need to be removed
							if item  permissions 
								 add to list of items that need permissions removed
								ids  item
								parents  item
							
						
					
					 remove the permissions for all reshares of this item
					if emptyids 
						ids  implode ids
						 todo this should be done with doctrine platform objects
						if occonfiggetvalue dbtype  oci 
							andop  bitandpermissions 
						 else 
							andop  permissions  
						
						query  ocdbprepareupdate prefixshare set permissions  andop
							 where id in ids
						queryexecutearraypermissions


those cases are a potentially pitfall for sql injections when the code is incorrectly called and is very hard to audit this should use a helper for in statements instead",TD,TD
33,currently we have some fairly open defaults optimally we should restrict the defaults as much as possible and allow apps to optin for requirements,TD,TD
34,see ,TD,Not_TD
35,nan,TD,Not_TD
36,"the current approach adds more abstraction that is currently needed which makes it harder to debug database related issues furthermore there are problems with our internal api statement wrapper whose multiple return types bool statement cause some headaches when trying to close cursors properly for the most common cases see  

 current status
currently the classes that you typically use are called in the following order when running a method on the mapper class
 mapper
 idb
 db
 statementwrapper
 idbconnection
 connection

the goal is to get it down to this
 mapper
 idbconnection
 connection

 how can we do this

instead of requiring an instance of idb for the mapper we are going to require an idbconnection in order to stay compatible until this can be removed after deprecation we are going to do the following

 deprecate idb and db
 idb inherits from idbconnection
 db will forward calls to idbconnection using the call method much like this here  or just proxy it if required by the interface previous methods on the class itself will keep working but will be deprecated
 mapper class will be adjusted to use idbconnection and the methods on that class
 statementwrapper will be removed from db

at some point we will be able to return an instance of idbconnection from the servercontainer instead of idb to finish the migration and finally remove the code

 morrisjobke  lukasreschke butonic  georgehrke jbtbnl 
",TD,TD
37,"just happened to me and also others 

the cron service generates a lockfile in datacronlock this log file is not removed in certain cases which leads to a deadlock the file exists and no cronjobs will be executed for that period

my suggestion set a maximum timeout for the cronjob lockfile and remove the lock file after that

cc  jakobsack  ",TD,TD
38,"the current approach adds more abstraction that is currently needed which makes it harder to debug database related issues furthermore there are problems with our internal api statement wrapper whose multiple return types bool statement cause some headaches when trying to close cursors properly for the most common cases see  

 current status
currently the classes that you typically use are called in the following order when running a method on the mapper class
 mapper
 idb
 db
 statementwrapper
 idbconnection
 connection

the goal is to get it down to this
 mapper
 idbconnection
 connection

 how can we do this

instead of requiring an instance of idb for the mapper we are going to require an idbconnection in order to stay compatible until this can be removed after deprecation we are going to do the following

 deprecate idb and db
 idb inherits from idbconnection
 db will forward calls to idbconnection using the call method much like this here  or just proxy it if required by the interface previous methods on the class itself will keep working but will be deprecated
 mapper class will be adjusted to use idbconnection and the methods on that class
 statementwrapper will be removed from db

at some point we will be able to return an instance of idbconnection from the servercontainer instead of idb to finish the migration and finally remove the code

 morrisjobke  lukasreschke butonic  georgehrke jbtbnl 
",TD,TD
39,"our file upload javascript component is capable of using put for file upload


using put has some advantages over the existing post
the php code will be trigger as soon as the first few kbs arrived th server
in contrary in case of post the web server will first receive the whole file and trigger the php code after the upload has been finished

why is this a better approach
 quota and other checks can be performed right in the beginning
 follow up processing can benefit from stream eg push data to external file systems encrypt on the fly 

from my understanding this is why webdav uses put for file upload as well

karlitschek danimo dragotin  butonic blizzz schiesbn  bantu ringmaster 

im summoning you all because id like to know any impact on any component you are working on if you see any issues with this approach

thx
",TD,TD
40,"by my reading the oc autoloader is now needed only for ocspecific classes that are not  or  compatible the oc autoloaders handling of nonoc classes is very basic

	    foreach thisprefixpaths as prefix  dir 
            if   strposclass prefix 
            path  strreplace  class  php
            path  strreplace  path
            paths  dir    path
        

this is a  compliant implementation the composer autoloader is fully  compliant and also  compliant and does a bunch of other tricks too its comfortably superior to the code above i believe the bits of autoloaderphp that relate to nonoc classes should be dropped and the prefixes for any bundled libraries that arent directly handled by composer should be registered with composers autoloader instead of the oc autoloader in basephp ",TD,TD
41,nan,TD,Not_TD
42,"there are several things wrong with our  classesmethods

 the  has no public interface and there for can not be used by apps
 the public interface is missing a stub for some of the methods
 the  class should be using a namespace
 the methods related to guessing the language and then using it should be moved to the factory
same applies to all guessing find exists and force methods aswell
 the  class should not have a static method get instead the factory should be used
 t should return a string instead of a  object by default for saver usage 

 
",TD,TD
43,"currently every img tag or element which has a class inserting an icon needs to add the class »svg« in addition this class is only so that browsers which don’t support svg most notably  will be served with png instead

can we get rid of the svg class and have the jsphp just detect if it’s either an img or if the class starts with »icon« basically now the svg class is just stupid duplication and people forget it – because it does not make a whole lot of sense to need to add an additional indicator

cc   ownclouddesigners ",TD,TD
44,"regarding the discussion in  and  and probably others there is a question if support of the given multiocinstanceinonedb feature should be dropped

argument to keep
 multiple oc instances could be hosted in one database
 or the database could be shared with any other application that uses the oc prefix


arguments to drop are
 no real world usage no one actually uses it
 functionality is broken eg indexes do not currently support this feature  while required by certain dbmss
 on the long run it will sure make code easier
 stability could be improved through simplifying the code

a scenario to go for dropping support could be
 a grace period should be defined during which users are notified to change the dbtableprefix to oc or dropping it with the same result
 during the grace period a config value dbtableprefixmigrate could be introduced when set upon the next upgrade the prefix would be changed to oc by renaming the tables and dropping both dbtableprefix and dbtableprefixmigrate variables
 after the grace period an exception should be thrown if dbtableprefix is set the migration can still be done automatically but becomes mandatory except for the upgrade code the code will be cleaned of replacement features and using static oc value instead
 additionally after the grace period an exception should be thrown if a an app installed is using dbprefix in table names it should automatically be disabled to not block the entire oc instance or any such is attempted to be installed which thus should fail
 documentation needs to be updated accordingly
",TD,TD
45," worst case aka current state
currently apps register their navigation entry with an array in appphp eg activity
php
app  new application
c  appgetcontainer

navigationentry  array
	id  cgetappname
	order  
	name  
	href  ocservergeturlgeneratorlinktorouteactivityactivitiesshowlist
	icon  ocservergeturlgeneratorimagepathactivity activitysvg

ocservergetnavigationmanageraddnavigationentry


this creates a lot of overhead although not required

 the application of the activity app is created and instanciated
 the appgetcontainer 
 the  
 the ocservergeturlgenerator 

this makes requests that do not need the navigation quite bloated

i got two ideas to prevent this easily




  use closures

add a addclosure method and register all navigation per closure so the stuff is only created when required on getall of the navigationmanager run the closures and add them

    php
    	public function getall 
    		foreach thisclosureentries as c 
    			thisaddc
    		
    		thisclosureentries  array
    		return thisentries
    	
    

app code
php
ocservergetnavigationmanageraddclosurefunction  use c 
	app  new application
	c  appgetcontainer
	urlgenerator  cgetservergeturlgenerator

	return 
		id  cgetappname
		order  
		name  
		href  urlgeneratorlinktorouteactivityactivitiesshowlist
		icon  urlgeneratorimagepathactivity activitysvg
	


 advantage
 code is not executed unless really required
 quick and dirty

 disadvantage
 we create tones of closures
 return value of the closure is not specific and needs to be verified
 apps need to be updated to help improve the performance




  use a method in the appframework
add a registernavigation method to the ocpappframeworkapp class and call that for all enabled apps in the navigationmanagergetall method

 advantage
 code is not executed unless really required
 properly structured and making use of the application class

 disadvantage
 we need a way to create a list of all ocpappframeworkapp objects so we can run the registernavigation method on them but i think we create all those classes already anyway and just dont keep them in the appmanager or whereever
 apps need to be updated to help improve the performance




both ways are way finer and less ressource wasting then the current implementation

opinions lukasreschke raydiation  ",TD,TD
46," worst case aka current state
currently apps register their navigation entry with an array in appphp eg activity
php
app  new application
c  appgetcontainer

navigationentry  array
	id  cgetappname
	order  
	name  
	href  ocservergeturlgeneratorlinktorouteactivityactivitiesshowlist
	icon  ocservergeturlgeneratorimagepathactivity activitysvg

ocservergetnavigationmanageraddnavigationentry


this creates a lot of overhead although not required

 the application of the activity app is created and instanciated
 the appgetcontainer 
 the  
 the ocservergeturlgenerator 

this makes requests that do not need the navigation quite bloated

i got two ideas to prevent this easily




  use closures

add a addclosure method and register all navigation per closure so the stuff is only created when required on getall of the navigationmanager run the closures and add them

    php
    	public function getall 
    		foreach thisclosureentries as c 
    			thisaddc
    		
    		thisclosureentries  array
    		return thisentries
    	
    

app code
php
ocservergetnavigationmanageraddclosurefunction  use c 
	app  new application
	c  appgetcontainer
	urlgenerator  cgetservergeturlgenerator

	return 
		id  cgetappname
		order  
		name  
		href  urlgeneratorlinktorouteactivityactivitiesshowlist
		icon  urlgeneratorimagepathactivity activitysvg
	


 advantage
 code is not executed unless really required
 quick and dirty

 disadvantage
 we create tones of closures
 return value of the closure is not specific and needs to be verified
 apps need to be updated to help improve the performance




  use a method in the appframework
add a registernavigation method to the ocpappframeworkapp class and call that for all enabled apps in the navigationmanagergetall method

 advantage
 code is not executed unless really required
 properly structured and making use of the application class

 disadvantage
 we need a way to create a list of all ocpappframeworkapp objects so we can run the registernavigation method on them but i think we create all those classes already anyway and just dont keep them in the appmanager or whereever
 apps need to be updated to help improve the performance




both ways are way finer and less ressource wasting then the current implementation

opinions lukasreschke raydiation  ",TD,Not_TD
47,"the unit test fails when running locally due to calling ocmailsend which will fail and therefore behave  differently than when it would pass

longterm solution would be to make the ocmail class nonstatic but for now ill adjust the unittest",TD,TD
48,"i know we literally just finished this 

but this class is not easily correctlymockable without actually instantiating the class and mocking its three deps

its also impossible to mock its server property since it doesnt actually exist and is fetched magically via a get method which is in a lengthy switch case

extending  in our ocappframeworkhttprequest would give us much more maintainablilty and reduce our maintance needs as that class would handle all the heavy lifting except our specialty cases we have to account for

also in the future could be used when we get around to refactoring a number of other classes

the changes on our codes end would also be minimal from my first looks and could be made more minimal through usages of facades

thoughts on this  karlitschek 

please also note this class is deeply tested and used in some of phps most popular frameworks like symfonyobviously laravel drupalnot really a framework silex and a number of others i cant think of at the moment",TD,TD
49,see ,TD,Not_TD
50,"is it intended that the argument in backgroundjob is called klass instead of class or is this dragotin s easteregg with typo 


grep rin klass         
		class  argument
	  param string klass class name
	public static function addregulartaskklass method 
			selfregisterjobocbackgroundjoblegacyregularjob arrayklass method
	  key is string klassmethod value is array klass method 
		selfregisterjobocbackgroundjoblegacyqueuedjob arrayapp  app klass  class method  method parameters  parameters


",TD,TD
51,"wrap your head around all these different setup paths in basephp and resolve 

",TD,TD
52,,TD,Not_TD
53,"the filesexternal application is blocking the loading of the admin and user page if the remote host of a mountpoint is not reachable anymore

to reproduce this mount a remote webdav share and then take the remote server offline  opening the pages will then take about  seconds

this is very bad user experience and we should move this to an ajax check",TD,TD
54,"see  and any other file in the same directory

nickvergessen i heard you like fixing namespaces  wink ",TD,Not_TD
55,"currently the filesexternal ui is unmaintainable because it uses a combination of all settings tuple as if it was a unique id this is very unreliable and can cause possible breakage

since oc  there is a new storageid value stored in mountjson

the external storage config code must be adapted to use this storageid when updating the config instead of the huge tuple

this will make room for adding more options

cc  
",TD,TD
56,"currently apps need to register their cron jobs inside of appphp
the problem with this is that adding the jobs there will cause a insert if not exists every time the app is loaded even if the php request is not cronphp

we should provide a mechanism for apps to register cron jobs outside of appphp
one suggestion would be to add a method registercronjobsjobmanager in the application class and expect apps to override that method to register their jobs there

that method would then only be called by cronphp when really needed

nickvergessen as discussed",TD,TD
57,"i found some unit tests related to that stream wrapper
afaik this is now unusedobsolete 

we should deprecate this officially

  ",TD,TD
58,"xml
	
		
		
	


app type filesystem should not be used here just to avoid the enable for group feature if that is needed a new type should be added but using type filesystem will cause the app to be loaded in various scenarios where it is not needed eg webdav",TD,TD
59,"if for example via a click on a  the url is changed but the actual pointer of the url is still the same no reload of the files app should happen

noticed together with 

see  for a real world example",TD,TD
60,"as mentioned in  there should be a couple of more checks in the subadmin class for example to make sure that we do not try to make a user a subadmin of the same group twice this should be handled more gracefully

this could either be silent in certain cases or in the form of exceptions

this makes sure we do not have to check in multiple places and fixes the problem where it can occur",TD,TD
61,"in a restful design a url should be a resource
on owncloud apps can be found in apps

appspaths allows admins to modify the url where to find some apps and that goes against the convention and breaks things 


appspaths  array
	array
		path varwwwowncloudapps
		url  apps
		writable  false
	
	array
		path varwwwowncloudmyapps
		url  
		writable  true
	



the url parameter should be dropped and replaced by a filter


appspaths  array
	array
		path varwwwowncloudapps
		filter  
		writable  false
	
	array
		path varwwwowncloudmyapps
		filter  
		writable  true
	



which would lead to a url like 
",TD,TD
62,"currently you have to check all methods from  but it would be better to have an interface for this to implement simply all the methods 


ref documentation issue ",TD,TD
63,"before doing any clean up or refactoring of the external storage frontend its a good idea to first write some unit tests these will mostly rely on interacting with dom elements

this is also an opportunity to properly encapsulate the js code into a namespace or class which should require minimal changes for now

this is the prerequisite before well be able to fix the config format later in  
",TD,TD
64,we better move the physical path column into the cache table  kind of related to ,TD,Not_TD
65,"the storage id definitions  help developers figure out what those ids mean

the problem is that when were trying to use whats at our disposal to identify where a folder is located it doesnt work as expected

 folderislocal

 expectation

 only returns true for folders hosted in the data folder
 returns true for storage with the id local
 returns true for shares belonging to the same instance

 actual behaviour

 always returns false for folders hosted in the data folder on  
 returns false for local shares on 

  folderismounted

 expectation

returns references to storage which is mounted

 actual behaviour


an id starting with local should not be considered mounted but from the definitions if you use the filesexternal you could also mount local folder into your owncloud in this case also a local storage is created
which means were not getting those mounted folders

on top of that an external share is not considered mounted which is confusing

 what can be done
i can understand that a method is needed to know whether we have a direct access to files and folder so that we can pick the right tools to manipulate them but calling it islocal is confusing we already have isencrypted but maybe we need to introduce a method called isproxied or hasdirectaccess

we also need another method which can help us figure out where the node is located and whether or not its collected via the network or not

 an external share is much slower than a local one but both are identified as shared
 a mounted smb folder can be quite fast but one which requires to make http requests probably wont be so why id them all as local

apps which need to collect specific files in order to present them to the user in a different gui documents gallery etc need to know whether the files can be fetched quickly or not because fetching files which take several seconds or even minutes each to retrieve is simply killing the user experience



",TD,TD
66," has to be converted into an console command  or we extend the filesscan command to accept a path as well

 ",TD,TD
67,"through the use of cqueryservercontainerqueryname you can virtually access any service in core that is defined in the server container be it private or public we also encourage app devs to do it in that way which is bad 

not only is it bad for maintaining a stable public api but can also lead to obscure bugs dev overrides core service for instance and it is not as easy to develop apps as it could be what i propose is that we should get rid of the servercontainer parameter in the dicontainer class

php
thisregisterparameterservercontainer ocserver

and replace it with a service for now that logs a deprecated error when the servercontainer is accessed like


php
thisregisterserviceservercontainer function c 
    ocservergetloggerwarnaccessing the servercontainer is deprecated and will be removed in owncloud  use type annotation to inject it into your classes
    return ocserver


the next step should be to get everything that should be public into that container so for instance ocpiconfig should be registered in the following way

php
thisregisterserviceocpiconfig functionc 
    return ocservergetallconfig



that way the app developer can let the container resolve the interface automatically with the help of  

this is nice because the app dev now does not need to know where to get the dependency from eg irequest is not in the server container but in the dicontainer which is really weird but he can simply add the public interface type hint  to his constructor like

php
class authorcontroller 
    public function constructappname ocpirequest request ocpiconfig config



this will also be less to write so i suppose devs that struggled with di before and just accessed the global server container will be more likely to use proper di

georgehrke  butonic  morrisjobke nickvergessen jbtbnl karlitschek ",TD,Not_TD
68,"there are many places in the code where the current user is read out of iusersession or ocpusergetuser this is dangerous because it assumes that the currently logged in user is also the one we are working on

in the case of background jobs versions expire etc there is no user in the session but we still need to apply changes for a given user  see 

this is why we need to always inject the user instead of getting the one from the session

cc lukasreschke",TD,TD
69,"when using owncloud as external storage it will simply use the owncloud external storage backend which is based on the dav external storage backend

when using server to server sharing aka federation it uses the dav external storage backend not the owncloud one but also uses an additional endpoint ajaxshareinfophp which delivers snippets of the remote cache

the problem with this is that we now have different code paths between owncloud external storage and server to server share even though they work almost the same this means multiple code paths to maintain and also a risk of not noticing issues specific to a given code path like  where syncing is broken for owncloud external storage but works for server to server shares

 can we get rid of shareinfophp somehow and use propfind instead 
we might need to use it with depth infinite if we want the whole tree

ideally we should implement a more progressive logic similar to the sync client which only updates pieces of the subtree for example check the etag of the root with propfind if it changed then propfind the children for which the etag changed etc

cc  schiesbn ",TD,TD
70,"autotesthhvmsh was spawned as a copy of autotestsh via  with the only difference being the interpreter used php vs hhvm autotestsh was improved in the meantime and has diverged from autotesthhvmsh

ref 

diff
 autotestsh	  
 autotesthhvmsh	  
   
 executornumber is set by jenkins and allows us to run autotest in parallel
 databasenameocautotestexecutornumber
 databaseuserocautotestexecutornumber
databasehostlocalhost
 adminloginadminexecutornumber
 basedirpwd
 
 dbconfigssqlite mysql pgsql oci
 phpunitwhich phpunit
hhvmwhich hhvm
 
 function printsyntax 
	echo e syntax autotestsh  n 
	echo e syntax autotesthhvmsh  n 
 	echo e tdbconfigname can be one of dbconfigs 
 	echo e ttestfile is the name of a test file for example libtemplatephp 
 	echo e nexample autotestsh sqlite libtemplatephp 
   
 	exit 
 fi
 
phpunitversionphpunit version  cut d  
if   then
	echo hhvm executable not found please install hhvm 
	exit 
fi

phpunitversionhhvm phpunit version  cut d  
 phpunitmajorversionecho phpunitversion  cut d 
 phpunitminorversionecho phpunitversion  cut d 
 
   
 	exit 
 fi
 
if   then
if   then
 	echo please enable write permissions on config and configconfigphp 
 	exit 
 fi
   
 fi
 
 function cleanupconfig 
	if  then
		echo kill the docker dockercontainerid
		docker rm f dockercontainerid
	fi

 	cd basedir
 	 restore existing config
 	if  then
   
 	rm rf datadir
 	mkdir datadir
 
	 remove the old config file
	rm rf configconfigphp
 	cp testspreseedconfigphp configconfigphp
 
 	 drop database
 	if   then
		mysql u databaseuser powncloud e drop database if exists databasename h databasehost  true
		mysql u databaseuser powncloud e drop database if exists databasename  true
 	fi
 	if   then
 		dropdb u databaseuser databasename  true
 	fi
 	if   then
		echo fire up the oracle docker
		dockercontaineriddocker run d 
		databasehostdocker inspect dockercontainerid  grep ipaddress  cut d  f 

		echo waiting  seconds for oracle initialization  
		sleep 

		databaseuserautotest
		echo drop the database
		sqlplus s l  as sysdba eof
			drop user databasename cascade
eof

		echo create the database
		sqlplus s l  as sysdba eof
			create user databasename identified by owncloud
			alter user databasename default tablespace users
			temporary tablespace temp
			quota unlimited on users
			grant create session
			 create table
			 create procedure
			 create sequence
			 create trigger
			 create view
			 create synonym
			 alter session
			to databasename
			exit
eof
		databaseuserdatabasename
 		databasenamexe
 	fi
 
	 copy autoconfig
	cp  basedirconfigautoconfigphp

 	 trigger installation
 	echo installing 
	occ maintenanceinstall  databasenamedatabasename databasehostdatabasehost databaseuserdatabaseuser databasepassowncloud databasetableprefixoc adminuseradminlogin adminpassadmin datadirdatadir
	hhvm occ maintenanceinstall  databasenamedatabasename databasehostlocalhost databaseuserdatabaseuser databasepassowncloud databasetableprefixoc adminuseradminlogin adminpassadmin datadirdatadir
 
 	test execution
 	echo testing with  
 	cd tests
 	rm rf 
 	mkdir 
	php f enableallphp  grep i  error  echo error during setup  exit 
	hhvm f enableallphp  grep i  error  echo error during setup  exit 
 	if  then
		phpunit configuration phpunitautotestxml logjunit  coverageclover  coveragehtml   
		hhvm phpunit configuration phpunitautotestxml logjunit  coverageclover  coveragehtml   
 		result
 	else
 		echo no coverage
		phpunit configuration phpunitautotestxml logjunit   
		hhvm phpunit configuration phpunitautotestxml logjunit   
 		result
 	fi
 
   
 		executetests dbconfig
 	done
 else
	
	if    then
		filenamefilename
	fi
	executetests  filename 
	executetests   
 fi
 
 
",TD,TD
71,"we should start to enforce a non  and  rule when merging pull requests to avoid string comparison bugs php casts strings to ints if possible when using  and  comparison operators meaning that

  

this can lead to crazy bugs and can lead to data loss all while being extremely hard to debug we should also migrate all occurrences to their  and  counterparts

source 


ps   suffer from the same problem but are usually not used for string comparison

 morrisjobke lukasreschke nickvergessen  karlitschek ",TD,TD
72,"autotesthhvmsh was spawned as a copy of autotestsh via  with the only difference being the interpreter used php vs hhvm autotestsh was improved in the meantime and has diverged from autotesthhvmsh

the code shared by autotestsh should be deduplicated ref 

diff
 autotestsh	  
 autotesthhvmsh	  
   
 executornumber is set by jenkins and allows us to run autotest in parallel
 databasenameocautotestexecutornumber
 databaseuserocautotestexecutornumber
databasehostlocalhost
 adminloginadminexecutornumber
 basedirpwd
 
 dbconfigssqlite mysql pgsql oci
 phpunitwhich phpunit
hhvmwhich hhvm
 
 function printsyntax 
	echo e syntax autotestsh  n 
	echo e syntax autotesthhvmsh  n 
 	echo e tdbconfigname can be one of dbconfigs 
 	echo e ttestfile is the name of a test file for example libtemplatephp 
 	echo e nexample autotestsh sqlite libtemplatephp 
   
 	exit 
 fi
 
phpunitversionphpunit version  cut d  
if   then
	echo hhvm executable not found please install hhvm 
	exit 
fi

phpunitversionhhvm phpunit version  cut d  
 phpunitmajorversionecho phpunitversion  cut d 
 phpunitminorversionecho phpunitversion  cut d 
 
   
 	exit 
 fi
 
if   then
if   then
 	echo please enable write permissions on config and configconfigphp 
 	exit 
 fi
   
 fi
 
 function cleanupconfig 
	if  then
		echo kill the docker dockercontainerid
		docker rm f dockercontainerid
	fi

 	cd basedir
 	 restore existing config
 	if  then
   
 	rm rf datadir
 	mkdir datadir
 
	 remove the old config file
	rm rf configconfigphp
 	cp testspreseedconfigphp configconfigphp
 
 	 drop database
 	if   then
		mysql u databaseuser powncloud e drop database if exists databasename h databasehost  true
		mysql u databaseuser powncloud e drop database if exists databasename  true
 	fi
 	if   then
 		dropdb u databaseuser databasename  true
 	fi
 	if   then
		echo fire up the oracle docker
		dockercontaineriddocker run d 
		databasehostdocker inspect dockercontainerid  grep ipaddress  cut d  f 

		echo waiting  seconds for oracle initialization  
		sleep 

		databaseuserautotest
		echo drop the database
		sqlplus s l  as sysdba eof
			drop user databasename cascade
eof

		echo create the database
		sqlplus s l  as sysdba eof
			create user databasename identified by owncloud
			alter user databasename default tablespace users
			temporary tablespace temp
			quota unlimited on users
			grant create session
			 create table
			 create procedure
			 create sequence
			 create trigger
			 create view
			 create synonym
			 alter session
			to databasename
			exit
eof
		databaseuserdatabasename
 		databasenamexe
 	fi
 
	 copy autoconfig
	cp  basedirconfigautoconfigphp

 	 trigger installation
 	echo installing 
	occ maintenanceinstall  databasenamedatabasename databasehostdatabasehost databaseuserdatabaseuser databasepassowncloud databasetableprefixoc adminuseradminlogin adminpassadmin datadirdatadir
	hhvm occ maintenanceinstall  databasenamedatabasename databasehostlocalhost databaseuserdatabaseuser databasepassowncloud databasetableprefixoc adminuseradminlogin adminpassadmin datadirdatadir
 
 	test execution
 	echo testing with  
 	cd tests
 	rm rf 
 	mkdir 
	php f enableallphp  grep i  error  echo error during setup  exit 
	hhvm f enableallphp  grep i  error  echo error during setup  exit 
 	if  then
		phpunit configuration phpunitautotestxml logjunit  coverageclover  coveragehtml   
		hhvm phpunit configuration phpunitautotestxml logjunit  coverageclover  coveragehtml   
 		result
 	else
 		echo no coverage
		phpunit configuration phpunitautotestxml logjunit   
		hhvm phpunit configuration phpunitautotestxml logjunit   
 		result
 	fi
 
   
 		executetests dbconfig
 	done
 else
	
	if    then
		filenamefilename
	fi
	executetests  filename 
	executetests   
 fi
 
 
",TD,Not_TD
73,"autotesthhvmsh was spawned as a copy of autotestsh via  with the only difference being the interpreter used php vs hhvm autotestsh was improved in the meantime and has diverged from autotesthhvmsh

the code shared by autotestsh should be deduplicated ref 

diff
 autotestsh	  
 autotesthhvmsh	  
   
 executornumber is set by jenkins and allows us to run autotest in parallel
 databasenameocautotestexecutornumber
 databaseuserocautotestexecutornumber
databasehostlocalhost
 adminloginadminexecutornumber
 basedirpwd
 
 dbconfigssqlite mysql pgsql oci
 phpunitwhich phpunit
hhvmwhich hhvm
 
 function printsyntax 
	echo e syntax autotestsh  n 
	echo e syntax autotesthhvmsh  n 
 	echo e tdbconfigname can be one of dbconfigs 
 	echo e ttestfile is the name of a test file for example libtemplatephp 
 	echo e nexample autotestsh sqlite libtemplatephp 
   
 	exit 
 fi
 
phpunitversionphpunit version  cut d  
if   then
	echo hhvm executable not found please install hhvm 
	exit 
fi

phpunitversionhhvm phpunit version  cut d  
 phpunitmajorversionecho phpunitversion  cut d 
 phpunitminorversionecho phpunitversion  cut d 
 
   
 	exit 
 fi
 
if   then
if   then
 	echo please enable write permissions on config and configconfigphp 
 	exit 
 fi
   
 fi
 
 function cleanupconfig 
	if  then
		echo kill the docker dockercontainerid
		docker rm f dockercontainerid
	fi

 	cd basedir
 	 restore existing config
 	if  then
   
 	rm rf datadir
 	mkdir datadir
 
	 remove the old config file
	rm rf configconfigphp
 	cp testspreseedconfigphp configconfigphp
 
 	 drop database
 	if   then
		mysql u databaseuser powncloud e drop database if exists databasename h databasehost  true
		mysql u databaseuser powncloud e drop database if exists databasename  true
 	fi
 	if   then
 		dropdb u databaseuser databasename  true
 	fi
 	if   then
		echo fire up the oracle docker
		dockercontaineriddocker run d 
		databasehostdocker inspect dockercontainerid  grep ipaddress  cut d  f 

		echo waiting  seconds for oracle initialization  
		sleep 

		databaseuserautotest
		echo drop the database
		sqlplus s l  as sysdba eof
			drop user databasename cascade
eof

		echo create the database
		sqlplus s l  as sysdba eof
			create user databasename identified by owncloud
			alter user databasename default tablespace users
			temporary tablespace temp
			quota unlimited on users
			grant create session
			 create table
			 create procedure
			 create sequence
			 create trigger
			 create view
			 create synonym
			 alter session
			to databasename
			exit
eof
		databaseuserdatabasename
 		databasenamexe
 	fi
 
	 copy autoconfig
	cp  basedirconfigautoconfigphp

 	 trigger installation
 	echo installing 
	occ maintenanceinstall  databasenamedatabasename databasehostdatabasehost databaseuserdatabaseuser databasepassowncloud databasetableprefixoc adminuseradminlogin adminpassadmin datadirdatadir
	hhvm occ maintenanceinstall  databasenamedatabasename databasehostlocalhost databaseuserdatabaseuser databasepassowncloud databasetableprefixoc adminuseradminlogin adminpassadmin datadirdatadir
 
 	test execution
 	echo testing with  
 	cd tests
 	rm rf 
 	mkdir 
	php f enableallphp  grep i  error  echo error during setup  exit 
	hhvm f enableallphp  grep i  error  echo error during setup  exit 
 	if  then
		phpunit configuration phpunitautotestxml logjunit  coverageclover  coveragehtml   
		hhvm phpunit configuration phpunitautotestxml logjunit  coverageclover  coveragehtml   
 		result
 	else
 		echo no coverage
		phpunit configuration phpunitautotestxml logjunit   
		hhvm phpunit configuration phpunitautotestxml logjunit   
 		result
 	fi
 
   
 		executetests dbconfig
 	done
 else
	
	if    then
		filenamefilename
	fi
	executetests  filename 
	executetests   
 fi
 
 
",TD,TD
74,"ocappgetapppath may return false but some most values returned by that function are not checked against false

examples






discovered via ",TD,TD
75,"we introduced transactions in some code parts we should properly handle them like described in 

see 

",TD,TD
76,"currently the view accepts an arbitrary root and concatenates it with other paths sometimes without checking if there is a leading or trailing slash

the common way we used was to create a view with new viewsomepath with both leading and trailing slashes that usually works for everything

i tried to quickfix this and enforce leadingtrailing slash but that seems to break autotest setup 

so instead of doing such dangerous fix directly lets do this in a later release

the idea is to normalize fakeroot to have the proper slashes to avoid breakage

cc   schiesbn ",TD,TD
77,"

 is merged now 

somthing like ocpsharesetpasswordshareid password should do the trick

cc lukasreschke rullzer ",TD,Not_TD
78,nan,TD,Not_TD
79,"our file upload javascript component is capable of using put for file upload


using put has some advantages over the existing post
the php code will be trigger as soon as the first few kbs arrived th server
in contrary in case of post the web server will first receive the whole file and trigger the php code after the upload has been finished

why is this a better approach
 quota and other checks can be performed right in the beginning
 follow up processing can benefit from stream eg push data to external file systems encrypt on the fly 

from my understanding this is why webdav uses put for file upload as well

karlitschek danimo dragotin  butonic blizzz schiesbn  bantu ringmaster 

im summoning you all because id like to know any impact on any component you are working on if you see any issues with this approach

thx
",TD,TD
80,"in publicly shared folders thumbnails are always  no matter what the devicepixelratio is set at this leads to blurry thumbnails on high dpi devices

this happens because the files app relies on  to calculate the exact dimensions of the thumbnail it needs but on the public side  doesnt calculate anything and lets the php controller  what it needs

i think the part of the script which needs a preview should be responsible for calculating the dimensions of the preview it needs generatepreviewurl should only generate a url using the arguments it receives

trident action plan trident

   nailcare fix the public side its just a matter of adding the dimensions to the list of parameters
   muscle alter generatepreviewurl and all areas calling it  or 

 jancborchardt ",TD,TD
81,"with a devicepixelratio of  the web gui is asking for  thumbnails but the css used to display those thumbnails has a hardcoded value of 

maybe some parts of the gui need the  thumbnails and its been designed that way in order to not have to generate both sizes if not we should decide whether there is room to show the  thumbnails or if we should ask for  thumbnails instead and fix all the scripts which ask for  thumbnails

jancborchardt  schiesbn  nickvergessen 



",TD,TD
82,"i accidentially renamed a folder on my production instance

 the folder was filled up with nearly  files in a total size of  gb
 i renamed the folder in the web ui
 shortly  seconds after i noticed this i shut down the client to avoid bigger trouble as this folder was set up as a synced folder inside the client
 the spinner spinned forever

notes
 i have a database dump here
 i have all apache logs here
 i have the owncloudlog here
 i have a filesystem snapshot

if someone wants to help me with digging in the debris is welcome

access log

the rename

    get    


the access log filtered for the folder bilder


    propfind remotephpwebdavbilder   
    propfind remotephpwebdavbilder   
    propfind remotephpwebdavbilder   
    propfind remotephpwebdavbilder   
    propfind remotephpwebdavbilder   
    propfind remotephpwebdavbilder   
    propfind remotephpwebdavbilder   
    propfind remotephpwebdavbilder   
    propfind remotephpwebdavbilder   
    propfind remotephpwebdavbilder   
    propfind remotephpwebdavbilder   
    propfind remotephpwebdavbilder   
    propfind remotephpwebdavbilder   
    propfind remotephpwebdavbilder   
    propfind remotephpwebdavbilder   


nothing special in phpfpmlog or apache error log

the folder is successfully renamed in database and in the filesystem but all database entries are gone files are still there in the filesystem just a forced rescan with the occ command line tool was able to get them back into the database browsing the folder in the web ui didnt trigger the update of the file cache

 for the user without admin rights its not possible to get back the data from the server its simply not shown

i will try to investigate further and try to reproduce 

cc karlitschek  fyi could get a showstopper soon  i opened this ticket to document my process",TD,TD
83,i have no idea where it should sit ocp or appframework but its missing forcing app devs to use private apis which makes their apps noncompliant,TD,TD
84,i have no idea where it should sit ocp or appframework but its missing forcing app devs to use private apis which makes their apps noncompliant,TD,TD
85,"i realized that the dummy ocwebroot that is specified in the js unit tests is wrong
the current one contains the host name but in reality it is supposed to only contain the context path no host

but changing it directly breaks many tests so it might take a while to fix

also some paths like images might still need an existing path to continue working because the karma server serves them
",TD,TD
86,"need to find an easy way to supply them configappset does not suffer from this problem as all values are strings there

values that can not be set correctly directly atm
php
  loglevel  
  filelockingenabled  true
  redis  
  array 
    host  
    port  
    timeout  
    dbindex  
  


as a work around import can be used but that is not really what we want to do
",TD,TD
87,"jquery tipsy is unmaintained  does not work with up to date jquery which forces us to ship jquerymigrate and has several bugs that are not present in the 

migrating should not be hard most of the time it will only amount to replacing

    elementtipsy

with

    elementtooltip

 jancborchardt lukasreschke  morrisjobke ",TD,TD
88,"not sure if this is in scope of core or rather automation

thing is the external storage app is able to run tests against different backends currently all disabled but can be run locally

it would be good to have such similar tests that can be run against a test ldap instance

blizzz what do you think ",TD,Not_TD
89,"during install we are using mysqlconnect which has been deprecated with php  we should migrate to pdo for all db connections where possible at least pdooci is still experimental

furthermore driver options which are eg needed to set up an ssl encryted connection to a mysql server should be respected for the initial set up as well as for post install doctrine connections

  during installation replace mysqlconnect with pdo or maybe even  if possible
  the db availability checks need to be changed 
  pass additional driver options to the connection during installation as well as post installation

ref 
ref ",TD,TD
90,some instances of the hook are labeled prelogin unsure which is the correct one,TD,TD
91,"problem
there are two class definition depending on whether we are on windows or not there should be only one class definition on windows an instance of mappedlocal should be used otherwise local

problem
the inheritance has the wrong direction mappedlocal is a local storage with a path transformation and thus should extend class local instead of the other way around

",TD,TD
92,"deprecation warning tipsy is deprecated use tooltip instead

replace all usage of tipsy with tooltip in the javascript code
",TD,TD
93,"

tldr the approach wont work since we sometimes need to prewrap storages but still have them correctly wrapped by the filesystem instead we need to fix the unit tests that were causing this bug",TD,TD
94,"we should at least log an error if an activity extensionconsumer was registered but then ignored
because it didnt implement the interface similar to my suggestion on the capabilities sutff


consumer 
extension 

this helps developers to find out quicker why their code is not workingexecuted",TD,TD
95,"i am currently struggling a lot because it is close to impossible to cleanly synchronise model state between different views

as of now we have not only the file list containing a representation of a file model but also the right sidebar this is shouting for proper mv and for that id like to port the filelist class to backbone js

it would look like this
 fileinfomodel is a new model that contains file information the format file info arrays
 fileinfocollection contains an array of fileinfomodel
 filelist class becomes filelistview and accepts a fileinfocollection
 any change  file action done from either the file list controls bar or side bar will be done directly on fileinfomodel
 any view that displays the state of a file will listen to fileinfomodelonchange  events and update themselves to reflect the latest changes
 file actions are done directly on the model and could be rewired later to use webdav instead of the ajax endpoints  

this is what i am currently missing with the sidebar actions one example is the star icon from the favorite file that needs to be displayed and actionable in both a file row and sidebar

see 

care needs to be taken to keep the subclasses of filelist compatible like trashbinfilelist and the sharing overview lists

cc blizzz ",TD,TD
96,"currently the fileactions api action handlers require the following information
 file the file element in the file list
 filelist file matching filelist instance
 filename name of the file
 dir directory of the file

this creates tight coupling of file actions with a file list
this means that it is not possible to trigger file actions with only a file path for example 

also many file actions are triggering visual stuff on the filelist remotely or calling methods on the filelist

now if we want to have fileactions available in other apps like galleryplus they cannot depend on the filelist class which doesnt exist there if it does it means the galleryplus app must implement the thumbnail list using an interface similar to filelist

also fileactions may be rendered differently in other apps including the way how file actions affect the ui for example renaming triggers a rename box which rendering would be dependent on how the file list looks like which might be different in galleryplus

so in the end fileactions needs to be more abstract it should be just a collection of actions with the matching action handlers

i even wonder if the action handler functions should rather be registered from outside and then fileactions would trigger an event then from outside the file list could just listen to an event fileactionsonactionrename and then do whatever it is supposed to do

third party apps must still be able to add their custom actions to files for example an action lock to exlusively lock the file for the current user which means some action handlers would still come from the outside but the action itself might not be compatible with the currently rendered list if it contains any ui element that is different from the regular file list

so im not sure yet how to handle this needs further thinking

now that we have the right sidebar in the files app we want to be able to trigger file actions from there since file actions require a file list it means the sidebar needs to receive the filelist object too this is not acceptable if we want the sidebar to be reusable in other contexts where no filelist object is available like the galleryplus app

cc oparoz for some input
",TD,TD
97,"deprecation warning tipsy is deprecated use tooltip instead

replace all usage of tipsy with tooltip in the javascript code
",TD,TD
98,"we have methods to get the data and user folders but afaik when we need to get the server root to fetch data from the tests folder per example then we dont have anything in the public space

should there be a way or are we happy letting apps use private apis in their tests

 lukasreschke raydiation ",TD,TD
99,"we need a hook manager in the server container which allows registration of hook listeners with delayed loading of the explicit listener

something like in the activity manager

",TD,TD
100," requires a non static mail interfaceclass to mock it

ref ",TD,Not_TD
101," extending the activity manager

the managers publishactivity method needs two new parameters objecttype string and objectid int
which are used to filter the list of activities eg in the right side bar to a given object file  id
possible solutions
 dont change the interface
 change the interface

 dont change the interface

positive
 interface is kept stable
 feature is still available

negative
 interface does not match the signature of the implementation this might be problematic when dealing with mocks in unit tests which are generated from the interface
php
	public function publishactivity type priority

vs
php
	public function publishactivity type priority objecttype   objectid     




 change the interface

positive
 interface matches the signature of the implementation
 feature is still available

negative
 interface is broken zap  but lets be honest there shouldnt be any other activity manager implementations out there apart from unit tests which mostly rely on the interface instead of the implementation when they use a mock

 suggestion

my suggestion would be changing the interface it keeps the code cleaner and the risk to break anything is quite low id say



 extending the activity consumer

similar to the manager the consumer also needs the new arguments on the receive method
possible solutions
 dont change the interface see above
 change the interface see above
 new add a second interface  or 

 add a second interface

positive
 interface is kept stable
 feature is still available

negative
 calling the consumers is more complicated
php
	public function publishactivityapp subject subjectparams message messageparams file link affecteduser type priority objecttype   objectid   
		foreachthisgetconsumers as c 
			if c instanceof iconsumer 
				creceive type priority
			 else 
				creceive type priority objecttype objectid
			
		
	


 suggestion

my suggestion would be to use solution  here again as the only known iconsumer is again the one from the activity app itself which would be updated immediately




 extending the activity extension

in case we change the iextension interface my suggestion would be to use the solution  there are quite a number of extensions out there and we want people to keep using it i have currently two changes on my mind which make developing an extension easier for app devs but for now they are not needed just nice to have opposed to the iconsumer and imanager changes which we need for the right sidebar feature

 awaiting your comment",TD,TD
102,"after the update to  i see tons of these lines in the error log


error 	php 	openssldecrypt failed to  decode the input at  	
error 	php 	openssldecrypt failed to  decode the input at  	
error 	php 	openssldecrypt failed to  decode the input at  	 


worrying and the whole system is suddenly very slow any clues",TD,TD
103," env

oc 

 steps to reproduce

 go to app manager
 enable an app which doesnt make any modification to the database
 go to files

 expected result

nothing should happen or if you have to ask the user to upgrade for some reason then make it clear that this is about an app

 actual result

the user is presented with a page telling him that his owncloud version xy should be upgraded to version xy the exact same version it is confusing
",TD,TD
104," extending the activity manager

the managers publishactivity method needs two new parameters objecttype string and objectid int
which are used to filter the list of activities eg in the right side bar to a given object file  id
possible solutions
 dont change the interface
 change the interface

 dont change the interface

positive
 interface is kept stable
 feature is still available

negative
 interface does not match the signature of the implementation this might be problematic when dealing with mocks in unit tests which are generated from the interface
php
	public function publishactivity type priority

vs
php
	public function publishactivity type priority objecttype   objectid     




 change the interface

positive
 interface matches the signature of the implementation
 feature is still available

negative
 interface is broken zap  but lets be honest there shouldnt be any other activity manager implementations out there apart from unit tests which mostly rely on the interface instead of the implementation when they use a mock

 suggestion

my suggestion would be changing the interface it keeps the code cleaner and the risk to break anything is quite low id say



 extending the activity consumer

similar to the manager the consumer also needs the new arguments on the receive method
possible solutions
 dont change the interface see above
 change the interface see above
 new add a second interface  or 

 add a second interface

positive
 interface is kept stable
 feature is still available

negative
 calling the consumers is more complicated
php
	public function publishactivityapp subject subjectparams message messageparams file link affecteduser type priority objecttype   objectid   
		foreachthisgetconsumers as c 
			if c instanceof iconsumer 
				creceive type priority
			 else 
				creceive type priority objecttype objectid
			
		
	


 suggestion

my suggestion would be to use solution  here again as the only known iconsumer is again the one from the activity app itself which would be updated immediately




 extending the activity extension

in case we change the iextension interface my suggestion would be to use the solution  there are quite a number of extensions out there and we want people to keep using it i have currently two changes on my mind which make developing an extension easier for app devs but for now they are not needed just nice to have opposed to the iconsumer and imanager changes which we need for the right sidebar feature

 awaiting your comment",TD,TD
105," steps to reproduce
 create a file testtxt
 edit then save the file multiple times to create versions
 check versions in the versions dropdown
 check database select  from ocfilecache where path like testtxt
 delete file testtxt
 check database again
 restore file testtxt
 check database again

 expected result
at step  the versions are listed under filesversions in the database
at step  the versions are listed under filestrashbinversions
at step  the versions are back under filesversions

 actual result
at step  the versions are still under filesversions even though in the filesystem they are under filestrashbinversions
at step  the versions are now under filestrashbinversions even though in the filesystem they are back under filesversions

 versions
owncloud    and also on master 

this issue doesnt seem to break functionality but who knows what side effects it could cause

i remember that  added a change that made the scanner also work for filesversions and filestrashbin id expect that if the trashbin uses view operations the cache would update automatically schiesbn any idea 


",TD,Not_TD
106,ref ,TD,Not_TD
107,"a large number of bugs can be avoided by making dependencies explicit by using the dependency injection paradigm class dependencies are received via the constructor method dependencies are passed as method parameters

see



 examples for lack of dependency injection

database connection object

database connection object this is throughout the software
 
should depend on config object


 implications

 global variables need to go away static class properties are global variables with a fancy name
example 

 static methods need to go away there should be objects that can be passed around as dependencies
example 

 benefits

 no unexpected sideeffects
 easier unit tests usually mock all dependencies then create an instance of the class under test
 ",TD,TD
108,"main error is the use of multiple ids which actually should be used class  will happen to  to my knowledge should each page only once an id

",TD,TD
109,"currently the ftp ext storage is using a urlbased approach
it calls statftp fopenftp etc without keeping an explicit connection

it seems that this approach has many issues
 php cant get mtime for directories using the url approach neither with stat not with mtime  which makes it impossible to detect folder changes

 some php environments have stat failing for some unknown reasons   

we should maybe rewrite it to use ftpconnect instead which might provide a more stable and compatible connection

lets discuss  karlitschek  schiesbn

before going with a full fledged implementation we must try out whether the ftpconnect approach can solve the above issues",TD,TD
110,"  ldap wizard
  calendarcontacts needs to bring it their own versions 

blizzz jancborchardt ",TD,Not_TD
111,"currently apps need to register their cron jobs inside of appphp
the problem with this is that adding the jobs there will cause a insert if not exists every time the app is loaded even if the php request is not cronphp

we should provide a mechanism for apps to register cron jobs outside of appphp
one suggestion would be to add a method registercronjobsjobmanager in the application class and expect apps to override that method to register their jobs there

that method would then only be called by cronphp when really needed

nickvergessen as discussed",TD,TD
112,"   

while at it
   is for test purpose only  move to testslib
   is not really needed from my understanding  if at all this shall go into the dev docs ",TD,TD
113,"with a devicepixelratio of  the web gui is asking for  thumbnails but the css used to display those thumbnails has a hardcoded value of 

maybe some parts of the gui need the  thumbnails and its been designed that way in order to not have to generate both sizes if not we should decide whether there is room to show the  thumbnails or if we should ask for  thumbnails instead and fix all the scripts which ask for  thumbnails

jancborchardt  schiesbn  nickvergessen 



",TD,TD
114," has touched the preview class adding a new public method
it was merged despite the lack of test so im tracking this here to make sure they go in",TD,TD
115,"currently the sharing code is doing some manual calculations
this should be moved to use the newly added momentjs library to make sure there is no error in calculations especially when crossing dst
",TD,TD
116,"currently we render base templates with php and a combination of p printunescaped and translation calls that works quite well but still allows mixing in any php code into templates that can lead to all kinds of security issues because a simple print or echo is used furthermore we now have an  that allows administrators to customize the email templates from within owncloud currently the three templates are hardcoded but in the future a well known approach to templates should be taken to allow users to customize the mails or other aspects of their owncloud appearance an example may be personalized emails or public share pages without the risk of end users writing php that wipes all data

 together with the  extension should meet our requirements and is available via composer

to be done
  add twig to  via composer
  implement twig based templates in oc core
  add extraction of translatable strings for transifex we can look at wallabag to get an idea of 
  migrate templates to twig",TD,TD
117,"currently we have two code sections for the same api method and they are merged

 and


we should move all of the code into the provisioningapi app to cleanup",TD,TD
118,lets wait until randomlib has been bumped,TD,Not_TD
119,"the goal is to extract all apps currently residing in the apps folder in the core repository
instead every app should have its own repository and should be included into the core repo with git submodules

this modularization would reduce the time needed for testing because every app could run its own tests in parallel to other apps furthermore issues and prs could be created in the matching repo instead of gathering all of them in core",TD,TD
120,pretty cool polyfill for a lot of php functions ,TD,Not_TD
121,"since  the shared folder was renamed however there are some stray unit tests there that surprisingly pass


these tests need to be removed and replaced with the following
 test that directory creation works when allowed mock iscreatable to return true
 test that directory creation works when not allowed mock iscreatable to return false
",TD,TD
122,"wtf is going on here


      
      
      
      
 ssss     
      
      
      
      
      
      ",TD,Not_TD
123,"because we start using travis for some core prs now individual job execution times are more critical

once of the most critical are jobs which use oracle for unit testing
installing oracle taken most of the time

in addition we should switch to the container based infrastructure

",TD,TD
124,nan,TD,Not_TD
125,"we need a way for two of our apps to do stuff on a view level in cases files are readchangeddeletedetc

the first app blocks access ffw the second app will 

the problems with existing stuff
 webdav plugin
 apps work around it therefor access blockingauto tagging is not completly possible

 storage wrapper level
 to low level
 missing file id or full path in some actions

 hooks
 exceptions are killed so only run  false would be possible which is insufficient

now after some thoughts  and i came up with a new idea view wrappers
the view always contains the full path and its resolvable to an id

the only problem here is that currently all apps instantiate the class directly new viewpath
the idea would be to create a factory that hands out the view and takes care of the wrapping

cc    ",TD,TD
126,"i have an old setup updated from oc  now in version  there are some repair steps to remove old stuff during updates morrisjobke  but there are still some tables where im not sure to use them

  activitymq
  filesantivirus  still used by antivirus app 
  filemap  
  foldersize old partial data
  locks
  log
  metadata
  principals seems like old contact app entries there is also a new tables clndr  
  principalgroups  
  privatedata
  properties seems to be old data
  queuedtasks",TD,TD
127,"we need a way for two of our apps to do stuff on a view level in cases files are readchangeddeletedetc

the first app blocks access ffw the second app will 

the problems with existing stuff
 webdav plugin
 apps work around it therefor access blockingauto tagging is not completly possible

 storage wrapper level
 to low level
 missing file id or full path in some actions

 hooks
 exceptions are killed so only run  false would be possible which is insufficient

now after some thoughts  and i came up with a new idea view wrappers
the view always contains the full path and its resolvable to an id

the only problem here is that currently all apps instantiate the class directly new viewpath
the idea would be to create a factory that hands out the view and takes care of the wrapping

cc    ",TD,TD
128,see  ,TD,Not_TD
129,"
  move chunked handling into its own plugin
  write unit tests",TD,TD
130,"while reviewing   i noticed that our code base is often using like queries but not properly escaping special characters such as  or  this leads to all kind of different bugs and unpredictable behaviour

the easiest way to understand the impact is to mess with the file cache which calls  which in turns calls  which performs the following query
php
sql  select path fileid from prefixfilecache where storage   and path like 
result  ocdbexecuteauditedsql 
childentries  resultfetchall


sourcepath is the original file name and thus completely user controlled input

 create a folder test and upload a file bartxt to it 
 create a folder test with a subfolder foo and a file footxt in the subfolder
 create a folder newfolder and move the folder test to it

the file cache will now look like


fileidstoragepathpathhashparentnamemimetypemimepartsizemtimestoragemtimeencryptedunencryptedsizeetagpermissions













any special characters needs to be properly escaped as done for example in the news app 



proposed steps
 grep through all usages of like
 properly escape all wrong usages and assess the impact


 please triage",TD,TD
131,"while reviewing   i noticed that our code base is often using like queries but not properly escaping special characters such as  or  this leads to all kind of different bugs and unpredictable behaviour

the easiest way to understand the impact is to mess with the file cache which calls  which in turns calls  which performs the following query
php
sql  select path fileid from prefixfilecache where storage   and path like 
result  ocdbexecuteauditedsql 
childentries  resultfetchall


sourcepath is the original file name and thus completely user controlled input

 create a folder test and upload a file bartxt to it 
 create a folder test with a subfolder foo and a file footxt in the subfolder
 create a folder newfolder and move the folder test to it

the file cache will now look like


fileidstoragepathpathhashparentnamemimetypemimepartsizemtimestoragemtimeencryptedunencryptedsizeetagpermissions













any special characters needs to be properly escaped as done for example in the news app 



proposed steps
 grep through all usages of like
 properly escape all wrong usages and assess the impact


 please triage",TD,TD
132,"next sabredav has been released

to ensure support from sabre it should be upgraded ",TD,Not_TD
133,"i have oc running on a server  using nginx the data directory resides on another server storage   and is mounted via nfs
deleting a big file eg of  size takes quite long investigating this behavior i realized that utilization is very high but no cpu is used tophtop
iotop on  shows initial writing activity for the first  secs than nothing no cpu then as well but load climbs as high as  but is  in idle

just checked with a folder containing  files  in sum and it tool  mins to delete the file via webinterface different devices showed the filesfolder being still available webinterface for that time

connection betw  is  and usually is not fully utilizable so it might be possible that the file gets fetched before it gets deleted

what is happening in background there 

both  are running in vms on different phys hardware oc vers btw is ",TD,TD
134,"currently we rely on pure luck that the tokens we generate for link shares are unique now this is most likely the case but not at all guaranteed probabaly bad stuff happens if we have duplicated tokens

 we should use transactions to verify the insert and rollback if required
 this is probably also a good health check candidate cc morrisjobke 

cc lukasreschke ",TD,TD
135,"currently the user management page has its own private rest endpoints

to reduce the number of code paths to cover when testing it would be nice if that page could directly use the ocs provisioning api endpoints instead

lukasreschke sergiobertolinsg tomneedham blizzz morrisjobke ",TD,TD
136,"currently the user management page has its own private rest endpoints

to reduce the number of code paths to cover when testing it would be nice if that page could directly use the ocs provisioning api endpoints instead

lukasreschke sergiobertolinsg tomneedham blizzz morrisjobke ",TD,TD
137,"not sure why we are triggering a background scan from the js side with ajaxscanphp 
this should probably be moved to a cron job instead

 lukasreschke  what do you think 
",TD,TD
138," remember that currently the etag propagation code is abusing the ocappconfig table for propagation purposes we should move these values to a proper table instead

cc sergiobertolinsg who asked about these",TD,TD
139,"in a restful design a url should be a resource
on owncloud apps can be found in apps

appspaths allows admins to modify the url where to find some apps and that goes against the convention and breaks things 


appspaths  array
	array
		path varwwwowncloudapps
		url  apps
		writable  false
	
	array
		path varwwwowncloudmyapps
		url  
		writable  true
	



the url parameter should be dropped and writable is up for removal discussion since owncloud can figure out by itself if a directory is writable
",TD,TD
140,nan,TD,Not_TD
141,"possible since 

",TD,Not_TD
142," we should look into permanently setting up tools for finding duplicate code as copy and pasting code seems to be very common practice in the owncloud code base

 we should establish that pull requests introducing massive duplication are not acceptable

 we should get rid of any code duplication already present

duplicate code causes problems as such purpose masking and update anomalies see 

sometimes the duplicated blocks are even next to each other eg 
php
		if issetserver
			 pregmatchbasicsi server matches
		 
			listname password  explode  
			server  striptagsname
			server  striptagspassword
		

		set http auth headers for apachephpcgi work around if variable gets renamed by apache
		if issetserver
			 pregmatchbasicsi server matches
		 
			listname password  explode  
			server  striptagsname
			server  striptagspassword
		
",TD,TD
143,"

the webinterface allows us to set create permissions on files this does not make any sense since on the fs files do not even have create permissions so we increase the permissions for a shared file i also would have no idea what this would mean

the old sharing code actually happily allows you to set create permissions however nothing bad usually happens since the actions create gives you are not valid for files anyway

we should remove the craete permissions from the webinterface

cc  ",TD,TD
144,"ocsubadmin is static and thus it is an absolute pain to write unittest for code that includes it this is kinda bad when it comes to write unittest where a function may behave differently when the user is an admin or an subadmin

when touching the ocsubadmin code  for example for   i strongly suggest that we refactor the same code as well currently we just cannot test a lot of security relevant code due to that 

cc  fyi",TD,TD
145,"



 is there any chance to combine those two",TD,Not_TD
146,pretty cool polyfill for a lot of php functions ,TD,Not_TD
147,"were sending mixed signals to admins by saying most  while at the same time keeping them in core

now that providers can exist in apps all these unsafe providers pdf svg office etc should be removed and users should seek alternative ways to generate their previews

lukasreschke karlitschek  morrisjobke rullzer 
",TD,TD
148,"the ocsync large file upload rate drops in function of the number of chunks
  with  file i am getting some 
  with  file the rate drops to 

below you have the callgraph of what happens on the server when a chunked put is handled for  chunks note that some functions are called  times  so the exact number of chunks

as in the case of  the ocfilesview kicks in and does something crazy i would consider not triggering any view related functionality for core file operations and postpone it until it is needed or run it asynchronously cron




",TD,TD
149,"hello

owncloud  local mysql redhat enterprise 

the ocsync client upload is very slow because propfind execution time is prohibitive as the number of files per directory grows large the bug is triggered when a file is simply added to the local folder for the first time the propfind request performed by the sync client triggers a scan of all files in the directory this should not happen because the local folder was synced already this results in an avalanche of selects on the database stats on the storage and opens on the storage because the scan involves also the determination of file mime type by reading first  bytes of each file the chunked upload may also be a victim of this bug at a certain point php script is timing out while handling propfind request



strace of the httpd worker process all files are filled with null bytes which keeps on repeating over  times during the propfind handling

   fileid storage   
     
  rok  
  rok  
      
 statvarwwwhtmlowncloudlibmimetypeslistphp     
      
      
      
  ordonly  
      
   seekcur   
      
      
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
     
   seekset  


",TD,TD
150,"so far we seem to have lots of classes and interfaces just to read the config some legacy and some new

we need to clean up this mess

here are a few


  iconfig
  ocpreferences
  iappconfig
  occonfig
  ocappconfig

 which ones do we want to keep and which ones should go ",TD,TD
151,"xml
	
		
		
	


app type filesystem should not be used here just to avoid the enable for group feature if that is needed a new type should be added but using type filesystem will cause the app to be loaded in various scenarios where it is not needed eg webdav",TD,TD
152,"examples of large classes only containing static methods that are not 
really related to each other



this code should be in individual helper classes which are used as 
objects such that they can be easily mocked in tests",TD,TD
153,"example



ocutilsetupfs
",TD,Not_TD
154,"when the autoloader currently receives a class to be loaded it generates an array of possible paths that class may be found in furthermore it uses streamresolveincludepath to resolve these paths this leads to a lot of unncessary does that file exist checks and provokes issues like 

to fix this problem the autoloader should be made entirely deterministic that means given a class name the autoloader should take that class name and transform it into a file path deterministically without looking at the filesystem only this single file should be tried to be loaded
if the file does not exist an error should be generated either hard by just using require or soft by performing fileexists on that single file
furthermore the owncloud autoloader should not make use of streamresolveincludepath this should only be necessary for legacy libraries these can probably be loaded via the composer autoloader which ensures only necessary paths are traversed

please note that deterministic does not mean that different prefixes can not be used it will still allow mapping the ocp prefix to the libpublic folder and oc to the libprivate folder",TD,TD
155,nan,TD,Not_TD
156,"currently there are two ways to mount an external owncloud folder
 using server to server sharing
 using the owncloud external storage backend

these are using different code paths to do similar operations
the server to server sharing code happens in the dav class 
while the owncloud backend is here 

the purpose of the owncloud external storage backend is to take advantage of owncloud features that might not be available in regular webdav mounts like
 change detection through etags
 disable encryption for remote storage
 chunk upload yet to be added 

i think we should make server to server sharing based off the owncloud storage backend then improve that one so that both mechanisms benefit from it

 xenopathic schiesbn ",TD,TD
157,"upstream is up to  oc is still shipping 

unfortunately i dont seem to have access to an openstack instance with working swift no im not doing trystack until i can do it without facebook so i cant send a pr as i cant test it actually works but looking at the changelog none of the object store related changes between  and  read like they would break bc so it may well just be a dropin",TD,Not_TD
158,"there are many places in the code where the current user is read out of iusersession or ocpusergetuser this is dangerous because it assumes that the currently logged in user is also the one we are working on

in the case of background jobs versions expire etc there is no user in the session but we still need to apply changes for a given user  see 

this is why we need to always inject the user instead of getting the one from the session

cc lukasreschke",TD,TD
159,"need to find an easy way to supply them configappset does not suffer from this problem as all values are strings there

values that can not be set correctly directly atm
php
  loglevel  
  filelockingenabled  true
  redis  
  array 
    host  
    port  
    timeout  
    dbindex  
  


as a work around import can be used but that is not really what we want to do
",TD,TD
160,"currently the csrf check is performed within the request class ocappframeworkhttp passescsrfcheck which is very weird and should be moved to a better place such as 

",TD,TD
161,"there are several things wrong with our  classesmethods

  the  has no public interface and there for can not be used by apps 
  the public interface is missing a stub for some of the methods
  the  class should be using a namespace
  the methods related to guessing the language should be moved to the factory
same applies to all find exists and force methods aswell
  the  class should not have a static method get instead the factory should be used
  t should return a string instead of a  object by default for saver usage 

 
",TD,TD
162,"ubuntu  mysql  php  nginx  owncloud from git master cloned via ocdev minutes ago no adoptions on the code cloned

after i finalized the installation i looked for any errors whic may have been logged there was only one

error	 php fopenxxxconfigconfigphp failed to open stream no such file or directory at ",TD,TD
163,"since at least oc  we compute the mime type based on the files extension instead of the old slow finfo approach which didnt work well on external storages

we still have the ocmimetypes table and that table is kept up to date by repair scripts when new mime types are added

how about just removing that table and compute the mime types on the fly based on the files extension  are there any code paths that cannot use this approach 

karlitschek   oparoz nickvergessen morrisjobke ",TD,TD
164,"

 is merged now 

somthing like ocpsharesetpasswordshareid password should do the trick

cc lukasreschke rullzer ",TD,TD
165,"i think it become more and more clear that we need to improve the share api in a way that makes it no longer possible to keep the api stable there is just to many old broken and confusing stuff just one extremely confusing example the sharewith parameter in shareitem is used for the password for public link shares also other stuff we want to change anyway will result in large changes eg reorganizing the reshare behaviour  so we should take the chance and do it right

possible target release 

suggested way forward

we implement a share api  and make sure to migrate all apps in time files calendar and contacts depending on the changes to the database structure we can deprecate the old api and keep it around for  releases but i think if we manage to upgrade all the apps in parallel this wouldnt be necessarily needed and would make changes to the db probably a lot easier

what should change

  move away from the static classes
  share api should not care about share type at the moment there are a lot of if sharetype foo then  else  this shouldnt be there
  share table shouldnt distinguish between itemsource and filesource and stuff like that for the share apitable exerything should be a item period
  the api should become a lot easier the api should mainly readwrite the shares to the table everything else should be handled by the backends because only the backends know the best way to handle their share types
  ideally the api will come with a ocsrestwebdav api needs to be decided and can also be added later
  

i think this way we will reduce a lot of complexity improve performance and make the code maintainable again also the new api should be more fun to use than the current one",TD,Not_TD
166,"this is just a dump from the irc log how could a possible sharing work hanswurst asked and that was a possible way to enhance the sharing


php

abstract class shareprovider extends ocpappframeworkdbmapper 

    protected type
    protected db

    public function constructocpidb db type 
        thistype  type
        thisdb  db
    




class share extends ocpappframeworkdbentity 
    protected share
    protected link
    protected users
    protected groups


class fileshare extends shareprovider 
    public function constructocpidb db 
        parentconstructdb file
    


folder  rootgetpathtofolder
folder  rootgetpathtofilexml

fileshare  new filesharedb
filesharesharewithgroupsfolder 
share  filesharesharewithusersfile 

link  filesharecreatepubliclinkshare
fileshareremovepubliclinklink

sharedusers  filesharegetusersfolder
sharedgroups  filesharegetgroupsfolder
fileshareremovesharefromgroups
fileshareremovesharefromusers


cc raydiation   schiesbn lukasreschke 



  would be the outcome if you would implement sharing with entities and mappers
  the shareprovider baseclass would implement all the important sql queries that are reusable in the child class
",TD,TD
167," maybe we should try to do a join and limit the statement to  cleanups and do it simply more often



just an idea how to make this command more useful and still clean things up",TD,TD
168," maybe we should try to do a join and limit the statement to  cleanups and do it simply more often



just an idea how to make this command more useful and still clean things up",TD,TD
169,"currently the ocstorages has no real unique database id but requires the php code to build ids on the fly

here is how the ocstorages table looks like

mariadb  select  from ocstorages

 id                                     numericid 

                  
 homeroot                                       
 localsrvwwwhtdocsownclouddata            



first the id column must be computed in php based on the following logic
 if were looking for the storage of user someuser then the id will be homesomeuser
 if were looking for the entry of a specific external storage the id is computed based on a custom algorithm which depends on the external storage backend for example smb would generate an id like smbuserhostrootpath

additionally if the ids length is bigger than  characters then the  of that id will be used



the current schema is troublesome because
 reverse lookups by id are not possible when the  function kicks in it is not possible to get the user id directly one needs to iterate over all users imagine ldap with millions of users to find out to who this storage belongs
 we already have another id called numericid why not use that instead 

  does anyone know why we have these string ids in the first place 
why not use the numericid  every user could have a ocpreferences entry mapping them to a given storage this would prevent strange and bad issues like the legacy storage  data dir moving issue 

what speaks against discarding the storage id string column and working only with the numericid 
we cannot rely on the storage id column to detect duplicate mount configurations from external storage

i suggest to do the following
 get rid of ocstorages if not at least get rid of the id column and use a purely numericid based access
 every user gets a storageid in their ocpreferences table that points to their home storage id this way there will be no more slippages legacy storage issues with lost shares etc
 the external storage mount configuration mountjson will also be extended with a storageid parameter that points to the id of the matching storage that id is created as soon as the mount point is added
 optional move mountjson into a table  are there may use cases for that file 
 optional add a column owner to the ocstorages table which could make resolving file owners from shares easier instead of having to jump through hoops

what do you think ",TD,TD
170,"code like this is just unreadable and difficult to extend 

the external storage mount points are stored with multidimensional arrays
php
mounts


this needs a lot of code gymnastics to get to the right information and it also increases the risk of misunderstanding and introducing bugs this way

i suggest to provide a new class to contain that data like
php
class mountpoint 
    private type  personal or system
    private applicable  array of usersgroups to which the mount point applies
    private mountpath  path to the mount point in the users file system
    private priority
     



hopefully in 

 xenopathic ",TD,TD
171,"curerntly we just store the avatars in avatarjpg or avatarpng while this is simple it also has certain drawbacks like the bug we hit with 

further more it would be great to also get avatars of trusted ownclouds locally since we have the vcards anyway

 we should rethink where and how we store avatars we should still cache generated avatars
 we should actively start caching avatars client side
   allow caching of avatars at least checking validating by etag
   your own avatar should be very limited cached since you can update that and want that to be reflected fast
   other users avatars can be cached much longer
 our avatar javascript code has become somewhat big and unefficient
   we should start using promised so each avatar is really only checked once per page load

so basically we should rethink our avatar handling in general

cc   ",TD,TD
172,"whenever the following happens
 maintenance mode is enabled http 
 server becomes unavailable http 
 user is logged out session expired
 server has intermittent connection issues http  or others

if it happens during an ajax call the error isnt always caught and processed properly so the user might see strange behavior

one idea would be to implement global ajax handlers using  and provide a default mechanism for when  is returned or whenever the user gets logged out

it might not work for all apps so apps might still need to do special handling in other cases

nickvergessen you had a ticket about the files app looping if i remember well  please link it here

butonic blizzz did some preliminary work on catching errors

cc lukasreschke fyi",TD,TD
173,currently there are multiple pieces of code that use their own routine to encrypt credentials  we should migrate those over to ocpsecurityicrypto,TD,TD
174,"we have a bunch of settings around sharing on the admin page atm

and the most important question is whether allow apps to use the share api is really what we want to have question 

should that option prevent sharing a calendar addressbook etc or should this setting state that its only about the filesharing api

 schiesbn rullzer karlitschek ",TD,Not_TD
175,"we started using more and more eventdispatcher events
i think it would be nice to document the names

 to make it visible which events exist
 prevent duplication of event names
 to prevent typoscasing issues in the event name constants eg
 make it clear that events are somewhat public api and should not be changed

 

either in code libpublic or in the developer docs docs allow for better comments while code allows reusage of constants etc",TD,TD
176,"if we had to write it again from scratch i have the feeling that the file scanner  cache would probably be implemented differently the current one is mostly evolved from earlier versions

things that we need the file cache for
 storing the metadata mostly of external storage
 being able to detect changes on the file system mostly for external storage
 be robust support a high level of concurrency
 propagate changes in the form of etags
 propagate the size to compute folder sizes
 somehow support mount points

what kind of different approach could be used to achieve these 
would an event system of some sorts help 
should the scanner be running in its own process instead of concurrently 

 did you ever dream of a better file scanner  how would that one look like ",TD,TD
177,"php
now delete
foreach files as file 
	if ocfilesfilesystemfileexistsdir    file 
		ocfilesfilesystemisdeletabledir    file 
			ocfilesfilesystemunlinkdir    file
	 
		fileswitherror  file  n
		success  false
	




ocfilesfilesystem has two methods for deleting objects—unlink to delete files and rmdir to remove directories—which are forwarded to the view and then to the underlying storage if the storage then implements unlink using phps unlink function deleting a directory will fail this forces the storage to perform an isdir test within unlink and forward to rmdir for directories",TD,TD
178,"fix the cause of  

there are separate  test data files are used maybe the actual  files which are generated from the transifex data should beused to detect the issue early",TD,Not_TD
179,"from irc


  vincent the buildjsdocssh script it is needed in a servers installation
  vincent its in git in core
  and makes packaging of the nightlies fail
  klaas i dont think so
  klaas it just generates the js docs
  morris it would be nice if you had a directory in git that contains all the tools you dont need on the server
  something like tools or contrib or so


cc   ",TD,TD
180,"why benefits

 maintenance of the git submodule is causing some overhead
 vendor javascripts will all be pulled into core repo into corevendor using bower
 composer already used in  repo can do the same for php libs 
 remove  folder detection code

objections question  karlitschek craigpg   schiesbn butonic bantu 

",TD,TD
181,"some tasks for the next round of clean up for the sharing api

  the sharing table distinguish between filesourcefiletarget and itemsourceitemtarget this shouldnt exists from the share api point of view it should always be a item for files we store file ids and paths in the column other shares store their identifier this way we can get rid of a lot of if itemtype  file  itemtype  folder    else    code the share api should be a general api and shouldnt make such distinctions  

  while creating a share target the share api shouldnt create a exclude list let the generatetarget method from each backend handle it eg the file backend checks the filesystem directly with fileexists will remove a lot of overhead and complexity

  unused parameters in libprivatesharehelperphp see fixmes

  check the uses of getchildren at the sharing backend for performance reasons files already has a workaround in libprivatesharesharephp calling getparents instead  probably the whole logic to detect if the share is part of a already shared collection should be moved to the backend only there we can implement performant solutions for every use case",TD,TD
182,"the workaround added with  uses manual streaming for object storages and thus the filesystem can get bypassed

this requires us to maintain workarounds like  to ensure that the cache is always consistent 

we should make sure to always use the filesystem instead of manually stream copying in owncloud

ref  

cc   ",TD,TD
183,"im asking because there are lots of similar more business oriented uses for file related meta data and it looks like duplicating the comments app and the comments manager would currently be the best option to manage properties such as as notes signatures read status etc but that seems to be a waste of effort and could lead to problems down the road if all the different implementation were slightly different

karlitschek mtrichards   morrisjobke schiesbn  rullzer nickvergessen ",TD,TD
184," remember that currently the etag propagation code is abusing the ocappconfig table for propagation purposes we should move these values to a proper table instead

cc sergiobertolinsg who asked about these",TD,TD
185,"see 

apparently it was possible somehow to share your root directory at some point we should on upgrade check for such shares and remove them

note that at least on  i verified that it is no longer possible to create root shares",TD,TD
186,"we have a lot of methods to generate urls
iurlgenerator util 

the problem of that is that some of them are not used the way they should be used
eg
php
	
	  makes an url absolute
	  param string url the url in the owncloud host
	  return string the absolute version of the url
	 
	public function getabsoluteurlurl 

the problem is most of the time the method is not called relative to the host but to the owncloud root in fact in earlier versions the url had to be relative to web root until the method was patched to work magically 

but the magic breaks currently for ocs links when your owncloud is installed in oc or ocs   we can fix it with a workaround so it works in oc but ocs is not really possible to fix

we should deprecate all the existing methods and then define wellformed methods which clearly state what to use and not allow any other way
",TD,TD
187," provide a proper interface for the user backend to be implemented
 currently you need to implement some stuff of ocpuserinterface which should be named userbackend ocuserbackend and some magic methods that are defined here 


we should move all of the implementsaction magic into proper interfaces that then could be checked on a language level rather than some magic methods that return a binary string to announce what is implemented

cc blizzz butonic we talked about this already",TD,TD
188,"you cannot set mbstringfuncoverload in htaccess or userini see this for details


lukasreschke morrisjobke ",TD,TD
189," having servera and serverb
  shares a folder to 
  accepts the share
 internally we create a storage with filecache entries in the db
 somehow a unshare happens either  removes the share or  unmounts the share

 expected behaviour

 storage and filecache entries are removed

 actual behaviour

 storage and filecache entries are still available


this was reported yesterday by 


 schiesbn rullzer  is there any reason to keep this data i think this could be removed easily",TD,TD
190,"can we bump jquery in owncloud to  or even better  the current version used by owncloud is not the latest stable and uses deprecated notably though  would not work with ie  but maybe thats a good thing as it pushes the web forward eitherway though a bump to  would be great in the next maintenance release

might aswell also bump any other external libraries to their latest stable",TD,TD
191,"currently owncloud tries to read the csrf token from get and post per default  while this is perse not a security bug this creates another attack vector

due to the sameoriginpolicy websites on another domain cannot send arbitrary headers to other sites however they can pass arbitrary post or get parameters

we should per default only read the requesttoken from the header and give the app developers to optin incase they want to read this also from other sources this could be done using the appframework

probably we may encounter some problems with the eventsource…",TD,TD
192,"currently while runnning integration tests several carddav exception are thrown with every step

this creates a lot of noise in the output of the tests will be better to have it silenced

 exception exceptionsabredavexceptionbadrequestmessageunknown property   ocadavcarddavcarddavbackendcreateaddressbookprincipalsuser contacts     calluserfuncarray   ochookemitocuser postlogin   ocserverocclosureobjectocuseruser   calluserfuncarrayobjectclosure   ochooksbasicemitteremitocuser postlogin   ochookspublicemitteremitocuser postlogin   ocusersessionlogin username and password replaced   ocuserlogin username and password replaced         calluserfuncarray      

",TD,TD
193,"currently while runnning integration tests several carddav exception are thrown with every step

this creates a lot of noise in the output of the tests will be better to have it silenced

 exception exceptionsabredavexceptionbadrequestmessageunknown property   ocadavcarddavcarddavbackendcreateaddressbookprincipalsuser contacts     calluserfuncarray   ochookemitocuser postlogin   ocserverocclosureobjectocuseruser   calluserfuncarrayobjectclosure   ochooksbasicemitteremitocuser postlogin   ochookspublicemitteremitocuser postlogin   ocusersessionlogin username and password replaced   ocuserlogin username and password replaced         calluserfuncarray      

",TD,TD
194,"depending on the clients request in case of errorexception the server has to respond with the expected content type

following content types are to be returned
 html with our nice error page 
 json or xml for ocs requests
 xmlwebdav on the webdav endpoint
 json on our ajax request

how to determine the right content type
 respect the request header accept 
 extract the expected content type from the url  eg  will not work for us
 apply heuristics based on the entry point

todo
  remove all printerrorpage from the code and throw an appropriate exception
  remove all header calls from the code and throw an appropriate exception
  catch these exception in the root controller files indexphp publicphp and remotephp
  generate the proper response in the root controllers
  add some logic to detect the response eg we can detect webdav requests
  add accept headers to all ajax calls   needs research because some browser seem to cause issues  in this case we better add our own header

  karlitschek craigpg dragotin danimo ",TD,TD
195,stuff like eg ,TD,Not_TD
196,"the current jobs table only allows up to  characters in the arguments column
the problem is paths in owncloud can be up to  characters so when you use the argument column for a path you can not store any other information anymore
also since the information is also jsonencoded you cant even store a path of maxlength

 ",TD,TD
197,"after debugging the watcherscanner i noticed that at the end of the scan session it will call cleanfolderpath and will iterate over all cache entries inside that folder and call fileexists to find out whether the file still exists

as far as i understand diffing the children of a folder is already done in scanchildren so not sure why it has to be done again here

 can you clarify  can we get rid of this extra cleanup to gain some performance 
",TD,TD
198,"i upgrade some hours ago to  and cannot see any files and folders and the sync nor a webdav client cannot connect

steps to reproduce
 upgrade from  to 

expected behaviour
files should be visible

actual behaviour
no files and folders visible other apps like calendar and contacts are working but slowly loading the contents

server configuration
operating system debian  
web server apache 
database 
php version 
owncloud version see owncloud admin page 
updated from an older owncloud or fresh install updatet from 
owncloud log dataowncloudlog 

 while running background job class ocbackgroundjoblegacyregularjob arguments arraynn      ocanewscronupdatern      runnn exceptionocpautoloadnotallowedexceptionmessageautoload path not allowed 
  ocautoloaderisvalidpathvarwwwownclon
  ocautoloaderloadocanewscronun
  splautoloadcallocanewscronun
  iscallablearrayn
  ocbackgroundjoblegacyregularjobrunarrayn
  ocbackgroundjobjobexecuteobjectocbackgroundjobjoblist objectoclogn
 
",TD,Not_TD
199,"we do some really fancy and slloooooow magic when locating js files added with ocutiladdscript the following paths are added for instance

 jschosenjs
 newsjsappjs

then in order to locate the file we loop over all possible directories and figure out if the file exists why cant we simply construct a valid path like

 corejschosenjs
 appsnewsjsappjs

inside the addscript method

  lukasreschke morrisjobke ",TD,TD
200,"we should start to enforce a non  and  rule when merging pull requests to avoid string comparison bugs php casts strings to ints if possible when using  and  comparison operators meaning that

  

this can lead to crazy bugs and can lead to data loss all while being extremely hard to debug we should also migrate all occurrences to their  and  counterparts

source 


ps   suffer from the same problem but are usually not used for string comparison

 morrisjobke lukasreschke nickvergessen  karlitschek ",TD,TD
201,"since  the irouter class is depracted by lukasreschke since well there is no real need to expose this to the big scary outside world

however it is still referenced all over the place almost all apps etc we should clean this up properly",TD,TD
202,"i added  users to a group  and then shared a folder with the group stupid me
it now creates  views and checks whether the folder exists etc

the request for the share finished now after  minutes snail 
this should happen asyncronous or be quicker lightweighter in general somehow if possible ",TD,TD
203,as per ,TD,Not_TD
204,"
karlitschek  

looks like we currently have a limitation on the folder structure depth we can handle due to phps max recursion handling

we could either limit ownclouds folder depth or replace all recursions with different implementations

open question
  is the max recursion count a matter of configuration or php compile option bantu any idea

php
empty test suite
php fatal error  maximum function nesting level of  reached aborting in  on line 
php stack trace
php    main 
php    idebasephpunittextuicommandmain 
php    phpunittextuicommandrun 
php    phpunittextuitestrunnerdorun 
php    phpunitframeworktestsuiterun 
php    phpunitframeworktestsuiteruntest 
php    phpunitframeworktestcaserun 
php    phpunitframeworktestresultrun 
php    phpunitframeworktestcaserunbare 
php   phpunitframeworktestcaseruntest 
php   reflectionmethodinvokeargs 
php   testfilesviewtestlongpath 
php   ocfilescachescannerscan 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanchildren 
php   ocfilescachescannerscanfile 
php   ocfilescachecacheput 
php   ocdbinsertid 
php   ocdbconnectionlastinsertid 
php    
php   ocdbconnectionreallastinsertid 
php   doctrinedbalconnectionlastinsertid 
php    
php    
php    
php    
php    
",TD,TD
205,"see 

apparently it was possible somehow to share your root directory at some point we should on upgrade check for such shares and remove them

note that at least on  i verified that it is no longer possible to create root shares",TD,TD
206,"most of the token related logic was implemented in the ocusersession class while developing and fixing bugs the class grew to a state where its pain to add new or adjust existing functionality moreover some of the public methods the class provides are not part of the public iuserinterface interface

this class should be refactored by extracting the token related logic into an separate class with a defined public interface that new class should handle processes like

 create new tokens browser device
 validate tokens
 get the current session token
 clone token data into a new token eg create a device token when logged in via the browser or when using the 
 retrieve the current user password eg for external storages
 …

that new service should use a ocauthenticationtokeniprovider object to talk to a token provider ideally those token providers should become public api to allow third party developers to plug in their custom token handling logic",TD,TD
207,port these  to the integration tests for better visibility,TD,Not_TD
208,"it seems that large file support is possible without performance degradation on  platforms if php is compiled with large file support lfs and the curl extension is available 

please see  for the full report

also see 

 karlitschek  danimo ",TD,Not_TD
209,"im asking because there are lots of similar more business oriented uses for file related meta data and it looks like duplicating the comments app and the comments manager would currently be the best option to manage properties such as as notes signatures read status etc but that seems to be a waste of effort and could lead to problems down the road if all the different implementation were slightly different

karlitschek mtrichards   morrisjobke schiesbn  rullzer nickvergessen ",TD,TD
210," says int but doctrine and pdo say string we should say string as well sequences might return non int

that is unless we agree to always use int based autoincrement values in our tables then we should add a cast to int in 
and change  to int as well
",TD,TD
211,"the old dropbox api is deprecated  and will be killed by dropbox on  june 

this means the external storage plugin needs to be ported to the new api

according to ownclouds eol timeline  at this time the oldest supported owncloud version would be 

ideally the porting should be done in a separate repository filesexternaldropbox instead of core as per 

not sure about oc   maybe need to backport the change there

thoughts   
",TD,TD
212,"our file upload javascript component is capable of using put for file upload


using put has some advantages over the existing post
the php code will be trigger as soon as the first few kbs arrived th server
in contrary in case of post the web server will first receive the whole file and trigger the php code after the upload has been finished

why is this a better approach
 quota and other checks can be performed right in the beginning
 follow up processing can benefit from stream eg push data to external file systems encrypt on the fly 

from my understanding this is why webdav uses put for file upload as well

karlitschek danimo dragotin  butonic blizzz schiesbn  bantu ringmaster 

im summoning you all because id like to know any impact on any component you are working on if you see any issues with this approach

thx
",TD,TD
213,"to avoid code duplication we should look into finding a way to reroute the old files endpoint remotephpwebdav to the new one remotephpdavuserfiles
maybe theres a way to do this on sabre level by making the node from remotephpwebdav actually be the userhome node from the other one

care needs to be taken however that the old file chunk upload still works from what i see were still using the old file implementation so old chunking might already still work when puting to the new dav endpoint

thoughts 

 butonic ",TD,TD
214,"the filelist object already had a dirinfo object containing the propfind result on the current directory from here we can already extra information like remaining quota

here are the different values from getstoragestats which we should get rid of  move to somewhere else
  maxupload  move to capabilities api
  freespace  use filelistdirinfo instead quotaavailablebytes
  maxhumanfilesize  skull 
  usedspacepercent  use filelistdirinfo quotausedbytes instead
  owner  use filelistdirinfo owner instead
  ownerdisplayname  use filelistdirinfo owner display name instead
",TD,TD
215,"our file upload javascript component is capable of using put for file upload


using put has some advantages over the existing post
the php code will be trigger as soon as the first few kbs arrived th server
in contrary in case of post the web server will first receive the whole file and trigger the php code after the upload has been finished

why is this a better approach
 quota and other checks can be performed right in the beginning
 follow up processing can benefit from stream eg push data to external file systems encrypt on the fly 

from my understanding this is why webdav uses put for file upload as well

karlitschek danimo dragotin  butonic blizzz schiesbn  bantu ringmaster 

im summoning you all because id like to know any impact on any component you are working on if you see any issues with this approach

thx
",TD,TD
216,"autotesthhvmsh was spawned as a copy of autotestsh via  with the only difference being the interpreter used php vs hhvm autotestsh was improved in the meantime and has diverged from autotesthhvmsh

the code shared by autotestsh should be deduplicated ref 

diff
 autotestsh	  
 autotesthhvmsh	  
   
 executornumber is set by jenkins and allows us to run autotest in parallel
 databasenameocautotestexecutornumber
 databaseuserocautotestexecutornumber
databasehostlocalhost
 adminloginadminexecutornumber
 basedirpwd
 
 dbconfigssqlite mysql pgsql oci
 phpunitwhich phpunit
hhvmwhich hhvm
 
 function printsyntax 
	echo e syntax autotestsh  n 
	echo e syntax autotesthhvmsh  n 
 	echo e tdbconfigname can be one of dbconfigs 
 	echo e ttestfile is the name of a test file for example libtemplatephp 
 	echo e nexample autotestsh sqlite libtemplatephp 
   
 	exit 
 fi
 
phpunitversionphpunit version  cut d  
if   then
	echo hhvm executable not found please install hhvm 
	exit 
fi

phpunitversionhhvm phpunit version  cut d  
 phpunitmajorversionecho phpunitversion  cut d 
 phpunitminorversionecho phpunitversion  cut d 
 
   
 	exit 
 fi
 
if   then
if   then
 	echo please enable write permissions on config and configconfigphp 
 	exit 
 fi
   
 fi
 
 function cleanupconfig 
	if  then
		echo kill the docker dockercontainerid
		docker rm f dockercontainerid
	fi

 	cd basedir
 	 restore existing config
 	if  then
   
 	rm rf datadir
 	mkdir datadir
 
	 remove the old config file
	rm rf configconfigphp
 	cp testspreseedconfigphp configconfigphp
 
 	 drop database
 	if   then
		mysql u databaseuser powncloud e drop database if exists databasename h databasehost  true
		mysql u databaseuser powncloud e drop database if exists databasename  true
 	fi
 	if   then
 		dropdb u databaseuser databasename  true
 	fi
 	if   then
		echo fire up the oracle docker
		dockercontaineriddocker run d 
		databasehostdocker inspect dockercontainerid  grep ipaddress  cut d  f 

		echo waiting  seconds for oracle initialization  
		sleep 

		databaseuserautotest
		echo drop the database
		sqlplus s l  as sysdba eof
			drop user databasename cascade
eof

		echo create the database
		sqlplus s l  as sysdba eof
			create user databasename identified by owncloud
			alter user databasename default tablespace users
			temporary tablespace temp
			quota unlimited on users
			grant create session
			 create table
			 create procedure
			 create sequence
			 create trigger
			 create view
			 create synonym
			 alter session
			to databasename
			exit
eof
		databaseuserdatabasename
 		databasenamexe
 	fi
 
	 copy autoconfig
	cp  basedirconfigautoconfigphp

 	 trigger installation
 	echo installing 
	occ maintenanceinstall  databasenamedatabasename databasehostdatabasehost databaseuserdatabaseuser databasepassowncloud databasetableprefixoc adminuseradminlogin adminpassadmin datadirdatadir
	hhvm occ maintenanceinstall  databasenamedatabasename databasehostlocalhost databaseuserdatabaseuser databasepassowncloud databasetableprefixoc adminuseradminlogin adminpassadmin datadirdatadir
 
 	test execution
 	echo testing with  
 	cd tests
 	rm rf 
 	mkdir 
	php f enableallphp  grep i  error  echo error during setup  exit 
	hhvm f enableallphp  grep i  error  echo error during setup  exit 
 	if  then
		phpunit configuration phpunitautotestxml logjunit  coverageclover  coveragehtml   
		hhvm phpunit configuration phpunitautotestxml logjunit  coverageclover  coveragehtml   
 		result
 	else
 		echo no coverage
		phpunit configuration phpunitautotestxml logjunit   
		hhvm phpunit configuration phpunitautotestxml logjunit   
 		result
 	fi
 
   
 		executetests dbconfig
 	done
 else
	
	if    then
		filenamefilename
	fi
	executetests  filename 
	executetests   
 fi
 
 
",TD,TD
217," steps to reproduce
 use ocservergetappfolder

 expected behaviour
gets some folder the app can use for storing data outside of a user namespace

 actual behaviour
returns a folder in the current user namespace 

see 

this can result in username collisions for example if a user is called news and the news app uses getappfolder then data would be stored in the users folder this will and does break things

somehow we need a folder that the app can use outside of the user namespace 

morrisjobke karlitschek  ",TD,TD
218,"this is necessary for everything that happens more than once otherwise code is duplicated over and over again

example
",TD,Not_TD
219,"our file upload javascript component is capable of using put for file upload


using put has some advantages over the existing post
the php code will be trigger as soon as the first few kbs arrived th server
in contrary in case of post the web server will first receive the whole file and trigger the php code after the upload has been finished

why is this a better approach
 quota and other checks can be performed right in the beginning
 follow up processing can benefit from stream eg push data to external file systems encrypt on the fly 

from my understanding this is why webdav uses put for file upload as well

karlitschek danimo dragotin  butonic blizzz schiesbn  bantu ringmaster 

im summoning you all because id like to know any impact on any component you are working on if you see any issues with this approach

thx
",TD,TD
220,"many tests rely on a default user or group backend to be set when using ocservergetusermanager
others set it explicitly using ocuserusebackend

for both cases we need to stop using usebackend and add explicit backend initialization or even better use mocks

the trouble with this is that if a specific test does setup some backends it might affect other tests as a sideeffect ideally all backends need to be cleared after testing anyway but doing this currently breaks more tests that assume a default backend
",TD,TD
221,"for some reason it seems that weve gotten used to using aliases in the ocserver container

from my understanding if we want the magic di to work properly we should ideally not have to define anything there in the event where we do need to we should probably define the entries using interface names this way when we query objects that for example require ocpiusersession the server knows where to find it currently one needs to manually instantiates an object and call cqueryusersession to pass it

 butonic vicdeo jvillafanez ",TD,TD
222,"so far ive seen several different ways of making database calls

 using ocdb
 using ocpdb
 using the entity mapper from the app framework

then there is execute and executeaudited
some are using our statement wrapper and others arent

we need to clean up this mess and make one single way for doing database queries
or at least two the regular db queries and one with the entity mapper would be acceptable

in the shortmiddle term it should be possible to already replace many of the calls with ocpdb

then my next problem is that they work with the statement wrapper which itself wraps too much and doesnt allow for closecursor to be called

  add close to statement wrapper
  or get rid of the statement wrapper completely
  replace ocdb usage with ocpdb this will also prevent people to use executeaudited which is private

 bantu  lukasreschke schiesbn 

note that im a bit struggling with this for the task to add closecursor everywhere ",TD,TD
223,"kill this  with a three row high fire thrower

removing the fallback code would be nice
however if someone has an install where the repair didnt fully go through or warnings were missed theyre going to have surprises
ideal would be to have a way to assist admins to do a smoother transition basically first have a way to identify such remaining storages and fix them manually

another idea would be to log a warning but would pollute the log
yet another idea prevent the users storage to work at all throw exception but likely to cause outages

i also thought about maybe adding an extra column type on ocstorages but the question is how to populate it might need iterating over all users once again this could at least make it easier to identify user homes that still have the type local

butonic  ",TD,TD
224,"we have a bunch of settings around sharing on the admin page atm

and the most important question is whether allow apps to use the share api is really what we want to have question 

should that option prevent sharing a calendar addressbook etc or should this setting state that its only about the filesharing api

 schiesbn rullzer karlitschek ",TD,TD
225,"after debugging the watcherscanner i noticed that at the end of the scan session it will call cleanfolderpath and will iterate over all cache entries inside that folder and call fileexists to find out whether the file still exists

as far as i understand diffing the children of a folder is already done in scanchildren so not sure why it has to be done again here

 can you clarify  can we get rid of this extra cleanup to gain some performance 
",TD,TD
226,"after debugging the watcherscanner i noticed that at the end of the scan session it will call cleanfolderpath and will iterate over all cache entries inside that folder and call fileexists to find out whether the file still exists

as far as i understand diffing the children of a folder is already done in scanchildren so not sure why it has to be done again here

 can you clarify  can we get rid of this extra cleanup to gain some performance 
",TD,TD
227,"we need to migrate from the current unofficial and unmaintained dropbox sdk we use at the moment to the official one 

test plan
  use big files and slow networks  refs 
",TD,TD
228,"i found some unit tests related to that stream wrapper
afaik this is now unusedobsolete 

we should deprecate this officially

  ",TD,TD
229,from butonic a non exhaustive search reveals other places where an array is used to cache data              we should check them after we decide how to handle this not all of them justify using a cappedmemorycache eg  rullzer  schiesbn nickvergessen ,TD,TD
230,according to the way the path to the files a token gives access to in filessharing we need to use this method before requesting access to a nodeocutilteardownfsocutilsetupfsuseridfilesystemgetpathnodeidfilesystemgetpathnodeid can be replaced with thisuserfoldergetbyidnodeidbut can both the preceding methods be replaced by thisuserfolder  servergetuserfolderuserid i have no idea where it should sit ocp or appframework but its either missing or not required and new ocp methods or new documentation needs to be provided,TD,TD
231,according to the way the path to the files a token gives access to in filessharing we need to use this method before requesting access to a nodeocutilteardownfsocutilsetupfsuseridfilesystemgetpathnodeidfilesystemgetpathnodeid can be replaced with thisuserfoldergetbyidnodeidbut can both the preceding methods be replaced by thisuserfolder  servergetuserfolderuserid i have no idea where it should sit ocp or appframework but its either missing or not required and new ocp methods or new documentation needs to be provided,TD,TD
232,it is used in the sharing helperthen also the sharing hook listener isnt needed anymore the hook emitter was removed with  maybe this is the reason for some orphaned shares should we introduce this again or simply delete this code that is never executed since  and rely on the fact that link shares are not shown anymore when this setting is disabled but reside in place i just checked with current master and also the public link page is blockedi would simply delete this schiesbn  rullzer opinionsi would also take care of creating the pr if this is wanted,TD,TD
233,kill this  with a three row high fire throwerremoving the fallback code would be nicehowever if someone has an install where the repair didnt fully go through or warnings were missed theyre going to have surprisesideal would be to have a way to assist admins to do a smoother transition basically first have a way to identify such remaining storages and fix them manuallyanother idea would be to log a warning but would pollute the logyet another idea prevent the users storage to work at all throw exception but likely to cause outagesi also thought about maybe adding an extra column type on ocstorages but the question is how to populate it might need iterating over all users once again this could at least make it easier to identify user homes that still have the type localbutonic  ,TD,TD
234," core
 appconfig
 storages
 mounts
 mimetypes
 filecache
 groupuser
 groupadmin
 groups
 preferences
 properties
 share
 jobs
 users
 authtoken
 vcategory
 vcategorytoobject
 systemtag
 systemtagobjectmapping
 systemtaggroup
 privatedata
 filelocks
 comments
 commentsreadmarkers
 credentials

 apps
todo

 butonic fyi

by the way if we want to change fileid of ocfilecache to bigint well first need to port its schema to be a migration 
",TD,TD
235,"see 

jvillafanez ",TD,Not_TD
236,"the storage backend handling has been moved to core already as per  this means that any apps using this api and future apps will be expected to do so do not require filesexternal to be enabled any more

plan
  move gui to core  settings
  move occ commands to core
  move all external storage backends from filesexternal to separate market apps 

 fyi",TD,TD
237, xenopathic karlitschek jmaciasportela currently external apps that provide storage backends would require filesexternal to be enabled toogoal is to move that part to core so that the filesexternal app disappears completelythe other backends currently provided by filesexternal should be moved to one or several separate repos eventually,TD,TD
238, getting a remote share either via share dropdown and userremote or via public link page and add to my owncloud unshare this folder expected behaviour database entries are cleaned up storage and filecache actual behaviour storage and filecache is still filled how to test thisfollowing queries list the tables joined together for mysqlmap shared storage to external share sqlselect  from ocstorages s left join ocshareexternal e on sid  concatshared   eremote where sid like sharedlist only not existing external share storages sqlselect  from ocstorages s left join ocshareexternal e on sid  concatshared   eremote where sid like shared and eid is null,TD,Not_TD
239,"when overwriting existing files the encryption code relies on the part file name to find out what the final file name is this in order to get the existing encryption key set


 ownerpath  thisutilstrippartialfileextensionownerpath
 realfile  thisutilstrippartialfileextensionpath
 public function strippartialfileextensionpath 
 realfile  thisutilstrippartialfileextensionpath
 realfile  thisutilstrippartialfileextensionpath
 realfile  thisutilstrippartialfileextensionpath


this is bad because it prevents us to change the format of the part files to solve issues like too long file names 

this blocks ",TD,TD
240,"in the following scenarios initmountpoints is still called
 login ex any request with cadaver it is triggered by the gc for chunks
 any webdav call because ocservergetuserfolder is not lazy and is called to be injected in some of the dav plugins
 basephp calls setupfs right away in 
 possibly more

  fyi potential perf improvements for nonfs calls",TD,TD
241,if for example via a click on a  the url is changed but the actual pointer of the url is still the same no reload of the files app should happennoticed together with   for a real world example,TD,Not_TD
242,the problem was discovered here  and handled by a easy fix for a particular problem here  but the overall problem still existsthe fakeroot in ocfilesview has a trailing slash for external mount points or share mount points otherwise it doesnt have a trailing slash also depending on how the view is initialized fakeroot can have a trailing slash or not this leads to problems like described and fixed in the issues linked above additional it will fail if the path comes with two leading slashes like mentioned here  another inconsistency is that depending on the trailing slash of the fakeroot the result of getrelativepath will start with a leading slash or notthis all is highly inconsistent and it is really hard to say which behaviour is the correct onewe should always operate on normalized paths starting with one slash without any doubleslashes and without a trailing slash also the result should always be a normalized pathcc  ,TD,TD
243,   moscicki nadirroguehii have taken the latest owncloud stable version  and started to prototyping a custom eos storage on it i started to implement the methods required by the istorage interface to create a homestorage based on eos but i have found that there are still core classes that rely on ocpfilesstorage instead of ocpfilesistorage see tracetype typeerrorcode  argument  passed to ocutilclosure must implement interface ocpfilesstorage instance of ocfileseosstorehomeeosstorestorage given called in applicationsmamphtdocsowncloudlibprivatefilesstoragestoragefactoryphp on line  applicationsmamphtdocsowncloudlibprivatelegacyutilphpline   ocutilclosuretest objectocfileseosstorehomeeosstorestorage   ocfilesstoragestoragefactorywrapobjectocfilesmountmountpoint   ocfilesstoragestoragefactorygetinstanceobjectocfilesmountmountpoint ocfileseosst           ocfilesfilesysteminittest      maini also attach the diagram of storage classes ideally i would like to have my eos classes implementing the istorage and not the storage interface that has been deprecatedi think the solution to this problem is to promote the use of istorage in any class that relies on storage but maybe that affects some logic another class that relies on methods not defined in the istorage is the wrappertype errorcode  call to undefined method ocfileseosstorehomeeosstorestoragegetstoragecachefile applicationsmamphtdocsowncloudlibprivatefilesstoragewrapperwrapperphpline               ocfilesconfigusermountcacheregistermountsobjectocuseruser   ocfilesconfigmountprovidercollectionregistermountsobjectocuseruser     ocfilesfilesysteminittest      main,TD,Not_TD
244, karlitschek lukasreschke  craigpg mtrichards whether we keep filesexternal in core or not it doesnt mattermost importantly we need to setup a ci solution for filesexternal external storage applets discuss it herefollow up from ,TD,TD
245,"the app manager and legacy app code is a mess

an app can have many states
 no code
 code is there but not marked as installed needs an installedversion field in db
 code exists app is marked installed but not enabled
 code exists app marked enabled
 code exists app marked disabled
 app marked enableddisabledinstalled but code is missing
 

apparently when transitioning from  to  some code paths will trigger the apps migration while others dont

this needs to be simplified and uniformized
but first id suggest getting rid of the old legacyappphp and put more of the logic into the app manager

 butonic ",TD,TD
246,"include an option for the search to match only the beginning of the string instead of matching anywhere by default the option should keep the current behaviour

the goal is to optimize the usage of db indexes and improve the overall behaviour in big installations by setting this option the performance should increase at a cost of functionality",TD,TD
247,"follow up of
 
 

creating a share entering a mail address that already exists for a user currently does not work and does not throw an error

needs core enhancements

  core changes to add sharing via mail  needs testing
",TD,TD
248,"include an option for the search to match only the beginning of the string instead of matching anywhere by default the option should keep the current behaviour

the goal is to optimize the usage of db indexes and improve the overall behaviour in big installations by setting this option the performance should increase at a cost of functionality",TD,TD
249,"expected behavior
 create a file like   char dir name 
 delete it
 it should be in the trashbin

actual behavior
json
  char dir name   char dir name  file name too long at 


appanding a timestamp is such a bad idea we could shrink the max allowed filename size to  chars  or we add a flag to the filecache i personally would go with the latter because then we dont need to move the files on disk they can be moved in a background job async if we really want to move them away for objectstorage it would make little difference since the metadata is mandatory anyway",TD,TD
250,"with old chunking we mean the ugly file names like 

whenever a client sends occhunking header deny access to the new endpoint remotephpdavfilesuser

 as discussed

this would help reducing test cases",TD,TD
251,"see 

quote butonic

caused by updating quota or email properties which trigger an update of the addressbook cards by the card dav backend which triggers fatching avatars which triggers fs initialization which takes ages  several prs incoming but still needs

    a new interface for avatar provisioning and probably
    a better fs for avatars
    no longer initialize the fs for every user because the avatars now reside in dataavatars instead of user homes",TD,TD
252,"recently weve seen several cases of columns of type integer reach their maximum of   🎉  for some awesome big instances running oc we should take a moment to ensure we are future proofed for other fields where this may become a problem



",TD,TD
253,"we should consider some improvements to our decryption process

   better logging on the decryption
   proper return codes to permit scripting
   accept input via arguments andor environment to permit scripting
   parallel decrypt command to reduce decryption time testing has shown storage seek times can be the limiting factor and parallel execution can greatly speed up the overall decryption
   improved documentation

for reference  users    postencryption disk size is taking  hours in maintenance mode due to required manual operation of the commands and lack of parallelisation automation 

needs triage to evaluate which are necessary  priority of this",TD,TD
254,when i load the news app the following js and css is included html        only a few of them are actually needed for the news app the rest polutes the global js namespace and is a source of bugs and slowdown not only for executing js but also for loading the js from the server remember we want to load as little as possible so the request is fast and the ui is responsible  the reason for this is that these apps include the js and css libs in appinfoappphp the following apps should therefore be fixed by loading the js and css in the template files that actually show the app calendar contacts gallery filessharing filesversions documents search is this actually needed core at least lostpasswordjs we should also remove all the jquery libs except jquery itself to follow the core js lib cleanup only a few apps actually need those jquery plugins and it makes the page less responsivegeorgehrke jbtbnl karlitschek butonic morrisjobke jancborchardt   lukasreschke ,TD,TD
255,"the following methods are expected to exist within the implementation of the filesystem layers but are actually missing on the interface

  storagefactorywrap is missing on istoragefactory but used in the mountpoint class see 

 jvillafanez 
",TD,TD
256,"with old chunking we mean the ugly file names like 

whenever a client sends occhunking header deny access to the new endpoint remotephpdavfilesuser

 as discussed

this would help reducing test cases",TD,TD
257,"  tipsy grep for tipsy and replace these instances with tooltip and retest the arguments are not the same
  ocnotificationhide grep for notifierhide in the settings folder",TD,TD
258,"review all repair steps and add a version check or a db flag for those that do not need to run again
this could help speed up upgrade time by disabling unneeded repair steps

one example repairavatarpermisisons i believe that there was an older version where the permissions on disk could be messed up once fixed it shouldnt try and refix it for every update
unfortunately this one does some queries on filecache so it might slow down the update a bit

note that we do not want to completely delete repair steps because some will be needed when doing crossmajorversions upgrades so keep them but add a version check or db flag to make sure it only runs once the alternative would be to port them to migrations but that is likely too much work

  avatarpermissions
  

 tomneedham butonic phisch ",TD,TD
259,"  use node api  to be redone
  get rid of cachenode and see if there is a better way ref 
      if we do keep cachenode also cache false when needed ex directorygetchild


jvillafanez add stuff here if you had more in mind

cc  ",TD,TD
260,"this is a proposal we had a while ago which id like to revive

some issues with the current approach

 were registering all possible plugins every time for example the caldav plugins are registered even when we access the files endpoint this can cause unneeded performance issues see  davacl plugin that needed to be excluded
 it is not possible to use an optimized getnodeforpath like in the path because this method only exists in the root tree  if we wanted to have it on subtrees and also specialized wed need to have special nodes that extend tree and also implement icollection and also have a root tree which logic properly detects if a node is a tree and then call getnodeforpath

if we had separate sabre servers for each first level dav path files comments calendars etc
 each server would only register the plugins relevant to this endpoint
 there could be a list of base plugins to be always registered like the maintenance mode plugin
 each server has its own optimized tree which uses a different approach based on the implementation files would do like the old objecttreegetnodeforpath which uses the view as shortcut instead of iterating over every node

 butonic jvillafanez thoughts ",TD,Not_TD
261,"due to legacy reasons the mimetype aliases are stored in a js file that is directly loaded at page load time instead of asynchronously

instead of generating it and checking in the file corejsmimetypelistjs we should provide an app framework route to retrieve it asynchronously

in the js side we need to make sure that any app that needs it is using a promise when retrieving this information as it would be retrieved asynchronously instead of being available at page load

once this is done remove the mimetypelistjs exclusion from integrity check",TD,TD
262,currently if a hook throws an exception it is logged then ignoredsince an exception occurred we cannot guarantee that the state of the system is adequate for the next hooks and operations to runexceptions should be rethrown further after logging herelets discussbrantje speijnik  schiesbn ,TD,TD
263,"currently every layer has its own format for paths

on the dav level we have
 remotephpdavfilesuseridpathtofile
 and well likely have more paths for trashbin versions etc see   
 nothing yet for metadata like avatars previews etc

on the owncloud filesystem level we have
 root storage entries dataavatar
 datauseridfiles
 datauseridfilesencryption
 datauseridfilestrashbin
 datauseridfilesversions
 mount points like ext storage or received shares attached on the vfs under datauseridfilesextstoragemountpoint

on the real fs level
same as above but without the mount points

it would be good to find a way to consolidate these different virtual filesystems to have ideally only one way of addressing everything it doesnt necessarily need to match whatever is on the fs level and fs level can be an object store but rather whatever is visible inside of owncloud and accessible through the webdav apis

 butonic jvillafanez
",TD,TD
264,"found on my instance that has been upgraded from oc  iirc
json
 parameter token for route filessharingsharecontrollershowshare must match   given to generate a corresponding url at 


as it turns out i have corrupt share entries aka links without a token
sql
select  from ocshare where  and token is null

 id  sharetype  sharewith  uidowner  parent  itemtype  itemsource  itemtarget  filesource  filetarget                permissions  stime       accepted  expiration  token  mailsend  uidinitiator  sharename 

               null        foo          null  folder                            something                                       null        null             foo            null       
               null        foo          null  folder                            something else                                  null        null             foo            null       

 rows in set  sec


this causes my shared with others page to be empty no error in the web ui 
  add repair step that does delete from ocshare where  and token is null
  expose exception to api call dont swallow that exception bad for your karma
  add a report to the admin section with the last n errors would require parsing the logfile  sucks  store log in db new log provider hmmm",TD,TD
265,the old dropbox api is deprecated  and will be killed by dropbox on  june  means the external storage plugin needs to be ported to the new apiaccording to ownclouds eol timeline  at this time the oldest supported owncloud version would be  the porting should be done in a separate repository filesexternaldropbox instead of core as per not sure about oc   maybe need to backport the change therethoughts   ,TD,TD
266," the very old static hooks ocputilconnecthook
 the less old object based emitters keyword basicemitter where you listen directly on objects
 the newer way we want to go for everything in the future symfony event dispatcher listeners

for every hook of type  and  we should provide a symfony event dispatcher event

then all app development needs to use only the symfony event dispatcher ones in the future and those will be considered public api and the old ones deprecated
",TD,TD
267,i realized that the dummy ocwebroot that is specified in the js unit tests is wrongthe current one contains the host name but in reality it is supposed to only contain the context path no hostbut changing it directly breaks many tests so it might take a while to fixalso some paths like images might still need an existing path to continue working because the karma server serves them,TD,TD
268,migrate previewpng etc  to appframeworksubtasks  add a proper previewcontroller  preview  image response types require stream based responses,TD,TD
269,"follow up phase  of 

less critical as the other tables are less likely to run out",TD,Not_TD
270,"instead of having the home storage id and path be defined by the user id or even hardcoded in ocaccounts table i suggest to move the following

 replace the ocaccounts table home path with a storage numeric id let the storage itself decide where the path is that column doesnt make sense anyway when dealing with primary object storage or such

 provide a way api  occ  for admins to change the mapping between users and storages it could be as simple as changing the numeric id of the storage in ocaccounts table

this would make it possible to

  rewire users to their correct storage in case of storage duplication issues which were met due to very old storage bugs

 transfer ownership by reassigning a storage to a new user

 in the same line like  it would make it possible to transfer a guest users storage to the real user after migrating said guest user to be a real user ex created in ldap

 like  but when a user changed the id uuid or whatever instead of getting a new storage the admin can remap said user to their old storage so they can keep the data

 potentially helping with migrating storage from local storage to object store on a per user basis given that we extend the ocstorages table to hold the information whether the storage is local or object store instead of just home maybe add a type column there

setting to  as this has great potential to address several of our big pain points

  butonic jvillafanez 
",TD,Not_TD
271,"currently most tables in oc are based on the immutable user id
changing all tables to use account id instead would take a long time and the benefit of being able to change a user id is deferred to the moment where all tables were adjusted
also changing too many at once in the hope to have this feature soon is time costy and dangerous

i suggest to use an alternate temporary route

 introduce a new column ocaccountsinternaluserid the column defaults to the same value as ocaccountsuserid at user creation or import
 let the admin rename the user id in which case only ocaccountsuserid is changed
 internally we always use internaluserid when mapping with other tables so the code needs to be rewired to work with internaluserid for internal operations but keep userid when dealing with logins or usersync

once this is done we already gain the benefit of user id renaming

after that we can take our time to migrate all other tables one by one to use ocaccountid instead and use the opportunity to add a foreign key there

once all tables are migrated we can get rid of ocaccountsinternaluserid and make it use userid again

tomneedham cdamken butonic  jvillafanez  ",TD,TD
272," hodyroff 

todo add reasons",TD,Not_TD
273,"  prerequisite 


for each hook and emitter
 delete said hookemitter
 search for usages across all apps
 replace everywhere to use symfony
 write them down and list aspects of oc that will need to be regression tested
 check that we have tests for said events if not write them

 sharidas",TD,TD
274,paging support currently is a messthe break condition while doing a paged search is an empty cookie the server returns a cookie of  on the last page of the searchhowever empty cookies are not stored in the cookie cache and thus owncloud will not handle search requests that have no more results correctlycurrently the search for a cookie will fail after the last page and the code for retrying the search will be executed this second search also wont handle the empty cookie correctly so the results will be an unnecessary search and a paged search failed  error ,TD,TD
275,when executing a user search the paged search mechanism uses recursion to fetch the next page this may result in a fatal error maximum function nesting level of  reached aborting” morrisjobke and i identified this as a problem during upgrade in a larger installationcc blizzz,TD,TD
276,when groups are retrieved from ldap it is most likely that the existance check will be requested from  the owncloud group manager if not cached the existance check will finally call the ldap server to  verify this since we retrieved the groups just before we should cache them as existing and save those unnecessary requests to ldap this makes probably sense for users as well the caching could be triggered from within  where we already cache user display names for the same reasonthis will have  a positive performance impact which otoh is not overly high nevertheless it is always better to use as few ldap requests as possible ,TD,TD
277,possible since ,TD,Not_TD
278,see  ,TD,Not_TD
279,iusersessionlogin has the following signature          do a user login      param string user the username      param string password the password      return bool true if successful      since          public function loginuser passwordfrom looking at the code i found that in some cases false is returned in case of a failed login attempt other code paths throw a loginexception though the problem is that some of the client code checks the return value while other catches the exception i didnt find any code that does bothi guess this is not the intended situation so id like to fix that by either using only the return value or throw an exception in all error casesalso note that that the exception is not documented on the interfacelukasreschke   nickvergessen rullzer  what do you prefer ,TD,TD
280,owncloud  via reverse proxylinux   smp wed sep   utc     gnulinuxmany most webdavclients dont support cookiehandling very well since session credentials are handled using http authentication owncloud however enforces the creation of sessions even if they are not neededthis causes the creation of a massive amount of useless session files when using caldav carddav etc  in my personal instance approx  files are created per week that means a serious performance impacti created a workaround as well as a suggestion to resolve this issue permanently if you provide me with proper feedbackworkaround  remove session after remotephpquery is done remotephp        remotephp         baseuri  ocwebroot  remotephpservice requireonce filesessionunsetsessiondestroythis is a safe way to resolve the issue howeverthere is a performance gain possible but not creating the session when involving remotephp at all is there already a way to suppress sessioncreation if not it could be supressed using a variable like runtimenoapps for example set runtimenosession  true at the top of remotephp in basephp dont create session when it is setif you like that solution i could implement it however i highly recommend to do something about itbest regardsmartin,TD,TD
281,while working on some improvements for sharing i discovered that we have three ways to delete a filedirectoy unlink deleteall and rmdir well i knew it already before but this time it made a differenceall three methods are able to delete single files and folders recursively in fact if you delete a folder from the web interface we call unlink while the same operation over webdav calls rmdir this doesnt make a difference if you listen to hooks because we will trigger a delete hook for all three operations but if you use proxies it makes a difference because then we call preunlink and prermdir while deleteall seems to be converted to a rmdiri dont see the need to have all three operations i would suggest to mark deleteall and rmdir as depreciated for  and remove them for  or did i miss something opinionscc    karlitschek  craigpg ,TD,TD
282,this leads to unnecessary duplication of data and to all sorts of bugs due to old session dataexamplesolutionuse a proper applicationwide cache or the database instead,TD,TD
283,currently oc uses the username as a reference to the user for just about every table in the database this makes it very hard to rename a user by separating the username from the user reference renaming a user can be supportedrenaming a user is very important people change their name if they get married or if they divorce they want their username to reflect that some systems require interoperability by keeping the usernames the same across all installs these systems do not have the luxury of abstracting using an id for example see zpush people like to have control of their credentials it makes oc a bit more professional  changing a username shouldnt be rocket science and if it is it could be indicative of some design issuesthings to fix instead of using usernames everywhere use an int field referencing to a new primary key in ocusers use foreign keys whenever possible so db consistency is maintained make sure applications either do not use usernames as a reference for anything rows in database files on server or support renaming a useri understand that this is not an easy thing to fix but i really think separating usernamepassword credentials from the actual user identity would be a good thing™ im very close to crying right now as im writing a script to update the oc database rename directories and files on the server and flushing caches and rebuilding lucene indices,TD,TD
284,currently the config list is rendered through a template on the serveralso that template is not very flexible regarding configswe should move the config row rendering to javascriptby default it would reuse the config options as specified in the backendexternal storage apps must be able to extend row rendering to be able to have custom logiccc  jmaciasportela xenopathic ,TD,TD
285,"found on my instance that has been upgraded from oc  iirc
json
 parameter token for route filessharingsharecontrollershowshare must match   given to generate a corresponding url at 


as it turns out i have corrupt share entries aka links without a token
sql
select  from ocshare where  and token is null

 id  sharetype  sharewith  uidowner  parent  itemtype  itemsource  itemtarget  filesource  filetarget                permissions  stime       accepted  expiration  token  mailsend  uidinitiator  sharename 

               null        foo          null  folder                            something                                       null        null             foo            null       
               null        foo          null  folder                            something else                                  null        null             foo            null       

 rows in set  sec


this causes my shared with others page to be empty no error in the web ui 
  add repair step that does delete from ocshare where  and token is null
  expose exception to api call dont swallow that exception bad for your karma
  add a report to the admin section with the last n errors would require parsing the logfile  sucks  store log in db new log provider hmmm",TD,TD
286,"currently every layer has its own format for paths

on the dav level we have
 remotephpdavfilesuseridpathtofile
 and well likely have more paths for trashbin versions etc see   
 nothing yet for metadata like avatars previews etc

on the owncloud filesystem level we have
 root storage entries dataavatar
 datauseridfiles
 datauseridfilesencryption
 datauseridfilestrashbin
 datauseridfilesversions
 mount points like ext storage or received shares attached on the vfs under datauseridfilesextstoragemountpoint

on the real fs level
same as above but without the mount points

it would be good to find a way to consolidate these different virtual filesystems to have ideally only one way of addressing everything it doesnt necessarily need to match whatever is on the fs level and fs level can be an object store but rather whatever is visible inside of owncloud and accessible through the webdav apis

 butonic jvillafanez
",TD,TD
287,"due to legacy reasons the mimetype aliases are stored in a js file that is directly loaded at page load time instead of asynchronously

instead of generating it and checking in the file corejsmimetypelistjs we should provide an app framework route to retrieve it asynchronously

in the js side we need to make sure that any app that needs it is using a promise when retrieving this information as it would be retrieved asynchronously instead of being available at page load

once this is done remove the mimetypelistjs exclusion from integrity check",TD,TD
288,"  use node api  to be redone
  get rid of cachenode and see if there is a better way ref 
      if we do keep cachenode also cache false when needed ex directorygetchild


jvillafanez add stuff here if you had more in mind

cc  ",TD,TD
289,"review all repair steps and add a version check or a db flag for those that do not need to run again
this could help speed up upgrade time by disabling unneeded repair steps

one example repairavatarpermisisons i believe that there was an older version where the permissions on disk could be messed up once fixed it shouldnt try and refix it for every update
unfortunately this one does some queries on filecache so it might slow down the update a bit

note that we do not want to completely delete repair steps because some will be needed when doing crossmajorversions upgrades so keep them but add a version check or db flag to make sure it only runs once the alternative would be to port them to migrations but that is likely too much work

 repair steps
  repairmimetypes still needed i guess
  filletags if we made etag a not null column with default value we wouldnt need this need to check if we have code purposefuly writing null there on init
  cleantags keep or make it a background job 
  dropoldtables exists since oc   already ran
  dropoldjobs exists since oc   already ran
  removegetetagentries exists since oc  already ran
  updateoutdatedocsids exists since oc   already ran likely obsolete now with the marketplace
  repairinvalidshares exists since oc  todo need to verify if the conditions that get repaired can still be recreated with recent versions
  sharepropagation added in oc  only needed to run once  convert to migration 
  avatarpermissions 
  moveavataroutsidehome  keep to be able to support  upgrades
  removerootshares added in oc  keep just in case as we dont know what bug makes this happen might be expensive so would be good to get rid of at some point
  repairunmergedshares runs for oc future upgrades

 before upgrade repair steps
  innodb at this point everyone should already have migrated since oc  or so
  sqliteautoincrement already since oc  
  collation keep to support  upgrades move to migration
  searchlucenetables deletes dupes in search lucene tables exists since  i suggest removing or moving it to the search lucene app itself

 tomneedham butonic phisch ",TD,TD
290,"review all repair steps and add a version check or a db flag for those that do not need to run again
this could help speed up upgrade time by disabling unneeded repair steps

one example repairavatarpermisisons i believe that there was an older version where the permissions on disk could be messed up once fixed it shouldnt try and refix it for every update
unfortunately this one does some queries on filecache so it might slow down the update a bit

note that we do not want to completely delete repair steps because some will be needed when doing crossmajorversions upgrades so keep them but add a version check or db flag to make sure it only runs once the alternative would be to port them to migrations but that is likely too much work

 repair steps
  repairmimetypes still needed i guess
  filletags if we made etag a not null column with default value we wouldnt need this need to check if we have code purposefuly writing null there on init
  cleantags keep or make it a background job 
  dropoldtables exists since oc   already ran
  dropoldjobs exists since oc   already ran
  removegetetagentries exists since oc  already ran
  updateoutdatedocsids exists since oc   already ran likely obsolete now with the marketplace
  repairinvalidshares exists since oc  todo need to verify if the conditions that get repaired can still be recreated with recent versions
  sharepropagation added in oc  only needed to run once  convert to migration 
  avatarpermissions 
  moveavataroutsidehome  keep to be able to support  upgrades
  removerootshares added in oc  keep just in case as we dont know what bug makes this happen might be expensive so would be good to get rid of at some point
  repairunmergedshares runs for oc future upgrades

 before upgrade repair steps
  innodb at this point everyone should already have migrated since oc  or so
  sqliteautoincrement already since oc  
  collation keep to support  upgrades move to migration
  searchlucenetables deletes dupes in search lucene tables exists since  i suggest removing or moving it to the search lucene app itself

 tomneedham butonic phisch ",TD,TD
291,"due to legacy reasons the mimetype aliases are stored in a js file that is directly loaded at page load time instead of asynchronously

instead of generating it and checking in the file corejsmimetypelistjs we should provide an app framework route to retrieve it asynchronously

in the js side we need to make sure that any app that needs it is using a promise when retrieving this information as it would be retrieved asynchronously instead of being available at page load

once this is done remove the mimetypelistjs exclusion from integrity check",TD,TD
292,"found on my instance that has been upgraded from oc  iirc
json
 parameter token for route filessharingsharecontrollershowshare must match   given to generate a corresponding url at 


as it turns out i have corrupt share entries aka links without a token
sql
select  from ocshare where  and token is null

 id  sharetype  sharewith  uidowner  parent  itemtype  itemsource  itemtarget  filesource  filetarget                permissions  stime       accepted  expiration  token  mailsend  uidinitiator  sharename 

               null        foo          null  folder                            something                                       null        null             foo            null       
               null        foo          null  folder                            something else                                  null        null             foo            null       

 rows in set  sec


this causes my shared with others page to be empty no error in the web ui 
  add repair step that does delete from ocshare where  and token is null
  expose exception to api call dont swallow that exception bad for your karma
  add a report to the admin section with the last n errors would require parsing the logfile  sucks  store log in db new log provider hmmm",TD,Not_TD
293,"  use node api  to be redone
  get rid of cachenode and see if there is a better way ref 
      if we do keep cachenode also cache false when needed ex directorygetchild


jvillafanez add stuff here if you had more in mind

cc  ",TD,TD
294,"  tipsy grep for tipsy and replace these instances with tooltip and retest the arguments are not the same
  ocnotificationhide grep for notifierhide in the settings folder",TD,TD
295,"the following methods are expected to exist within the implementation of the filesystem layers but are actually missing on the interface

  storagefactorywrap is missing on istoragefactory but used in the mountpoint class see 

 jvillafanez 
",TD,TD
296," apc is unmaintained 



 xcache is only available for php 

last release   

lets kill those as soon as we go for  only",TD,TD
297,"we should consider some improvements to our decryption process

   better logging on the decryption
   proper return codes to permit scripting
   accept input via arguments andor environment to permit scripting
   parallel decrypt command to reduce decryption time testing has shown storage seek times can be the limiting factor and parallel execution can greatly speed up the overall decryption
   improved documentation
   better handling of errors so as to not block  exit long running scripts which require constant monitoring by the admin

for reference  users    postencryption disk size is taking  hours in maintenance mode due to required manual operation of the commands and lack of parallelisation automation 

needs triage to evaluate which are necessary  priority of this",TD,TD
298,"recently weve seen several cases of columns of type integer reach their maximum of   🎉  for some awesome big instances running oc we should take a moment to ensure we are future proofed for other fields where this may become a problem



",TD,TD
299,"see 

quote butonic

caused by updating quota or email properties which trigger an update of the addressbook cards by the card dav backend which triggers fatching avatars which triggers fs initialization which takes ages  several prs incoming but still needs

    a new interface for avatar provisioning and probably
    a better fs for avatars
    no longer initialize the fs for every user because the avatars now reside in dataavatars instead of user homes",TD,TD
300,"the following methods are expected to exist within the implementation of the filesystem layers but are actually missing on the interface

  storagefactorywrap is missing on istoragefactory but used in the mountpoint class see 

 jvillafanez 
",TD,TD
301," apc is unmaintained 



 xcache is only available for php 

last release   

lets kill those as soon as we go for  only",TD,TD
302,"recently weve seen several cases of columns of type integer reach their maximum of   🎉  for some awesome big instances running oc we should take a moment to ensure we are future proofed for other fields where this may become a problem



",TD,TD
303,"drop the file extension of part files and use a suffix like octemp to hide partially uploaded files

this would make it possible to upload legitimate part files

  replace extension in many locations just grep the code
  beware might need a repair step on upgrade to remove stray part files that might still be around on users filesystems not doing so would have people suddenly see a little invasion of old part files
  adjust clients to unblacklist part files 


butonic  ",TD,TD
304,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 look at the html of the files app
 search for items with the id notification

 expected behaviour
there should be only one item with that id

 actual behaviour
there is a div with the id notification inside notificationcontainer div
and multiple in appcontent divs

 server configuration
operating system
debian
web server
apache 
database
sqlite
php version
php 
owncloud version see owncloud admin page

updated from an older owncloud or fresh install
fresh
where did you install owncloud from
git

the content of configconfigphp



    system 
        instanceid 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            localhost
        
        datadirectory homearturwwwowncloudcoredata
        overwritecliurl httplocalhostowncloudcore
        dbtype 
        version 
        logtimezone utc
        skeletondirectory tmpdata
        installed true
    



list of activated apps


enabled
   comments 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filessharing 
   filestrashbin 
   filesversions 
   provisioningapi 
   systemtags 
   updatenotification 
disabled
   encryption
   testing
   themeexample


are you using external storage if yes which one localsmbsftp
no
are you using encryption yesno
no
are you using an external userbackend if yes which one ldapactivedirectorywebdav
no

 client configuration
browser
firefox
operating system
debian",TD,Not_TD
305,"the app manager and legacy app code is a mess

an app can have many states
 no code
 code is there but not marked as installed needs an installedversion field in db
 code exists app is marked installed but not enabled
 code exists app marked enabled
 code exists app marked disabled
 app marked enableddisabledinstalled but code is missing
 

apparently when transitioning from  to  some code paths will trigger the apps migration while others dont

this needs to be simplified and uniformized
but first id suggest getting rid of the old legacyappphp and put more of the logic into the app manager

 butonic ",TD,TD
306,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 look at the html of the files app
 search for items with the id notification

 expected behaviour
there should be only one item with that id

 actual behaviour
there is a div with the id notification inside notificationcontainer div
and multiple in appcontent divs

 server configuration
operating system
debian
web server
apache 
database
sqlite
php version
php 
owncloud version see owncloud admin page

updated from an older owncloud or fresh install
fresh
where did you install owncloud from
git

the content of configconfigphp



    system 
        instanceid 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            localhost
        
        datadirectory homearturwwwowncloudcoredata
        overwritecliurl httplocalhostowncloudcore
        dbtype 
        version 
        logtimezone utc
        skeletondirectory tmpdata
        installed true
    



list of activated apps


enabled
   comments 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filessharing 
   filestrashbin 
   filesversions 
   provisioningapi 
   systemtags 
   updatenotification 
disabled
   encryption
   testing
   themeexample


are you using external storage if yes which one localsmbsftp
no
are you using encryption yesno
no
are you using an external userbackend if yes which one ldapactivedirectorywebdav
no

 client configuration
browser
firefox
operating system
debian",TD,Not_TD
307,"drop the file extension of part files and use a suffix like octemp to hide partially uploaded files

this would make it possible to upload legitimate part files

  replace extension in many locations just grep the code
  beware might need a repair step on upgrade to remove stray part files that might still be around on users filesystems not doing so would have people suddenly see a little invasion of old part files
  adjust clients to unblacklist part files 


butonic  ",TD,TD
308,"the app manager and legacy app code is a mess

an app can have many states
 no code
 code is there but not marked as installed needs an installedversion field in db
 code exists app is marked installed but not enabled
 code exists app marked enabled
 code exists app marked disabled
 app marked enableddisabledinstalled but code is missing
 

apparently when transitioning from  to  some code paths will trigger the apps migration while others dont

this needs to be simplified and uniformized
but first id suggest getting rid of the old legacyappphp and put more of the logic into the app manager

 butonic ",TD,TD
309,"currently in oc in the all my files tab both user owned filesfolders are merged with shared resources from other usersgroups at any level in the virtual tree

when the number of shares is high the performance of the system degrades drastically to the fact of waiting several seconds to list a folder the hack used in cernbox to avoid mounting shared resources when they are not needed is to guess based on the url and its parameters if the shared mounts must be mounted or not

for such purpose our usergroup shares file target names are suffixed with a unique id that indicates that this mount point is a shared folder 

in the hack based on query parameters like path file dir etc we decide to mount or not the shared file system the hack can be found 

we would like to have the possibility to scope user files and shared files based on the path
nowadays owncloud uses the files prefix for all files
we would like to have something like myfiles and shared namespaces for mapping directly to a mount point without having to guess based on dirty hacks we have in place",TD,Not_TD
310,"in the following scenarios initmountpoints is still called
 login ex any request with cadaver it is triggered by the gc for chunks
 any webdav call because ocservergetuserfolder is not lazy and is called to be injected in some of the dav plugins
 basephp calls setupfs right away in 
 possibly more

  fyi potential perf improvements for nonfs calls",TD,TD
311,"when overwriting existing files the encryption code relies on the part file name to find out what the final file name is this in order to get the existing encryption key set


 ownerpath  thisutilstrippartialfileextensionownerpath
 realfile  thisutilstrippartialfileextensionpath
 public function strippartialfileextensionpath 
 realfile  thisutilstrippartialfileextensionpath
 realfile  thisutilstrippartialfileextensionpath
 realfile  thisutilstrippartialfileextensionpath


this is bad because it prevents us to change the format of the part files to solve issues like too long file names 

this blocks ",TD,TD
312,"the storage backend handling has been moved to core already as per  this means that any apps using this api and future apps will be expected to do so do not require filesexternal to be enabled any more

plan
  move gui to core  settings
  move occ commands to core
  move all external storage backends from filesexternal to separate market apps 

 fyi",TD,TD
313,"see 

jvillafanez ",TD,Not_TD
314," core
  appconfig
  storages
  mounts
  mimetypes
  filecache
  groupuser
  groupadmin
  groups
  preferences
  properties
  share
  jobs
  users
  authtoken
  vcategory
  vcategorytoobject
  systemtag
  systemtagobjectmapping
  systemtaggroup
  privatedata
  filelocks
  comments
  commentsreadmarkers
  credentials

 apps
todo

 butonic fyi

by the way if we want to change fileid of ocfilecache to bigint well first need to port its schema to be a migration 
",TD,TD
315,for some reason it seems that weve gotten used to using aliases in the ocserver containerfrom my understanding if we want the magic di to work properly we should ideally not have to define anything there in the event where we do need to we should probably define the entries using interface names this way when we query objects that for example require ocpiusersession the server knows where to find it currently one needs to manually instantiates an object and call cqueryusersession to pass  butonic vicdeo jvillafanez ,TD,TD
316,many tests rely on a default user or group backend to be set when using ocservergetusermanagerothers set it explicitly using ocuserusebackendfor both cases we need to stop using usebackend and add explicit backend initialization or even better use mocksthe trouble with this is that if a specific test does setup some backends it might affect other tests as a sideeffect ideally all backends need to be cleared after testing anyway but doing this currently breaks more tests that assume a default backend,TD,TD
317,the share provider id is hardcoded to be ocinternalthis makes the identifier method defined on the ishareprovider uselessmy workaround is to use ocinternal for the id of my provider,TD,TD
318,according to the provider getchildren method should not be neededwe are implementing our own sharing and we would like to reuse your share manager in the cleanest possible way but that method stop us as we do not want to have such method in our providerthe blocker pr has been merged so i see no need to have it therethe workaround we have now is thischeers,TD,TD
319,the filelist object already had a dirinfo object containing the propfind result on the current directory from here we can already extra information like remaining quotahere are the different values from getstoragestats which we should get rid of  move to somewhere else  maxupload  move to capabilities api  skull   freespace  use filelistdirinfo instead quotaavailablebytes  maxhumanfilesize  skull   usedspacepercent  use filelistdirinfo quotausedbytes instead  owner  use filelistdirinfo owner instead  ownerdisplayname  use filelistdirinfo owner display name instead,TD,TD
320,to avoid code duplication we should look into finding a way to reroute the old files endpoint remotephpwebdav to the new one remotephpdavuserfilesmaybe theres a way to do this on sabre level by making the node from remotephpwebdav actually be the userhome node from the other onecare needs to be taken however that the old file chunk upload still works from what i see were still using the old file implementation so old chunking might already still work when puting to the new dav endpointthoughts  butonic ,TD,TD
321,jvillafanez i dont think its high prio but still raised to track here,TD,Not_TD
322, says int but doctrine and pdo say string we should say string as well sequences might return non intthat is unless we agree to always use int based autoincrement values in our tables then we should add a cast to int in and change  to int as well,TD,TD
323,afaict the installer is the only code piece that uses ocarchivezip to  and  an app tar archive is never used because apps are always downloaded as zip all the other methods in the ocarchive interface are unused  reduce the abstact class and remove everything but open and extract   remove unneded methods in the zip implementation   remove unneded tar implementation if this is too harsh we should at least deprecate the unused methods they are in the private namespace anywaycc   i stumbled over this during a partial code review,TD,TD
324,most of the token related logic was implemented in the ocusersession class while developing and fixing bugs the class grew to a state where its pain to add new or adjust existing functionality moreover some of the public methods the class provides are not part of the public iuserinterface interfacethis class should be refactored by extracting the token related logic into an separate class with a defined public interface that new class should handle processes  create new tokens browser  validate  get the current session  clone token data into a new token eg create a device token when logged in via the browser or when using the  retrieve the current user password eg for external  …that new service should use a ocauthenticationtokeniprovider object to talk to a token provider ideally those token providers should become public api to allow third party developers to plug in their custom token handling logic,TD,TD
325,path length calculations have to be verified and tested if the path contains multi bye characters,TD,TD
326,"in the following scenarios initmountpoints is still called
 login ex any request with cadaver it is triggered by the gc for chunks
 any webdav call because ocservergetuserfolder is not lazy and is called to be injected in some of the dav plugins
 basephp calls setupfs right away in 
 possibly more

  fyi potential perf improvements for nonfs calls",TD,TD
327,"the storage backend handling has been moved to core already as per  this means that any apps using this api and future apps will be expected to do so do not require filesexternal to be enabled any more

plan
  move gui to core  settings
  move occ commands to core
  move all external storage backends from filesexternal to separate market apps 

 fyi",TD,TD
328,"see 

jvillafanez ",TD,TD
329," core
  appconfig
  storages
  mounts
  mimetypes
  filecache
  groupuser
  groupadmin
  groups
  preferences
  properties
  share
  jobs
  users
  authtoken
  vcategory
  vcategorytoobject
  systemtag
  systemtagobjectmapping
  systemtaggroup
  privatedata
  filelocks
  comments
  commentsreadmarkers
  credentials

 apps
todo

 butonic fyi

by the way if we want to change fileid of ocfilecache to bigint well first need to port its schema to be a migration 
",TD,TD
330,"when overwriting existing files the encryption code relies on the part file name to find out what the final file name is this in order to get the existing encryption key set


 ownerpath  thisutilstrippartialfileextensionownerpath
 realfile  thisutilstrippartialfileextensionpath
 public function strippartialfileextensionpath 
 realfile  thisutilstrippartialfileextensionpath
 realfile  thisutilstrippartialfileextensionpath
 realfile  thisutilstrippartialfileextensionpath


this is bad because it prevents us to change the format of the part files to solve issues like too long file names 

this blocks ",TD,TD
331,for some reason it seems that weve gotten used to using aliases in the ocserver containerfrom my understanding if we want the magic di to work properly we should ideally not have to define anything there in the event where we do need to we should probably define the entries using interface names this way when we query objects that for example require ocpiusersession the server knows where to find it currently one needs to manually instantiates an object and call cqueryusersession to pass  butonic vicdeo jvillafanez ,TD,TD
332,the share provider id is hardcoded to be ocinternalthis makes the identifier method defined on the ishareprovider uselessmy workaround is to use ocinternal for the id of my provider,TD,TD
333,the filelist object already had a dirinfo object containing the propfind result on the current directory from here we can already extra information like remaining quotahere are the different values from getstoragestats which we should get rid of  move to somewhere else  maxupload  move to capabilities api  skull   freespace  use filelistdirinfo instead quotaavailablebytes  maxhumanfilesize  skull   usedspacepercent  use filelistdirinfo quotausedbytes instead  owner  use filelistdirinfo owner instead  ownerdisplayname  use filelistdirinfo owner display name instead,TD,TD
334,to avoid code duplication we should look into finding a way to reroute the old files endpoint remotephpwebdav to the new one remotephpdavuserfilesmaybe theres a way to do this on sabre level by making the node from remotephpwebdav actually be the userhome node from the other onecare needs to be taken however that the old file chunk upload still works from what i see were still using the old file implementation so old chunking might already still work when puting to the new dav endpointthoughts  butonic ,TD,TD
335,jvillafanez i dont think its high prio but still raised to track here,TD,Not_TD
336, says int but doctrine and pdo say string we should say string as well sequences might return non intthat is unless we agree to always use int based autoincrement values in our tables then we should add a cast to int in and change  to int as well,TD,TD
337,afaict the installer is the only code piece that uses ocarchivezip to  and  an app tar archive is never used because apps are always downloaded as zip all the other methods in the ocarchive interface are unused  reduce the abstact class and remove everything but open and extract   remove unneded methods in the zip implementation   remove unneded tar implementation if this is too harsh we should at least deprecate the unused methods they are in the private namespace anywaycc   i stumbled over this during a partial code review,TD,TD
338,port these  to the integration tests for better visibility,TD,Not_TD
339,most of the token related logic was implemented in the ocusersession class while developing and fixing bugs the class grew to a state where its pain to add new or adjust existing functionality moreover some of the public methods the class provides are not part of the public iuserinterface interfacethis class should be refactored by extracting the token related logic into an separate class with a defined public interface that new class should handle processes  create new tokens browser  validate  get the current session  clone token data into a new token eg create a device token when logged in via the browser or when using the  retrieve the current user password eg for external  …that new service should use a ocauthenticationtokeniprovider object to talk to a token provider ideally those token providers should become public api to allow third party developers to plug in their custom token handling logic,TD,TD
340,path length calculations have to be verified and tested if the path contains multi bye characters,TD,TD
341,"this comes from 

clients need a way to tell apart some generic error codes there can be many reasons for a   different subcodes with an additional message eg the current unsupported client version can be handy on how to handle those from the clients logicwise not only displaying the message",TD,TD
342,"to track technical discussion around this topic



from patrickjahns
we should be very cautious with allowingdesigning interapp dependencies   level might be fine  a depends on b   but what about nested dependencies   c depends on a  but a depends on b  how will this be resolved for installing owncloud also thinking of the delivery mechanism where customers can click together their owncloud with the apps they wantpayed for  the service then needs to also handle this logic ",TD,TD
343,"

thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 description
selectors start with ids   id  this is a good practice jquery will select elements via  documentgetelementbyid    which is the most efficient selector however selections placed after the id should be placed in the  find  method

 motivation and context
improvement in the jquery code

 documentation



 incompatibility issues
 and below owncloud system requirements  so is not a problem

 pull request
currently closed until it has been correctly discussed
",TD,Not_TD
344,"implementation discussion to solve issues necessary to achieve 

i would like to limit the scope of this ticket to what is necessary for altering the username of a user conceptual  architectural changes should be in 

tables would need to be updated to alter the username
  addressbooksprincipaluri
  authtokenuid  loginname
  calendarchangesuri
  calendarsprincipaluri
  calendarsubscriptionsprincipaluri  uri
  cardsuri  carddata blob
  cardspropersvalue
  commentsactorid
  commentsreadmarkersuserid
  davsharesprincipaluri
  groupadminuid
  shareuidowner
  shareuidinitiator
  sharesharewith  sharetype  
  shareexternaluser
  shareexternalowner

should we also unify the column names uid  would require some code changes to map to the new column names

open questions
  what happens with synchronised federated addressbooks that contain the userid
  what happens to federated shares that rely on the userid in the instance
  we need to fix userid in the system addressbook vcard data",TD,TD
345,"see 

quote butonic

caused by updating quota or email properties which trigger an update of the addressbook cards by the card dav backend which triggers fatching avatars which triggers fs initialization which takes ages  several prs incoming but still needs

    a new interface for avatar provisioning and probably
    a better fs for avatars
    no longer initialize the fs for every user because the avatars now reside in dataavatars instead of user homes",TD,TD
346,bower is dead  long live yarn,TD,Not_TD
347,"i was tracking down an issue on the client  when i found out the webui is still using the old avatar everywhere

 settings  general panel
  page header
 private internal shares

this is a proposal to deprecate that old api in favor of the newer  webdav api  for the sake of keeping just one resource for avatars corewide 

cc  ",TD,TD
348,iusersessionlogin has the following signature          do a user login      param string user the username      param string password the password      return bool true if successful      since          public function loginuser passwordfrom looking at the code i found that in some cases false is returned in case of a failed login attempt other code paths throw a loginexception though the problem is that some of the client code checks the return value while other catches the exception i didnt find any code that does bothi guess this is not the intended situation so id like to fix that by either using only the return value or throw an exception in all error casesalso note that that the exception is not documented on the interfacelukasreschke   nickvergessen rullzer  what do you prefer ,TD,TD
349,jvillafanez i dont think its high prio but still raised to track here,TD,Not_TD
350,"the current implementation of insertifnotexists is not race condition safe since the having statement is executed separately to the insert this means that anywhere we use insertifnotexists is vulnerable to race condition situations lots of places 

we now have upsert which does proper locking and works with clusters  resolves deadlock situations but we should also rewrite insertifnotexists to properly lock and insert  and catch duplicate exceptions if created",TD,TD
351,"when trying to upload htaccess files which the server does not support since theyre part of blacklistedfiles in the capabilities  

client version  removed htaccess from its fixed exclusion list  users might still manually add those there and maybe client should have different exclusion lists for each capabilities blacklistedfiles from the servers it is connected to 

but still server should not reply  insufficient storage upon blacklistedfiles upload a  error with a more userfriendly message would be handy ",TD,TD
352,"in deployments that allow passwerdldap based login and sso via saml we currently recommend to set up oc with password based login under owncloud and saml protected login under ocshib that is bullshit because links generated when accessing the site via saml will contain the ocshib part which prevents access to the share link without going through saml setting overwritecliurl does not fix that and is not intended for that

i would be great to expose different factors under different urls eg
 login enter only the login name oc can then decide which factor will be used to authenticate the admin may dafine an auth chain or tha user may add a factors that is deployment specific
 loginpwd for the default password based auth
 loginsaml for saml based auth
 loginmail for sending an email to the user with a login link
 logintotp for 
 loginhotp for 
 logintiqr for 
 loginsms for an sms to the users phone 
 loginkerb to require a kerberos token
 logincert to require a client certificate


we could extend the existing  currently using urls like loginchallengetotp

instead of checking if twofactor is enabled i propose to look at how pam allows configuring the auth
a login via saml or pwd  sms could be configured like this
php
authfactors    order is important  or we store this inside the db
  pwd  required
  sms  required
  saml  sufficient


after entering the login on login the user will be redirected to loginchallengepwd to enter his password then to loginchallengesms to enter a pin that was send via sms the login route can detect if a saml session is present and redirect the user to loginchallengesaml which is a saml protected endpoint this might even be done by apache to reflect the desired auth behavior eg saml in the internal network pwdsms from outside

login via saml or password like this
php
authfactors  
  pwd  sufficient
  saml  sufficient



it should be possible to directly use a url like loginchallengepwdloginaliceexampleorg to fill in the user without having to go through the login page this allows other systems like an  firewall do preauthenticate users and then directly invoke a certain factor 

 related
 webdav uses device specific passwords or oauth web ui uses the session 
  disable user passwords for webdav access enforce device tokens
  make usershibboleth become a factor provider it is not really a user backend


 questions
what about autoprovisioning upon first login
 after authentication happened metadata like displayname email and avatar need to be provisioned on the first login we already have ocpuseriprovidesemailbackend and the like they can be used to fill in the metadata for new accounts if any field is missing show a form to the user to enter missing metadata before allowing login

what about matedata sync
 after authentication happened metadata like displayname email and avatar need to be updated
if it is available in any of the userbackends it will be used to update the account 

 scenarios
 log in via saml with autoprovisioning
saml is required no pwd based auth
 saml token contains email email is looked up in the account table corresponding user is logged in
 saml token contains userid userid is looked up in the account table corresponding user is logged in

 log in ldap user via saml
saml is sufficient pwd based auth against ldap possible as well
 saml token contains email email is looked up in the account table directly in ldap corresponding user is logged in metadata is updated from ldap
 saml token contains userid userid is looked up in ldap returns a userid corresponding user is logged in
 userid lookups should happen directly with ldap to allow login with email even if it was changed and differs from the account table so that login and sync is still possible

 log in ldap user via saml or autoprovision
saml is sufficient pwd based auth against ldap possible as well if no ldap user is found it will be autoprovisioned
 saml token contains userid email and displayname email is looked up in ldap returns a userid corresponding user is logged in metadata is updated from ldap
 saml token contains userid email and displayname email is looked up in ldap not found is looked up in account table or directly in saml corresponding user is logged in metadata is updated from saml token

 log in user via facebook or twitter
php
authfactors  
  facebook  sufficient
  twitter  sufficient


show alternate login buttons on login because no login needs to be entered really or can that be the fb  twitter login which is then used to prefill the login requests for fbtwitter might make sense if admin allows login via fb and user opted in to that so he enters his login and then is forwarded to loginchallengesfacebook instead of loginchallengespwd if fb fails he is forwarded to the pwd challenge as a fallback 
what about the userid that fb  twitter provide we need to tie that to the account each factor needs his own mapping to an account  an ocaccountauth table with accountid bigint factor varchar  login varchar  lastlogin datetime with a uniqe index on the first three columns


 log in user via facebook or twitter as the second factor
php
authfactors  
  pwd  required
  facebook  required
  twitter  required


hm noticing that a simple list is not good enough how should the admin specify that he wants users to use twitter or facebook or an email token as a second factor present the user with the additional auth sources so he can choose



 benefits
 prevents unaccessible share links
 password based login code could be moved to an app to completely disable it
 same code for all logins
 admin configurable auth factors
 passwordless login possible by eg always using a login token sent via mail
 users can add additional factors

",TD,TD
353,"see 

some code paths can lead to checking csrf for propfind or other methods

this should be changed to only ever check csrf for post requests

this could then avoid strange errors like 

 settermjd ",TD,TD
354," steps to reproduce
 configure local external storage
 go to local folder
 remove one folder

 expected behaviour
localrmdir method is called once

 actual behaviour
localrmdir method is called twice
it happens to me in other external implementation i suppose is a core problem

 server configuration
ubuntu 

web server
apache

database
mysql

php version


owncloud version see owncloud admin page
  both community and enterprise

updated from an older owncloud or fresh install
fresh

where did you install owncloud from

signing status owncloud  and above


technical information

the following list covers which files have failed the integrity check please read
the previous linked documentation to learn more about the errors and how to fix
them

results

 core
	 extrafile
		 containerstatusphp

raw output

array

      array
        
              array
                
                      array
                        
                              
                              
                        

                

        




list of activated apps


enabled
   activity 
   comments 
   configreport 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   firstrunwizard 
   gallery 
   notifications 
   provisioningapi 
   systemtags 
   templateeditor 
   updatenotification 
disabled
   encryption
   external
   filesantivirus
   userexternal
   userldap


",TD,TD
355,"see 

some code paths can lead to checking csrf for propfind or other methods

this should be changed to only ever check csrf for post requests

this could then avoid strange errors like 

 settermjd ",TD,TD
356,because we start using travis for some core prs now individual job execution times are more criticalonce of the most critical are jobs which use oracle for unit testinginstalling oracle taken most of the timein addition we should switch to the container based infrastructureaffected apps activity antivirus updater documents,TD,TD
357," apc is unmaintained 



 xcache is only available for php 

last release   

lets kill those as soon as we go for  only",TD,TD
358,given the following  create two users  and   shares a folder test with   renamed test to my testthe current data structure works as follows the share is added into ocshare and filestarget is set to test the folder test is mounted in  filesystem based on the name in filestarget when  renames test the mount point we need special logic because the name is actually in the ocshare tablethe problem with this is that the virtual shared folders name is in the ocshare table which requires a lot of specialized logic to handle such casesi suggest to change the mount logic to work like linux filesystems which means that the target mount point must be an existing empty folder or empty file autocreate a folder test in  filesystem this gives it a real entry in ocfilecache create an entry in ocshare but have filestarget point to the fileid of that empty folder whenever  renames or moves test there is no need for special logic any more no need to touch ocshareto be discussedresearched,TD,TD
359,"as part of  owncloud is considering what is used as the owncloud useridusernameloginid throughout owncloud and also how it is exposed to external systems whilst migrations are possible internally knowing the full context of the change external systems require notification of the change and if possible a migration to keep the functionality consistent

we can use this ticket to discuss implications and possible solutions 

ongoing  impacted by the outcome of  ",TD,TD
360,"since phpunit  support has ended in february   and phpunit  does not officially support php  we need to refactor the test suite

phpunit  already has a forward compatibility layer that we could start using now before we move fully to 

how to migrate


update recommendations

we propose to have a namespace adjusted to reflect these best practices


tests for a class should reside in the same namespace but finish with test

application classes
srvhttpowncloudappsmyapplibmyclassphp

test classes for application
srvhttpowncloudappsmyapptestsunitmyclasstestphp
documentation changes tracked here ",TD,TD
361,"when using uikit in apps some of uikits styles are broken because oc core has too strong overrides

we need to clean this up to make room for uikit to work

some work has started here ",TD,TD
362,"in appphp from some apps objects are created that already access the filesystem through the fs api aka node api of owncloud this triggers an early initialization while some other plugins might not have been registered yet

we should strictly forbid such fs access or any other io operations while app code is still being loaded

some idea how to do it have appmanager store a loading state
 statenotloaded app loading process has not started
 stateloading apps are being loaded when running loadapp for every app
 stateloaded when all apps were loaded

then in the fs classes  api check said flag if the flag is different than stateloaded throw an exception

it is likely that many apps will not be able to function properly without this so in cases where fs access is needed during initialization we need to find another solution

butonic patrickjahns  jvillafanez ",TD,TD
363,"the api acceptance tests are passed the base url of the serverundertest in a format like




when they want to access some api endpoint that does not start with ocs then they take the ocs off and then add the required string for the url

the webui acceptance tests are passed the base url of the serverundertest in a format like




and they add the ocs or other endpoint url as needed to access api endpoints

also it is not currently consistent if the passedin base url always has a  at the end or not

this all makes a bit of a muddle for different methods that are in api acceptance classes and webui acceptance classes

to discussdecide

  common standard format for storing baseurl
  whether to require a  at the end or not or be flexible parsing the passedin value

individualit sergiobertolinsg davitol ",TD,TD
364,"the api acceptance tests are passed the base url of the serverundertest in a format like




when they want to access some api endpoint that does not start with ocs then they take the ocs off and then add the required string for the url

the webui acceptance tests are passed the base url of the serverundertest in a format like




and they add the ocs or other endpoint url as needed to access api endpoints

also it is not currently consistent if the passedin base url always has a  at the end or not

this all makes a bit of a muddle for different methods that are in api acceptance classes and webui acceptance classes

to discussdecide

  common standard format for storing baseurl
  whether to require a  at the end or not or be flexible parsing the passedin value

individualit sergiobertolinsg davitol ",TD,TD
365,"when using uikit in apps some of uikits styles are broken because oc core has too strong overrides

we need to clean this up to make room for uikit to work

some work has started here ",TD,TD
366,"one starting point for our latest apidocumentation efforts was to observe and map the xhr traffic from the webui in order to get an idea of which public interfaces surface a client should use to interact with the server 

normally clients dont require apis to interact with core settings  unless were speaking about reading said settings to adjust their behavior to servers eg disabling some sharing options setting a chunking algorithm

now that we want to look at  as an advanced modern client that must have to interact in detail with some of the admin settings  we should also uncouple and get rid of some of the old ajax apis that do the job on the webui and while doing so untangle some of ownclouds most complicated and ambiguous settings sharing 



i thought it would be a good idea for this usecase to integrate these with the capabilities into a higherlevel extensible first class citizen capabilities api 

this issue might be seen as part of a bigger picture eg   feel free to close if a coarsegrained approach to track in larger issuesprs is preferred

cc patrickjahns as part of the api powerusers team  to get architectural insights on the last ",TD,TD
367,"i was looking around the ocs api once again and noticed 



 this causes some hardcoded values to be returned on the ocsconfig endpoint 


 curl x get  u adminadmin


    ocs 
        meta 
            status ok
            statuscode 
            message null
        
        data 
            version 
            website owncloud
            host localhost
            contact 
            ssl false
        
    



i guess

 website  specially for branded versions 
 contact
 ssl

 should also be dynamically generated from eg configphp 
",TD,TD
368,"davigonz discovered just now that owncloudandroid is using the  endpoint to query quota information from the server  we noticed some unexpected behavior as for 

 result from get 


curl u adminadmin x get  h ocsapirequest true


json

    ocs 
        meta 
            status ok
            statuscode 
            message null
        
        data 
            enabled true
            quota 
                free 
                used 
                total 
                relative 
            
            email null
            displayname admin
            home mntdatafilesadmin
            twofactorauthenabled false
        
    



  while the propfind returns


curl u adminadmin h  h contenttypetextxml  x propfind  databinary 

  
    
    
  




xml

dmultistatus xmlnsddav xmlnsoc xmlnss
   
      remotephpwebdav
      
         
            
            
         
           ok
      
   



 

not only dataquotaused and dquotausedbytes differ but also the special negative value for dquotaavailablebytes does not appear on the ocs reply  ref  

 when quota information is requested for such a storage oc will return  for unknown free space and  for unlimited free space  is for not computed

cc  and paurakhsharma since ive seen you creating some api tests for ocs user provisioning api on  ",TD,Not_TD
369,scolebrook  found some good optimizations tips hereweve just upgraded our system to use percona xtradb cluster with cluster control from severalnines were seeing lots of queries being reported that perform full table scans ive found some queries in  that could be optimizedcorelibprivategroupdatabasephp line  where lowergid should be replaced with using lower in the insert and updates for this table so that index can be used the index on gid is being ignored because the result of a function is being compared not the columnsame in corelibprivateuserdatabasephp line  in an update queryand line  this one also should see displayname added as an index on the users tableline    also with uidi see this referred to in  this pr was against  and was never merged it was closed about  year ago the approach here was to make a column to hold a lower case version of uid in the users table it would be populated during an upgrade and changes to this table would include writing a lower case version to this column at insertupdate time uid is a common key and is used in many tables but the ideal solution would see this be changed in all tables at once rather than store a duplicate of the data in an additional column however that may impact  party apps so a change that big should coinside with a major release the lower case column was a good compromisecould you please bring this issue up again for us it is poor design and very inefficient we use ldap and even though there are hundreds of thousands of these queries daily it doesnt impact us measurably but it produces a lot of noise in our reporting system which can hide other issues that do actually impact our performancemorrisjobke iliyasbasir ,TD,TD
370," setting testtxt as favorite

 current webuis implementation 

bash
curl u adminadmin x post  
  h contenttype applicationjson 
  d 
	tags 
		
	



 proposal 

bash
curl u adminadmin x proppatch  
  h contenttype applicationxml 
  d 
dpropertyupdate xmlnsddav xmlnsoc
    
    
        
    
  




to unset it make it  cc  as proppatch advocate",TD,TD
371,currently the fileactions api action handlers require the following information file the file element in the file list filelist file matching filelist instance filename name of the file dir directory of the filethis creates tight coupling of file actions with a file listthis means that it is not possible to trigger file actions with only a file path for example also many file actions are triggering visual stuff on the filelist remotely or calling methods on the filelistnow if we want to have fileactions available in other apps like galleryplus they cannot depend on the filelist class which doesnt exist there if it does it means the gallery app must implement the thumbnail list using an interface similar to filelistalso fileactions may be rendered differently in other apps including the way how file actions affect the ui for example renaming triggers a rename box which rendering would be dependent on how the file list looks like which might be different in galleryso in the end fileactions needs to be more abstract it should be just a collection of actions with the matching action handlersi even wonder if the action handler functions should rather be registered from outside and then fileactions would trigger an event then from outside the file list could just listen to an event fileactionsonactionrename and then do whatever it is supposed to dothird party apps must still be able to add their custom actions to files for example an action lock to exlusively lock the file for the current user which means some action handlers would still come from the outside but the action itself might not be compatible with the currently rendered list if it contains any ui element that is different from the regular file listso im not sure yet how to handle this needs further thinkingnow that we have the right sidebar in the files app we want to be able to trigger file actions from there since file actions require a file list it means the sidebar needs to receive the filelist object too this is not acceptable if we want the sidebar to be reusable in other contexts where no filelist object is available like the galleryplus appcc oparoz for some input,TD,TD
372,i am currently struggling a lot because it is close to impossible to cleanly synchronise model state between different views with the legacy files app js code that mixes everythingas of now we have not only the file list containing a representation of a file model but also the right sidebar this is shouting for proper mv and for that id like to port the filelist class to backbone jsit would look like this  fileinfomodel is a new model that contains file information the format file info arrays  fileinfocollection contains an array of fileinfomodel  filelist class becomes filelistview and accepts a fileinfocollection  any change  file action done from either the file list controls bar or side bar will be done directly on fileinfomodel  any view that displays the state of a file will listen to fileinfomodelonchange  events and update themselves to reflect the latest changes  file actions are done directly on the model and could be rewired later to use webdav instead of the ajax endpoints  this is what i am currently missing with the sidebar actions one example is the star icon from the favorite file that needs to be displayed and actionable in both a file row and sidebarsee care needs to be taken to keep the subclasses of filelist compatible like trashbinfilelist and the sharing overview listscc blizzz ,TD,TD
373,the fact that currently apps js code can do whatever they want makes it impossible to load resources asynchronously like translations or mimetypes this leads to workarounds like having a generated js file that can be loaded with addscript instead of ondemand  with ajaxone solution to think about would be to provide entry point hooks for appsan apps js code should then register itself ocappregistermy app myappclassthe myappclass would then have a method init that will be called asynchronously after all async resources are readynote that this is not only about the currently visible app multiple apps can register their js code at the same time like file viewers fileactions when the file action is visible etcso its a matter of providing a single entry point for  rullzer raydiation ,TD,TD
374,"in appsfilesjsfilesjs in the getdownloadurl method it still uses the old remotephpwebdavpath endpoint

this needs to be changed to use the new endpoint remotephpfilesuserpath
best is to get the base url from the default ocfilesclient instance or the one from inside the filelist

cc labkode ",TD,TD
375,"the current implementation doesnot allow anything better than 


possible improvements
 a separate public utility class with getprivacypolicyurl and getimprinturl
 a public base class that provides these methods and all themes that need this feature should extend it
 ",TD,TD
376,"purpose of this ticket is to get an overview where the test weaknesses are
yes these are visible in codecov but we have the opportunity to raise the focus on classes we had to touch recently because their code is more live

every time a unit test got skipped in a pr because not testable please make sure the class file is listed here

later on we can schedule some small refactoring tasks to address these in small steps considering that the required refactoring isnt trivial

 classes that are not or barely unit testable

 

 classes missing tests altogether or low coverage

 

",TD,TD
377,"after  is out we should focus on first merging all tasks related to phpcsfixer to  and also enable php stan

  phpcsfixer on  
  precommit hook for phan 
  phan on  backport 

anything else  phildavis  patrickjahns ",TD,TD
378,"the  in owncloud has been a great idea however  there are plenty of great static code analyzer tools out there it is more feasible to use a tool that is designed for static code analysis and provide owncloud specific rulesextensions 


ref

",TD,TD
379,it would be nice to have a generic symfony event dispatcher in core currently there are multiple places where we have used symfony event dispatcher which can be moved to a generic class to handle the event dispatchers,TD,TD
380,"a few releases ago we moved away from the bower file and moved the dependencies into the buildpackagejson file for npm however they still use the bowercomponents approach which is designed to be transitional many automation tools have trouble with these

we should finish the transition to full npm dependencies and find a way to package said dependencies maybe with webpack

some work had already started in the first commits of  but we got stuck due to weird issues with  possibly related to loading order

estimate  as we need to debug and understand the weird issue and also hope there arent more such issues

 felixheidecke ",TD,TD
381,"in various places in owncloud some texts are using double quotes around user display names and in others they arent

we should decide what approach to take as a style guide and adjust everywhere

 case for double quotes

the user patrick maier shared project ideas with you

 pros
 clear delimitation from the surrounding text 

 cons
 doesnt flow well with the text
 looks technical

 case for having no delimiter
the user patrick maier shared project ideas with you

 pros
 looks user friendly

 cons
 for some special names the result might become confusing the user user one shared folder with you vs the user user one shared folder with you

 open questions
 should the quoting be different based on what kind of value it is  ex path name vs user name

jvillafanez  

felixheidecke id appreciate your ux input on this",TD,TD
382,"as the client now supports more modern checksum algorithms we should start to plan a upgrade on the server 

 is supported by php natively starting from version 
this will require a database schema change as the current checksum column is filecache is varchar ",TD,TD
383,"when triggering symfony events we always use genericevent
we should at least use an own class maybe owncloudevent that extends genericevent

for more specific cases we could have another subclass of owncloudevent for example sharingevent

sharidas jvillafanez fyi",TD,TD
384,"  get rid of legacyutil in core 
  replace  with a controller or remove completely if unused
  get rid of ocmountconfig",TD,TD
385, encryption uses ocaencryption instead of ocafilesencryption  sharing is hacking itself into all kind of namespaceoc phpocclasspath  filessharinglibsharefilephpocclasspath  filessharinglibsharefolderphpocclasspath  filessharinglibsharedstoragephpocclasspath  filessharinglibcachephpocclasspath  filessharinglibpermissionsphpocclasspath  filessharinglibupdaterphpocclasspath  filessharinglibwatcherphp same issue with the externals phpocclasspath  filesexternallibstreamwrapperphpocclasspath  filesexternallibftpphpocclasspath  filesexternallibowncloudphpocclasspath  filesexternallibgooglephpocclasspath  filesexternallibswiftphpocclasspath  filesexternallibsmbphpocclasspath  filesexternallibsmbocphpocclasspath    filesexternallibdropboxphpocclasspath  filesexternallibsftpphpocclasspath  filesexternallibconfigphpnow the question is what happens if we try to rename the storagecache backends  also both use ocafilesexternal  ocafilesshare instead of ocafilesexternal  ocafilessharing for some classes that should simply be renamed phpocclasspath  filessharinglibapiphpocclasspath  filessharinglibmaintainerphpocclasspath  filessharinglibproxyphpocclasspath  filesexternallibapiphp,TD,TD
386,"since recent oc versions  or  an email is already sent to recipients through the oc notifications framework this obsoletes the need for this button

would be good if we could remove it at least in oc  as it would save a lot of refactoring work that is needed to remove the old sharing  code see 

 ",TD,TD
387,"after  is out we should focus on first merging all tasks related to phpcsfixer to  and also enable php stan


  phpcsfixer on  
  precommit hook for phpcsfixer 
  phan on  backport 

additions
  deprecate ocpcodechecker and make it an extension 

anything else  phildavis  patrickjahns ",TD,TD
388,"after  is out we should focus on first merging all tasks related to phpcsfixer to  and also enable php stan


  phpcsfixer on  
  precommit hook for phpcsfixer 
  phan on  backport 

additions
  deprecate ocpcodechecker and make it an extension 

anything else  phildavis  patrickjahns ",TD,TD
389,"acceptance tests try hard to be black box  and to use the testing app endpoints to set settings on the server or run occ commands on the server or they avoid doing things behind the servers back so that they do not rely on the server file system being the same file system as where the acceptance test script happens to be running

some api acceptance tests need a localstorage folder available and they mount this into the server owncloud the occ commands to mount it are done via the testing that is all good but the creation of the localstorage folder is happening externally

 on drone it happens in the droneyml which sets up the server
 when running acceptance tests locally the runsh script tries  to create the folder that works if you are running in a pure local dev environment with php dev servers all as your own user name or if you sudo wwwdata runsh if your server is running as wwwdata but if your server is running as wwwdata you should still be able to run the acceptance tests as yourself black box

we should be able to create localstorage via the testing app endpoints nowadays try that",TD,TD
390,"after discussion with vicdeo and  the request was made to create an issue to deprecateremove coreajaxphp 

according to vicdeo its likely a legacy endpoint existing since version  originally added for remote administration however since it likely not used anymore its a clear candidate for being removed 

that said research will need to be conducted to ensure that its definitely no longer being used before it can be removed and a new public api endpoint to work with phoenix will be required",TD,TD
391,"after reviewing the code ive come across a number of empty code blocks that serve no purpose perhaps at some earlier time they were used but have gradually been trimmed down over time until they are now empty yet never removed regardless as they no longer serve any purpose other than to cause confusion its best to remove them 

they are











",TD,TD
392,"when the usermanagement  app was split out into its own repo from core master the ordinary login and reset password features that stay in core were put into an acceptance test suite called webuilogin

that did not happen in core  because core  has the usermanagement app code in it unchanged

but it is confusing for people so in stable we should make a wwebuilogin suite anyway
",TD,TD
393,"when installing owncloud via cli the instanceid is not directly set

this causes issue when one wants to install owncloud and set the configuration into a readonly mode  configisreadonly  true directly afterwards

the only place where we set the intanceid is at



 steps to reproduce
  install owncloud via cli
 set configisreadonly  true in configphp
 try to access owncloud  execute occ


 expected behaviour
owncloud works

 actual behaviour

an unhandled exception has been thrown
exception config file is read only in 
stack trace
  occonfigsetvalueinstanceid 
  ocsystemconfigsetvalueinstanceid 
  ocutilgetinstanceid
  ocserverocclosureobjectocserver
  pimplecontaineroffsetgetmemcachefactory
  ocappframeworkutilitysimplecontainerquerymemcachefactory
  ocservercontainerquerymemcachefactory
  ocservergetmemcachefactory
  ocserverocclosureobjectocserver
  pimplecontaineroffsetgetappmanager
  ocappframeworkutilitysimplecontainerqueryappmanager
  ocservercontainerqueryappmanager
  ocservergetappmanager
  ocappgetenabledapps
  ocapploadappsarray
  ocinit
  requireonceusersusr
  requireonceusersusr
",TD,TD
394,"ocpfilesfolder has a getrelativepath method that is expected to return a string however the implementation ocfilesnodefolder might return null

this mismatch is causing problems with phpstan because we should check for null values due to the implementation",TD,TD
395,"during development it happens that someone changes the app types in infoxml but forgets to increase the version number or is simply reusing the current app code

a lot of time was lost debugging to find out why some events were not triggered the problem was that the types in the db did not match the ones in infoxml

this brings me to the question of why are we still caching the app types in the database 
i think nowadays we anyway need to parse infoxml as far as i remember there is already a mechanism in place to cache infoxml in memcache and observe the mtime of the file for changes
there is likely no need any more to cache the types in the database

thoughts   butonic tomneedham micbar ",TD,TD
396,"i was tracking down an issue on the client  when i found out the webui is still using the old avatar everywhere

 settings  general panel
  page header
 private internal shares

this is a proposal to deprecate that old api in favor of the newer  webdav api  for the sake of keeping just one resource for avatars corewide 

cc  ",TD,TD
397,"see pr  and  for examples and discussion

owncloudpage has a waittillpageisloaded method that looks for a loading indicator to become invisible on ordinary files pages there is no such indicator and filespagebasic extends owncloudpage and implements a waittillpageisloaded that works on filestypepages

some other pages directly extend owncloudpage and so get the base waittillpageisloaded

when the comments app is enabled the comments panel happens to have a loading indicator  so the base waittillpageisloaded just happens to work by checking that page element

  review each page object that extends owncloudpage and ensure that either it implements its own appropriate waittillpageisloaded or that the base one from owncloudpage is relevant",TD,TD
398,"some of the new acceptance tests for the occ provisioning commands useradd groupadd etc had step text copied over from the provisioning api tests but not fully modified

eg


when the administrator sends a group creation request for group  using the occ command


can be said better like

when the administrator creates group  using the occ command


review the gherkin step text",TD,TD
399,currently the users page has no js unit tests and the current structure makes it very difficult to introduce themto  restructure the users page classes in a way that make them unit  write some unit tests at least for the basic functionality,TD,TD
400,,TD,Not_TD
401,"sometimes test scenarios in testsacceptancefeatureswebuitrashbintrashbinfilesfoldersfeature fail because they do not yet see the files in the trashbin on the webui

anyway we also would like to check that a files deleted on the webui do appear in the trashbin api as well as on the trashbin page in the webui

add extra steps to check that the files exist in the trashbin api

note test fails happen more often with encryption enabled there seems to be some more delay in the files becoming visible in the trashbin in this case  which is to be expected this has been noticed in recent encryption app test runs",TD,TD
402,"in a lot of places in the acceptance tests there are steps that use the general form

when user userxyz sends http method post to ocs api endpoint endpointsomething with body


for example

when user brandnewuser sends http method post to ocs api endpoint cloudgroups with body
       groupid  newgroup 


in this example the knowledge about the cloudgroups endpoint is repeated in lots of test scenarios

replace these with specific functional steps like
 
when user userxyz creates group newgroup


and let the functional step have the knowledge about the gory detail of the endpoint and how to access it",TD,TD
403,"in acceptance tests we do real actions that are the proper when steps for the test scenario then we check routine stuff like the http status code and ocs status code

then we often want to check the real effect of the when actions  ie do not just believe the status codes for that we want to be able to do things like
 download a file and make verify its content
 upload a file and verify that it works
 query some status endpoint about the system user group file and verify it has some values

in many cases we already have steps that do this kind of thing in a single then step in the style of

then user  should be able to upload file abctxt
then for user  file abctxt should have content qwerty
then group  should have the following members
   phil 
   jim  


but here is an example from an app where we got forced to write another separate when step

    
    when user  updates the last share using the sharing api with
       expiredate   days 
    then the http status code should be 
    and the ocs status code should be 
    when user  gets the info of the last share using the sharing api
    then the share fields of the last share should include


the last  steps could be combined into a single step like

    then the current share fields of the last share should include

which would retrieve the current share info and then check the field values

  look for these sort of missing then steps and implement them in core
  use them appropriately both in core and app acceptance tests",TD,TD
404,"we have abstracted the administrator username in the acceptance test that is a good thing  if the administrator username is not admin on the systemundertest then we can pass in the administrator username via an environment variable

some tests steps already have available a sentence like

when the administrator does something

those are good and the code underneath uses the administrator username to do the something

in other places the code looks for admin and substitutes the administrator username

when user admin does something

that looks and is a bit magic

  find places that admin is being used and make steps of the form when the administrator
",TD,TD
405," libs

 jqueryfileupload used in core
 autocomplete comes from jquery ui  move to 
 
 
 
 
 date picker
 

 apps
  ldap wizard
  calendar
     jqueryuitimepicker
  contacts
     jqueryuitimepicker
  gallery
     jqueryuitouchpunch


",TD,TD
406,"some of the new acceptance tests for the occ provisioning commands useradd groupadd etc had step text copied over from the provisioning api tests but not fully modified

eg


when the administrator sends a group creation request for group  using the occ command


can be said better like

when the administrator creates group  using the occ command


review the gherkin step text",TD,TD
407,"upgrading from jquery  to    

hint apps that are stricken thru do not use jqueryui

  open jqueryuimigration 
  open jqueryuimigration issue  branch in corresponding app repos
     
     announcementcenter
     configreport
     
     davclient
     encryption
     enterprisekey
     
     filesexternaldropbox
     
     
     filesvideoplayer
     firewall
     
     gallery
     impersonate
     market
     notifications
     
     passwordpolicy
     ransomwareprotection
     
     systemtagsmanagement
     templateeditor
     twofactortotp
     
     usershibboleth
     windowsnetworkdrive
     workflow",TD,TD
408,"in acceptance tests we do real actions that are the proper when steps for the test scenario then we check routine stuff like the http status code and ocs status code

then we often want to check the real effect of the when actions  ie do not just believe the status codes for that we want to be able to do things like
 download a file and make verify its content
 upload a file and verify that it works
 query some status endpoint about the system user group file and verify it has some values

in many cases we already have steps that do this kind of thing in a single then step in the style of

then user  should be able to upload file abctxt
then for user  file abctxt should have content qwerty
then group  should have the following members
   phil 
   jim  


but here is an example from an app where we got forced to write another separate when step

    
    when user  updates the last share using the sharing api with
       expiredate   days 
    then the http status code should be 
    and the ocs status code should be 
    when user  gets the info of the last share using the sharing api
    then the share fields of the last share should include


the last  steps could be combined into a single step like

    then the current share fields of the last share should include

which would retrieve the current share info and then check the field values

  look for these sort of missing then steps and implement them in core
  use them appropriately both in core and app acceptance tests",TD,TD
409,"the following scenario and similar ones that check the thumbnail in the details panel sometimes fail

  scenario the recipient user should be able to view different areas of details panel in shared with you page  
    given the user has shared the folder simplefolder with the user user two using the webui               webuisharingcontexttheusersharesthefilefolderwiththeuserusingthewebui
    and the user relogs in as  using the webui                                                          webuilogincontexttheuserrelogsinusingthewebui
    when the user browses to the sharedwithyou page                                                           webuifilescontexttheuserbrowsestothesharedwithyoupage
    then the folder simplefolder  should be listed on the webui                                           webuifilescontextthefilefoldershouldbelistedonthewebui
    when the user opens the file action menu of the folder simplefolder  in the webui                     webuifilescontexttheuseropensthefileactionmenuofthefolderinthewebui
    and the user clicks the details file action in the webui                                                    webuifilescontexttheuserclicksthefileactioninthewebui
    then the details dialog should be visible in the webui                                                      webuifilescontextthedetailsdialogshouldbevisibleinthewebui
    and the thumbnail should be visible in the details panel                                                    webuifilescontextthethumbnailshouldbevisibleinthedetailspanel
      webdriverexceptionstaleelementreference stale element reference element is not attached to the page document
        session info 
        driver info     in 
      stack trace
         stale element r
        webdriverabstractwebdrivercurlpost execute array
        webdriverabstractwebdrivercallexecute array
        webdrivercontainercallexecute array
         return argument true
         return elemen
         style
        behatminkelementnodeelementgetattributestyle
        webuifilescontextthethumbnailshouldbevisibleinthedetailspanel

eg it happened just now in core 
and it has happened sometimes in when running with encryption andor object store   those are apps that have some impact on the backend timingperformance",TD,TD
410,"sometimes test scenarios in testsacceptancefeatureswebuitrashbintrashbinfilesfoldersfeature fail because they do not yet see the files in the trashbin on the webui

anyway we also would like to check that a files deleted on the webui do appear in the trashbin api as well as on the trashbin page in the webui

add extra steps to check that the files exist in the trashbin api

note test fails happen more often with encryption enabled there seems to be some more delay in the files becoming visible in the trashbin in this case  which is to be expected this has been noticed in recent encryption app test runs",TD,TD
411,"when webui tests delete files in the webui then sometimes the file does not disappear quickly enough from the file list on the webui this seems to happen more often when encryption is enabled and when multiple or all files are deleted in a batch eg



  scenario delete all files at once                                 
    when the user marks all files for batch action using the webui   webuifilescontexttheusermarksallfilesforbatchactionusingthewebui
    and the user batch deletes the marked files using the webui      webuifilescontexttheuserbatchdeletesthemarkedfilesusingthewebui
    then the folder should be empty on the webui                     webuifilescontextthefoldershouldbeemptyonthewebui
      folder contains items but should be empty
      failed asserting that false is true
    and the folder should be empty on the webui after a page reload  webuifilescontextthefoldershouldbeemptyonthewebuiafterapagereload
scenario result fail

 failed scenarios

    


the problem is resolved a bit by doing other steps before checking the webui eg   because that effectively puts in a semirandom wait

  look into how to improve waiting in the ui tests when deleting files",TD,TD
412,"see pr  and  for examples and discussion

owncloudpage has a waittillpageisloaded method that looks for a loading indicator to become invisible on ordinary files pages there is no such indicator and filespagebasic extends owncloudpage and implements a waittillpageisloaded that works on filestypepages

some other pages directly extend owncloudpage and so get the base waittillpageisloaded

when the comments app is enabled the comments panel happens to have a loading indicator  so the base waittillpageisloaded just happens to work by checking that page element

  review each page object that extends owncloudpage and ensure that either it implements its own appropriate waittillpageisloaded or that the base one from owncloudpage is relevant",TD,TD
413,"like  but keep the same lib versions we had in bowerjson

since oc  is lts and bowerjson is eol we should move to yarn on  as well

 fyi",TD,Not_TD
414,"see 

 expected

the logo should be defined in layoutguestsphp or we should define a base layout that contains it for public pages

 actual

logo is defined in publicphp

this means that any extra customizations would require overriding the whole publicphp file which brings its own set of problems any changes done in core in this file would need to be applied to theme",TD,TD
415,"in a lot of places in the acceptance tests there are steps that use the general form

when user userxyz sends http method post to ocs api endpoint endpointsomething with body


for example

when user brandnewuser sends http method post to ocs api endpoint cloudgroups with body
       groupid  newgroup 


in this example the knowledge about the cloudgroups endpoint is repeated in lots of test scenarios

replace these with specific functional steps like
 
when user userxyz creates group newgroup


and let the functional step have the knowledge about the gory detail of the endpoint and how to access it",TD,TD
416,"like  but keep the same lib versions we had in bowerjson

since oc  is lts and bowerjson is eol we should move to yarn on  as well

 fyi",TD,Not_TD
417, enable the unminified unsilenced version of jquerymigrate look for jqmigrate warnings in the console log fix all of them announce on mailing list,TD,TD
418," steps to reproduce
 create a group called financeowncloud
 create a tag with this group eg with the systemtagsmanagement app or viacurl u adminadmin  d  h contenttype applicationjson 


 expected behaviour
the systemtags system should know that financeowncloud is a legal group name and handle it

 actual behaviour
in systemtags the groups are separated by  so everywhere two groups are shown for that tag finance and owncloud
",TD,TD
419," was missing js tests for the extra share attributes

 please add them",TD,Not_TD
420," was missing js tests for the extra share attributes

 please add them",TD,Not_TD
421," steps to reproduce

 have a local git clone of core
 clone some other apps into the apps folder to do development for them or run local tests for them
 in core try make testphpphan

 expected behaviour
phan only scans and analyzes code that is really in core

 actual behaviour
phan scans analyzes and reports issues in app code as well as core code
so as a developer you think that there are core problems when there are not
",TD,TD
422,we need to have unit tests for the change in tranfer ownership command this does affect the code coverage result,TD,TD
423,,TD,Not_TD
424,path length calculations have to be verified and tested if the path contains multi bye characters,TD,TD
425,there have already been some code pieces to look into  why do unit tests for preview generation require database access yes  filesystem foo  but could be structured differently  pure tests on the server container  why   dicontainertest  avatar tests  avatar controller tests   stream wrapper tests  ocaprovisioningapitestsappstest needs mocks  sharecontrollertest needs to mock file system  all ldap unit tests require db access  even those who already mock iconfig etc fish y  testurlgenerator  basically the urlgenerator needs to inject the router object    testutilcheckserver on postgresqltodo review all unit test in group db  is real database access really required here review all still failing unit tests  is real database access required think about more separation of existing classes to get more isolated testing eg preview generation,TD,TD
426,,TD,Not_TD
427,nan,TD,Not_TD
428,cronphp has to dietodos a console command cronexecute has to be added which can be triggered by system cron to process outstanding tasks for webcron and ajax we have to add a proper route to owncloud core to handle job execution  leave a minimal cronphp script which will trigger occ  required from a migration pov  see future enhancements add a console command crondaemon which allows job execution without system cron and in smaller time slices crons smallest time slice is one minute,TD,TD
429,as of today we are facing storage backends eg swift which come with their own versioningtrash functionalitywe need to have the possibility to respect these functions and give developers the proper handle to implementintegrate these mechanismsproposed steps  introduce new interface versionhandler which is attached to the storage  move actual local filesystem versioningtrashbin code to an local file system implementation  versioning and trash app will continue to exist as the front end part working on the storage backend interfaces  expose and respect backend capabilities on storage levelschiesbn   karlitschek please share your comments and ideas  thx,TD,TD
430,we better use query builder or move into the orm segment  ,TD,TD
431,  ensure max path length being  in other database tables  test path length with   especially the astral plane   external storage mapping algo  send  requesturi too long via webdav in case of path being too long or invalid,TD,TD
432,we have methods to get the data and user folders but afaik when we need to get the server root to fetch data from the tests folder per example then we dont have anything in the public spaceshould there be a way or are we happy letting apps use private apis in their  lukasreschke raydiation ,TD,TD
433,"currently most tables in oc are based on the immutable user id
changing all tables to use account id instead would take a long time and the benefit of being able to change a user id is deferred to the moment where all tables were adjusted
also changing too many at once in the hope to have this feature soon is time costly and dangerous

i suggest to use an alternate temporary route

 introduce a new column ocaccountsinternaluserid the column defaults to the same value as ocaccountsuserid at user creation or import
 let the admin rename the user id in which case only ocaccountsuserid is changed
 internally we always use internaluserid when mapping with other tables so the code needs to be rewired to work with internaluserid for internal operations but keep userid when dealing with logins or usersync

once this is done we already gain the benefit of user id renaming

after that we can take our time to migrate all other tables one by one to use ocaccountid instead and use the opportunity to add a foreign key there

once all tables are migrated we can get rid of ocaccountsinternaluserid and make it use userid again

tomneedham cdamken butonic  jvillafanez  ",TD,TD
434,"a few releases ago we moved away from the bower file and moved the dependencies into the buildpackagejson file for npm however they still use the bowercomponents approach which is designed to be transitional many automation tools have trouble with these

we should finish the transition to full npm dependencies and find a way to package said dependencies maybe with webpack

some work had already started in the first commits of  but we got stuck due to weird issues with  possibly related to loading order

estimate  as we need to debug and understand the weird issue and also hope there arent more such issues

 felixheidecke ",TD,TD
435,"pr  bumps to the latest release of  



this is the last release this package is abandoned and no longer maintained the author suggests using the symfonypolyfillmbstring or symfonystring package instead

investigate where  is actually used and sort out how to replace with something else",TD,TD
436,"race condition in insertorupdate queries completely reworked in   try to curricumvent them in  code too  the reason for this is that those queries are technically two queries there is a subquery and if a parallel insert happens after the subquery is executed this could happen

error message


messagean exception occurred while executing insert into ocpreferences configvalueuseridappidconfigkey select  from ocpreferences where configkey   and userid   and appid   having count   with params 

sqlstate unique violation  error  duplicate key value violates unique constraint ocpreferencespkey
detail  key userid appid configkeyfoobarbaz filessharing lastpropagate already 
  doctrinedbaldriverabstractpostgresqldriverconvertexceptionan exception oc objectdoctrinedbaldriverpdoexception
  doctrinedbaldbalexceptiondriverexceptionduringqueryobjectdoctrinedbaldriverpdopgsqldriver objectdoctrinedbaldriverpdoexception insert into oc array
  doctrinedbalconnectionexecuteupdateinsert into oc array array
  ocdbconnectionexecuteupdateinsert into p array
  ocdbadapterinsertifnotexistprefixprefere array array
  ocdbconnectioninsertifnotexistprefixprefere array array
  ocallconfigsetuservaluefoobarbaz filessharing lastpropagate 
  ocafilessharingpropagationrecipientpropagatorpropagatedirtymountpointsarray
  ocafilessharingmountprovidergetmountsforuserobjectocuseruser objectocfilesstoragestoragefactory
  ocfilesconfigmountprovidercollectionocfilesconfigclosureobjectocafilessharingmountprovider
  arraymapobjectclosure array
  ocfilesconfigmountprovidercollectiongetmountsforuserobjectocuseruser
  ocfilesfilesysteminitmountpointsfoobarbaz
  ocfilescachesharedcachegetsourcecache
  ocfilescachesharedcacheget
  ocfilesviewgetfileinfo
  closureobjectsabrehttprequest objectsabrehttpresponse
  calluserfuncarrayobjectclosure array
  sabreeventeventemitteremitbeforemethod array
  sabredavserverinvokemethodobjectsabrehttprequest objectsabrehttpresponse
  sabredavserverexec
  requireoncevarwwwownclo
 


and


error while running hook ocafilesversionshookswritehook an exception occurred while executing insert into ocfilecache mimepartmimetypemtimesizeetagstoragemtimepermissionsparentpathhashpathnamestorage select  from ocfilecache where storage   and pathhash   having count   with params 

sqlstate unique violation  error  duplicate key value violates unique constraint fsstoragepathhash
detail  key storage   already exists


since we implemented a non standard insertifnotexists  while the above use cases are fixed for oc  because the code for the propagation has changed other code paths using the current insertifnotexists may run into this race condition

depending on the not exists parameter this race condition might throw the uniqe index violation error adding the primary key to the conditions is not always possible would change the semantics of the query and we could still run into the race condition it might be possible to use db specific sql extensions to ignore the error or we just catch the exception and log it as a warning

cc morrisjobke  nickvergessen
",TD,TD
437,currently it is quite difficult to keep the database clean on deletionif we had foreign keys we could use the cascading delete feature of database to automatically remove orphaned entriessome examples remove shares when file cache entry is gone  cleaning up tags for deleted files need a lot of different hooks when unshared when deleted when moved out of shared dir etc  cleanup up tags when a user is deleted also it would help to maintain a stronger data integrity and avoid issues like having storage entries the known legacy storage case that do not match users file cache entries any more etcit would also prevent potential bugs to do partial manipulations in the db or integrity breaking operationsopen  should external apps also define foreign keys that might point to cores tables  a core table should not have foreign keys to external tables  what was the initial though process for deciding to not use foreign keys in the first place  at least so we can have it documented herecc  karlitschek ,TD,TD
438,currently you have to check all methods from  but it would be better to have an interface for this to implement simply all the methods ref documentation issue ,TD,TD
439,"when overwriting existing files the encryption code relies on the part file name to find out what the final file name is this in order to get the existing encryption key set


 ownerpath  thisutilstrippartialfileextensionownerpath
 realfile  thisutilstrippartialfileextensionpath
 public function strippartialfileextensionpath 
 realfile  thisutilstrippartialfileextensionpath
 realfile  thisutilstrippartialfileextensionpath
 realfile  thisutilstrippartialfileextensionpath


this is bad because it prevents us to change the format of the part files to solve issues like too long file names 

this blocks ",TD,TD
440, is making calls straight to default encryption app methodsthese need to be decoupled immediately as they completely defeat the purpose of what we did in the refactoralso the changeuserpassword method errors have the chance of falling through and showing multiple errors that the frontend cant handlealso also controller should be made a real controller to enable ability to remov eusage of depreciated methods such as ocjsoncc  schiesbn  related to  and ,TD,TD
441,some of the comments in  have to go in a different pr this ticket is to keep track of thosein general  move away from ocfilesview to nodeapi  remove then obsolete code like   get rid of unlink ,TD,TD
442,ocpfilesrmdirr claims to work on the internal filesystem abstraction layer and the class even worse  claims to be the one that should exclusively be used to access filesin reality ocpfilesrmdirr just calls ochelperrmdirr which works on the systems file system and thus has no protection against traversals  do you know what would be the right method to use nowadays in the public api – also it would make sense to adjust the class doc as it is plain wrong,TD,TD
443,"working with group manager and logging its events i noticed that with each


 


or 





we are fetching a lot of information initializing filesystem from group manager user manager i think we might want to have a look there these requests are being called very often while eg browsing web interface and maybe we dont need a lot of queries these request do   
",TD,TD
444, having a ocjobs table that has many thousand entries try to insert a new job like the version or trashbin expiry job following query is created  sqlselect id from ocjobs where class  occommandcommandjob and argument   query is send because the insert checks before adding a new job and it is really slow because it needs a full table scan there is no index on class and argument because this index is not possible with mysqlthe better way of handling this is to have a unique constraint on class and argument and not check while adding the new job but catching the uniqueconstraintviolationexception and then all is fine this should be a lot  nickvergessen lukasreschke  do you think this makes sense,TD,TD
445,we started using more and more eventdispatcher eventsi think it would be nice to document the  to make it visible which events  prevent duplication of event  to prevent typoscasing issues in the event name constants  make it clear that events are somewhat public api and should not be  either in code libpublic or in the developer docs docs allow for better comments while code allows reusage of constants etc,TD,TD
446,the filelist object already had a dirinfo object containing the propfind result on the current directory from here we can already extra information like remaining quotahere are the different values from getstoragestats which we should get rid of  move to somewhere else  maxupload  move to capabilities api  skull   freespace  use filelistdirinfo instead quotaavailablebytes  maxhumanfilesize  skull   usedspacepercent  use filelistdirinfo quotausedbytes instead  owner  use filelistdirinfo owner instead  ownerdisplayname  use filelistdirinfo owner display name instead,TD,TD
447,"i saw in the database
 
mariadb  describe ocusers

 field        type          null  key  default  extra 

 uid             no    pri                 
 displayname     yes        null           
 password       no                        

 rows in set  sec

mariadb  describe ocaccounts

 field          type                 null  key  default  extra          

 id              unsigned  no    pri  null     autoincrement 
 email                   yes   mul  null                    
 userid                 no    uni  null                    
 loweruserid           no    uni  null                    
 displayname            yes   mul  null                    
 quota                    yes        null                    
 lastlogin                   no                                
 backend                  no         null                    
 home                   no         null                    
 state                    no                                

 rows in set  sec


in the ocusers all new users that were introduced i suppose since upgrade to  have the displayname as null

if you compare the displayname and displayname from both tables then you have inconsistences

why do we need  and if we need the second one why is not updated",TD,TD
448,"recently weve seen several cases of columns of type integer reach their maximum of   🎉  for some awesome big instances running oc we should take a moment to ensure we are future proofed for other fields where this may become a problem



",TD,TD
449,second part of ,TD,Not_TD
450, provide a proper interface for the user backend to be implemented currently you need to implement some stuff of ocpuserinterface which should be named userbackend ocuserbackend and some magic methods that are defined here we should move all of the implementsaction magic into proper interfaces that then could be checked on a language level rather than some magic methods that return a binary string to announce what is implementedcc blizzz butonic we talked about this already,TD,TD
451,"  prerequisite 


for each hook and emitter
 delete said hookemitter
 search for usages across all apps
 replace everywhere to use symfony
 write them down and list aspects of oc that will need to be regression tested
 check that we have tests for said events if not write them

 sharidas",TD,TD
452,"the  in owncloud has been a great idea however  there are plenty of great static code analyzer tools out there it is more feasible to use a tool that is designed for static code analysis and provide owncloud specific rulesextensions 


ref

",TD,TD
453,"consider  environmenthelper injection

 instead of direct ocserverroot usage in

libprivateappappmanagerphp
libprivateurlgeneratorphp
libprivateintegritycheckhelpersenvironmenthelperphp
libprivateintegritycheckcheckerphp
libprivatesetupabstractdatabasephp
libprivatelogowncloudphp
libprivatelegacytemplatephp
libprivatelegacyuserphp
libprivatelegacyutilphp
libprivatelegacydefaultsphp
libprivatefilesexternallegacyutilphp
libprivatedbconnectionfactoryphp
libprivatedbmigrationservicephp
libprivateupdaterphp

libprivatesetupphp
libprivatehttpclientclientphp
libprivateuserdatabasephp
libprivateusersyncservicephp
libprivatesecuritycertificatemanagerphp
libprivatepreviewphp
libprivateserverphp
libprivatetemplatelayoutphp


 instead of  direct ocappsroots usage in

libprivateappappmanagerphp
libprivateintegritycheckiteratorexcludefoldersbypathfilteriteratorphp
libprivatelegacyappphp
libprivateinstallerphp


 instead of  direct ocwebroot usage

libprivatesessioninternalphp
libprivatesessioncryptowrapperphp
libprivateappappmanagerphp
libprivateurlgeneratorphp
libprivaterouterouterphp
libprivatelegacyappphp
libprivatesetupphp
libprivateusersessionphp
libprivatepreviewphp
libprivatetemplatelayoutphp
",TD,TD
454,"the current implementation doesnot allow anything better than 


possible improvements
 a separate public utility class with getprivacypolicyurl and getimprinturl
 a public base class that provides these methods and all themes that need this feature should extend it
 ",TD,TD
455,"  steps to reproduce
run these behat api test
 
    given using api version 
    and user  has been created                                                  
    and user  has been created                                                    
    and user  has been disabled                                                   
    when user  sends http method put to api endpoint  
    then the ocs status code should be    
  

    given using api version 
    and user  has been 
    and user  has been created                                                      
    when user  sends http method put to api endpoint   
    then the ocs status code should be   


    given using api version 
    and user anotheradmin has been created                                                      
    and user subadmin has been created                                                              
    and group newgroup has been created                                                           
    and user anotheradmin has been added to group admin                                          
    and user subadmin has been added to group newgroup                                           
    and user anotheradmin has been added to group newgroup                                      
    and user subadmin has been made a subadmin of group newgroup                               
    when user subadmin sends http method put to api endpoint  cloudusersanotheradmindisable 
    then the ocs status code should be 


    given using api version 
    and user subadmin has been created                                                    
    and user  has been created                                                            
    and group newgroup has been created                                                  
    and group anothergroup has been created                                                    
    and user subadmin has been added to group newgroup                                   
    and user  has been added to group anothergroup                                  
    and user subadmin has been made a subadmin of group newgroup                        
    when user subadmin sends http method put to api endpoint 
    then the ocs status code should be   
                                       

    given using api version 
    and user brandnewuser has been created                                                                      
    when user brandnewuser sends http method post to api endpoint cloudusersbrandnewusergroups with body 
       groupid  newgroup 
    then the ocs status code should be 


 expected behaviour
the endpoints are expected to return status code 

 actual behaviour
the endpoints are returning status code 

 server configuration
operating system ubuntu 

web server apache

database mysql

php version 

owncloud version see owncloud admin page 

updated from an older owncloud or fresh install fresh install

where did you install owncloud from  git
",TD,Not_TD
456,currently the webdav upload code in the sabre node catches a few exceptions explicitly then converts them to sabreexception in some cases exceptions might be missed or thrown as error pagessee we should adapt this code and have a single catchall block that will call a function convertsabreexception to rethrow the matching sabre exception with appropriate detailsthis would also make it possible to properly cleanup before rethrowing and avoid repeating code see ,TD,TD
457,"in appsfilesjsfilesjs in the getdownloadurl method it still uses the old remotephpwebdavpath endpoint

this needs to be changed to use the new endpoint remotephpfilesuserpath
best is to get the base url from the default ocfilesclient instance or the one from inside the filelist

cc labkode ",TD,TD
458,curerntly we just store the avatars in avatarjpg or avatarpng while this is simple it also has certain drawbacks like the bug we hit with further more it would be great to also get avatars of trusted ownclouds locally since we have the vcards  we should rethink where and how we store avatars we should still cache generated  we should actively start caching avatars client side    allow caching of avatars at least checking validating by etag    your own avatar should be very limited cached since you can update that and want that to be reflected fast    other users avatars can be cached much  our avatar javascript code has become somewhat big and unefficient    we should start using promised so each avatar is really only checked once per page loadso basically we should rethink our avatar handling in generalcc   ,TD,TD
459,ocp is the defacto api we expose to apps in consequence the core apps should also use themkondouger  karlitschek   schiesbn opinions,TD,Not_TD
460, exampleoclog is a namespace and also a classnamespace class this leads to the following  the difference between the namespace and the class is unnecessarily confusing to code  a class in the oclog namespace has to import the oclog class using use  when importing oclog an alias has to be used see  which btw also has a broken alias because that is a class and not an  related files are not grouped together on the   is cluttered with classes that are not standalone solutionthe oclog class needs to be moved into the oclog namespace ie it needs to become ocloglog or even a better class name describing what it actually does,TD,TD
461,oclogowncloud calls errorlog as a fallback this is broken or at least suboptimal objectoriented programming that is supposed to be another log implementation see ,TD,TD
462,with  we have introduced a function called cleanappid which removes all potential dangerous characters eg  or  from an application idthis was there to prevent attacks like coreajaxtranslationsphpappfilesdataadminfiles which could have lead to a code execution since owncloud will include a language file from the specified directory eg dedephp inside the users data folderas a quickfix this solution was ok but we should get rid of it since optin security solutions are always bad if just a cleanappid gets forgotten we might expose us of different security risksadditionally the usual developer does not really understand when this function should get used and when not lets make this situation betterin short  remove cleanappid where it is not needed anymore  move the security checks to the business logic eg  is a bad example,TD,TD
463, any exception being thrown as of today will be caught in indexphp which will return http status code  and the html error page which is no expected by the client codefrom ,TD,TD
464,the encryption app is currently dependend on filesexternal in some waythe encryption app actually needs to know what users have access to a given mount point and should not need to know about the external storage appthe suggestion here is to add a new method getuserswithaccess to the storage class or alternatively to mountexternal storage implementations or externalmount should then return a list of users or groups that have access to the point pointsharedstorage or sharedmount implementation can simply return the already known list of userstagged as technical   schiesbn xenopathic ,TD,TD
465,currently the owncloud config is stored within configconfigphp within a php array the files has to be rwwhile this is a pragmatic solution there are several problems with  the file has to be  the file is in an executable formatfrom a security pov it is desirable to make the whole owncloud folder readonly if an attacker gained readonly access to the fs he cannot escalate his privileges further which might be handy in combination with the serverside encryption appfurthermore using php to store the config means that an attacker can execute any arbitrary php code as soon as he gained full fs access of the owncloud foldertherefore id recommend one of the following  migrate configphp to yaml or json or whatever    pro file is not executable    pro would still be easy to modify with a terminal    contra file would still be writeable and allow other attack vectors    contra improper protection allows access to  migrate config values to db and only store db credentials within configphp    pro attacker cannot read any config data in case the db is not reachable from outside    pro makes it possible to make configphp readonly    contra not that easy to modify configuration values with a terminal      can be fixed with using console commands as pointed out below,TD,TD
466, move from templateslistphp to a js side template for the file list  inside filelistjs in the function createrow use a handlebars template instead of the js logic to render a row,TD,TD
467, motivationwhile investigating an elasticsearch app i felt that core should provide an api to asynchronously notify apps of file changescurrently searchlucene implements such a mechanism itself to not slow down file writes by indexing them in the post write hook instead the file is flagged as updated in the oclucenestatus table the files are indexed in a backgroundjob that also uses this status table to remember skipped files or indexing errorsi plan to use the same mechanism for elasticsearch and extend the status table with a message column so the error message can be reported to the user an icon next to the fileactions with the message as title should suffice if the user can then trigger a rescanother apps could use the same mechanism gallery could prerender not existing thumbnails in the background until we reuse the previw generation mechanism could create previews with a cron job  music could extract metadata cc morrisjobke activity could send emails asynchronously cc nickvergessen any app that does not neet its file actions to be atomic with the file cachefurthermore the apps should be able to act immediately when a file is uploaded via the web frontend when encryption is enabled that is the only time when apps can access the users files because he needs to be logged in implementationi would use a new ocfilestatus table with fileid app status message when apps register to be notified of async file changes they will be called in a background job and can then set the status to their liking searchlucene currently uses php    const statusnew  n    const statusindexed  i    const statusskipped  s    const statusunindexed  u    const statusvanished  v    const statuserror  ei dont recommend using ints or booleans in the database it makes manual migrations harder than necessary indexes speed up chars and human readable strings just as well,TD,TD
468, steps to see the  run  browse buildjsdocsindexhtml or see here for a snapshot a few issues  snapjs is included in the docs that should solve itself after we move to bower morrisjobke  experiencedadmin is in the global namespace could be moved to ocaldapexperiencedadmin blizzz  many other symbols in the global namespace mostly in jsjs should be moved to ocnote the jsdoc template isnt ideal for nested namespaces this will be looked into separately,TD,TD
469,currently ocapp is a  line static class that does about a million different things and should be split up in multiple nonstatic classes  app manager to handle disablingenabling apps and getting enabled apps   app loader to handle loading app  app classinterface with app metadata  directory manager to handle locating apps in the various app dirs finding the correct app dir to install new apps in etc  settings manager for allowing apps to integrate into the settingsadmin pagescc   ,TD,TD
470,the filesystem class and other functions like setupfs must be modified to be nonstaticit should be possible to get an instance of the filesystem for  and  in parallel without having to call teardownfs then setupfs which is likely to have unwanted  schiesbn tagging as tech debt for the future,TD,TD
471,instead of using ocfilesview in internal apps like files sharing etc we should make them use the nodebased api that can be accessed with ocservergetuserfolder see it seems the search app is already using that cc butonic and im also using it now in the new metadatatags appbut first we need to discuss whether we all agree that we want to go that way as we dont want to have lots of different apis then we need to document this better i only discovered this very   schiesbn nickvergessen morrisjobke ,TD,TD
472,"this ticket is here to gather and discuss the bigger picture or where we want to go with the storagefilesystem architecture so far everyone is making small changes here and there so i think its a good idea to have an overview to what we are working on now and also where we want to go in the future

here are some open ideasticketsprs
  deprecate file proxies in favor of storage wrappers suggested by  needs ticket with plandiscussion
  use ocpfolder api in apps and improve its performance 
  jail mask cachewrapper 
   ichunkhandler idea 
  iversionhandler itrashhandler for storagespecific versiontrash handling 
  consolidate mappedlocal with local nickvergessen
  get rid of ocfilesmap 
  storagefactory 
  searchfiltersort on storage ex tags
  storage specific options encryption version scanner etc 
  custom cache impl nondb 
  storage ids  ocstorages redesign  legacy storage issues  
  ext storage config refactor  
  provide ways to inject extra data in fileinfo getdirectorycontents cachewrapper  for tags task
  redesignrethink file scanner 
  reuse etags by default 
  consolidate file info attributes from db to json or webdav to avoid several conversion steps data  fileinfo  json
  move to exceptionbased errors instead of return false for fs functions 
  highlevel file locking 
  refactor shared storage  cleanup 
  reuse known fileids and cache data in scanner 
  checksum support 

please add your own ideas about where you think the storagefilesystem part should go in the future to accommodate to new requirements universal file access and cleaner codeapi
",TD,TD
473,currently for the files app dates are sent as timestamp integersthis needs to be changed to return iso date strings instead as to match json standardswhile files might still be stored in utc format on the filesystem there could be other filesystems that support keeping the timezone information from when the file was stored  to make sure to be consistent this convention needs to be applied for the files app and possibly other apps calendar contacts   ,TD,TD
474,ive trying to collect the methods i would need to use the  from an apphere is what im missing setfile setmaxx setmaxy setscalingup setkeepaspect getpreview iscachedgeorgehrke ,TD,TD
475,some issues with the current implementation getappfoldergetuserfoldergetrootfolder implementation logic in the server container the server container should only assemble the parts not implement any logic this should be moved into the root class  and proper unit tests should cover it  no public interfaces for the root folder the root folder is the most basic and the most important class that a developer has to deal with it is not in the public namespace and does not have an interface therefore youve got no ide feedback nor can you really setup mocks for unit tests because the filesystem is one of the most important parts of owncloud there should be a proper way to use it in an app filesystem interfaces differ from public api naming conventions nearly all interfaces in the public namespace start with an uppercase i but the filesystem does not use this convention for its interfaces this is especially confusing because the same name for a public interface is used for a private class eg ocpfilesnode is an interface ocfilesnode is a class  filesystem documentation is basically non existent  is the only thing weve got and i dont think anyone fully grasps the whole api  could you please try to document the basic filesystem api   butonic morrisjobke nickvergessen ,TD,TD
476,the certificate manager should not be initialized by default with the logged in user but should rather take the user as an argument to its provided methods that lets you use one manager instance for multiple users and gets rid of the logic in   morrisjobke nickvergessen ,TD,TD
477,the incognito mode has been introduced with  apparently for  to fix encryption for public sharesthe mode is implemented using a singleton and complete static in the legacy class ocuser a better solution would be to implement encryption differently instead of relying of some pretty obscure and undocumented functionality nobody i asked even understood what this is for if the function cannot be removed then we should at least migrate it to iusersession and document properly what this function is even for schiesbn can you confirm  if so id try to come up with a pr that solves this problem otherwise,TD,TD
478,non exhaustive list of improvements   remove usage of deprecated methods  implement dependancy injection  make use of data providers in test casesnice to have debatable priorityprobably separate refactoring stage  use http error codes,TD,TD
479,from oh fun oh funwhat happens here is that our awesome codebase has the is config writable check in at least three different places and the logic is all different   a check in libprivateconfigphp whether the file configconfigphp exists  a  check in libbasephp whether the file configconfigphp is writable or the readonly mode is set  a check in libprivateutilphp which checks whether the config directory is writable the even more funny thing here is that this code path is only called for new sessions thus all existing sessions will work happily but as soon as you start a new one things will explodefor the sake of having an usable documentation id say that we adjust the documentation for now and in the future unify these insane checks somehow in core  but that is unrelated… no need to have them at three different places and also no need to be different everywhere especially the third check is really some magic voodoo which abuses the session storage totally related to ,TD,TD
480,when sharing or resharing permissions need to be computed based on different  reshare permissions are computed based on the parent share  a shared folder must always be unsharable from self so it has an extra delete  ext storage mount points have extra permissions that need to be  remote shares have different  link shares  based on whether allow upload is globally  whether resharing is allowed  the logic for all of these is spread across multiple mechanismssome are computed on the server side some on the js side some in the share dropdown some using the special datasharepermissions attributethe idea is to refactor all this into a central place instead of spread all over the placecc   schiesbn ,TD,TD
481,our custom autoloader ocautoloader is actually very slow and requires alone about  for every request thats a huge amount when we compare it to the composer loaderwe can see that the composer autoloader is actually called about twice the time but only takes a quarter of the time it can also be seen that this seems to be a problem in the logic as  are spent on cpu on our autoloader,TD,TD
482,applications should be possible to prevent the remember me login from working for specific users and if that is done a decent notice should get shown to the user so that he gets aware of thisthe current implementation requires us to disable remember me if apps such as filesexternal are enabled which have the login with owncloud credentials featureref  and ,TD,Not_TD
483,ocjs leaks too much information to thirdparty sites ie if somebody includes ocjs they get information such as whether the user is administrator or not etc… we should migrate it to some other approach either requesting a json blob and caching that in the browser or add the variables to the templatelongterm goal though…,TD,TD
484,see ,TD,Not_TD
485,we really need to get rid of octemplatejs which is some custom templating system only used by contacts but lives in corethere are better and maintained template systems…,TD,TD
486,currently the storage api is similar to the one from php and simply returns false when an error occurredthis makes it difficult to distinguish whether false means file not found or storage not availablewe should move to using exceptions in such cases and get rid of booleansxenopathic  schiesbn  ,TD,TD
487,there are many cases in the code where we either assume that a returned value will be correct or where some abnormal situations are just ignoredfor example  here is assuming the user is not null  but a bug might break the subsequent code if it is  here the user manager might return null but a home will still get created  pr here   here getrelativepath should normally never fail but if it does return null it is just ignored instead of throwing an exception we need to fix such known cases and be more defensive when programming to make sure the code is more robust this is especially important knowing that race conditions could trigger unpredictable behavior so better not have code running with wrong values if we have a way to catch such situations,TD,TD
488,"primary goal is to get rid of recurring issues like user lost shares or user lost files
secondary goal is to avoid having leftoverorphaned entries these can be cleaned up by repair steps but still ugly to have in the first place

since the code can never be bugfree we should strive and add more safeties in the code and data structures

this ticket is a list of tasks that can help improve on this
  use foreign keys  cascade delete in database 
  fix the storage table  use proper database design for storages  link storages with users directly 
  use db transactions 
  stable file ids 
  stable file ids for remote changes on external storage 
  checksums for files  
  defensive programming  
  data must be able to survive php timeouts andor be rolled back when it happens async file operations 

  schiesbn 
",TD,TD
489,see ,TD,Not_TD
490,given the following  create two users  and   shares a folder test with   renamed test to my testthe current data structure works as follows the share is added into ocshare and filestarget is set to test the folder test is mounted in  filesystem based on the name in filestarget when  renames test the mount point we need special logic because the name is actually in the ocshare tablethe problem with this is that the virtual shared folders name is in the ocshare table which requires a lot of specialized logic to handle such casesi suggest to change the mount logic to work like linux filesystems which means that the target mount point must be an existing empty folder or empty file autocreate a folder test in  filesystem this gives it a real entry in ocfilecache create an entry in ocshare but have filestarget point to the fileid of that empty folder whenever  renames or moves test there is no need for special logic any more no need to touch ocshareto be discussedresearched,TD,Not_TD
491,the filestable div is used multiple times in the files view this causes problems with stuff like   which operates on a divan id can only be used once from my pov it would be the sensiblest solution to replace this with a class instead however we would then have to change this usage in all apps as well seenoevil this causes bugs such as  any idea for a quick win to solve this problem,TD,TD
492,regarding the discussion in  and  and probably others there is a question if support of the given multiocinstanceinonedb feature should be droppedargument to keep multiple oc instances could be hosted in one database or the database could be shared with any other application that uses the oc prefixarguments to drop are no real world usage no one actually uses it functionality is broken eg indexes do not currently support this feature  while required by certain dbmss on the long run it will sure make code easier stability could be improved through simplifying the codea scenario to go for dropping support could be a grace period should be defined during which users are notified to change the dbtableprefix to oc or dropping it with the same result during the grace period a config value dbtableprefixmigrate could be introduced when set upon the next upgrade the prefix would be changed to oc by renaming the tables and dropping both dbtableprefix and dbtableprefixmigrate variables after the grace period an exception should be thrown if dbtableprefix is set the migration can still be done automatically but becomes mandatory except for the upgrade code the code will be cleaned of replacement features and using static oc value instead additionally after the grace period an exception should be thrown if a an app installed is using dbprefix in table names it should automatically be disabled to not block the entire oc instance or any such is attempted to be installed which thus should fail documentation needs to be updated accordingly,TD,Not_TD
493,almost two years ago after zxcvbn got  the unminified version was it would be nice to ship an unminified version provide source code and even use it rather than the minified one it will be minified anyway in assets currently reviewing the zxcvbn code is tough…,TD,TD
494,wrap your head around all these different setup paths in basephp and resolve ,TD,TD
495,currently the personal settings page is almost impossible to unit test it would be great to rewrite this so we get more code coverage and can actually verify if still keeps working i can imagine this has to be done in various prsprs blocked by this  cc  ,TD,TD
496,as mentioned in  there should be a couple of more checks in the subadmin class for example to make sure that we do not try to make a user a subadmin of the same group twice this should be handled more gracefullythis could either be silent in certain cases or in the form of exceptionsthis makes sure we do not have to check in multiple places and fixes the problem where it can occur,TD,TD
497,the storage id definitions  help developers figure out what those ids meanthe problem is that when were trying to use whats at our disposal to identify where a folder is located it doesnt work as expected folderislocal expectation only returns true for folders hosted in the data folder returns true for storage with the id local returns true for shares belonging to the same instance actual behaviour always returns false for folders hosted in the data folder on   returns false for local shares on  folderismounted expectationreturns references to storage which is mounted actual behaviouran id starting with local should not be considered mounted but from the definitions if you use the filesexternal you could also mount local folder into your owncloud in this case also a local storage is createdwhich means were not getting those mounted folderson top of that an external share is not considered mounted which is confusing what can be donei can understand that a method is needed to know whether we have a direct access to files and folder so that we can pick the right tools to manipulate them but calling it islocal is confusing we already have isencrypted but maybe we need to introduce a method called isproxied or hasdirectaccesswe also need another method which can help us figure out where the node is located and whether or not its collected via the network or not an external share is much slower than a local one but both are identified as shared a mounted smb folder can be quite fast but one which requires to make http requests probably wont be so why id them all as localapps which need to collect specific files in order to present them to the user in a different gui documents gallery etc need to know whether the files can be fetched quickly or not because fetching files which take several seconds or even minutes each to retrieve is simply killing the user experience,TD,Not_TD
498,when using owncloud as external storage it will simply use the owncloud external storage backend which is based on the dav external storage backendwhen using server to server sharing aka federation it uses the dav external storage backend not the owncloud one but also uses an additional endpoint ajaxshareinfophp which delivers snippets of the remote cachethe problem with this is that we now have different code paths between owncloud external storage and server to server share even though they work almost the same this means multiple code paths to maintain and also a risk of not noticing issues specific to a given code path like  where syncing is broken for owncloud external storage but works for server to server  can we get rid of shareinfophp somehow and use propfind instead we might need to use it with depth infinite if we want the whole treeideally we should implement a more progressive logic similar to the sync client which only updates pieces of the subtree for example check the etag of the root with propfind if it changed then propfind the children for which the etag changed etccc  schiesbn ,TD,TD
499,ocappgetapppath may return false but some most values returned by that function are not checked against falseexamplesthese statements all do not check the return value of getapppath instead all checks are implicit eg because isfileappinfoinfoxml usually returns false because appinfoinfoxml does not exist on the filesystem this however is a coincidence and overall this is rather bad programmingdiscovered via ,TD,TD
500,"we introduced transactions in some code parts we should properly handle them like described in 

see 
  
  
  
  
  
  
  
",TD,TD
501,currently the view accepts an arbitrary root and concatenates it with other paths sometimes without checking if there is a leading or trailing slashthe common way we used was to create a view with new viewsomepath with both leading and trailing slashes that usually works for everythingi tried to quickfix this and enforce leadingtrailing slash but that seems to break autotest setup so instead of doing such dangerous fix directly lets do this in a later releasethe idea is to normalize fakeroot to have the proper slashes to avoid breakagecc   schiesbn ,TD,TD
502,tldr the approach wont work since we sometimes need to prewrap storages but still have them correctly wrapped by the filesystem instead we need to fix the unit tests that were causing this bug,TD,Not_TD
503,ref some  does not necessarily mean it is accessible to the server  reduces some small dos risklets see…,TD,Not_TD
504,currently loading apps is done by including various php files from the apps appphp routesphp etc and have the app do whatever it wants inside those php filesthat leads to core having little controll about the timing of loading the various parts of an app which leads to performance issues loading navigation entries every request and potential bugs generating urls before routes are properly loadedinstead of loading raw php files we xenopathic and me had the idea of moving all the app initialization code to the application use by appframework apps the application class can be extended with methods for the various things that apps need to do getroutes getappnavigation setupstorages etc which gives core controll about the order we do those steps in we can finally be sure that we have all routes loaded before we need to generate a urlfor backwards compatibility the plan was to have the contructor of the base application class fallback to loading appphp if it exists and fallback to loading routesphp for routesthat way we can introduce these changes gradually without breaking  apps and slowly move apps over to a more modern way of loadingwe can slowly move more and more  code over from appphp to a dedicated methods without ever breaking old appscc   morrisjobke xenopathic   this plan is brought to you by chinese food,TD,TD
505,the owncloud root directory is getting more and more crowded with files and folder that makes sense for developers but not for normal admins or users so we should clean this up a biti suggest move ‘settings’ to  core move ‘ressources’ to core move ‘’ to core move ‘dbstructurexml’ to core move ‘’ to corenot sure what to do withconsolephp and ‘lib’,TD,TD
506,currently we rely on pure luck that the tokens we generate for link shares are unique now this is most likely the case but not at all guaranteed probabaly bad stuff happens if we have duplicated tokens we should use transactions to verify the insert and rollback if required this is probably also a good health check candidate cc morrisjobke cc lukasreschke ,TD,TD
507,were sending mixed signals to admins by saying most  while at the same time keeping them in corenow that providers can exist in apps all these unsafe providers pdf svg office etc should be removed and users should seek alternative ways to generate their previewslukasreschke karlitschek  morrisjobke rullzer ,TD,TD
508, is there any chance to combine those two,TD,Not_TD
509,the current ocs sharing api  is in need of successor   adds multiple share providers this means that a simple generic id is no longer sufficient and we will switch to an id like provideridshareid there current share api is focused around shares the user initiaded there is no way to get information about a path shared with me to know the maximum permissions i can give when resharing  the current share api has no pagination the current output of the share api is cluttered and contains way to much unneeded infowe should design an api that fits the new needs of all the clients web desktop and mobile,TD,TD
510,the workaround added with  uses manual streaming for object storages and thus the filesystem can get bypassedthis requires us to maintain workarounds like  to ensure that the cache is always consistent we should make sure to always use the filesystem instead of manually stream copying in owncloudref  cc   ,TD,TD
511,we have a lot of methods to generate urlsiurlgenerator util the problem of that is that some of them are not used the way they should be usedeg php          makes an url absolute      param string url the url in the owncloud host      return string the absolute version of the url         public function getabsoluteurlurl the problem is most of the time the method is not called relative to the host but to the owncloud root in fact in earlier versions the url had to be relative to web root until the method was patched to work magically but the magic breaks currently for ocs links when your owncloud is installed in oc or ocs   we can fix it with a workaround so it works in oc but ocs is not really possible to fixwe should deprecate all the existing methods and then define wellformed methods which clearly state what to use and not allow any other way,TD,TD
512,you cannot set mbstringfuncoverload in htaccess or userini see this for detailslukasreschke morrisjobke ,TD,Not_TD
513,the current jobs table only allows up to  characters in the arguments columnthe problem is paths in owncloud can be up to  characters so when you use the argument column for a path you can not store any other information anymorealso since the information is also jsonencoded you cant even store a path of  ,TD,TD
514,after debugging the watcherscanner i noticed that at the end of the scan session it will call cleanfolderpath and will iterate over all cache entries inside that folder and call fileexists to find out whether the file still existsas far as i understand diffing the children of a folder is already done in scanchildren so not sure why it has to be done again  can you clarify  can we get rid of this extra cleanup to gain some performance ,TD,TD
515,the ocpbackgroundjob api is deprecated and  features a nice declarative way for registering background jobs in the infoxml however the current ijobijoblist api is a mess and very hard to use the ijob interface requires you to implement method calls which make no sense are pure boilerplate and whose phpdoc description is either missing or unclear maybe because the authors did not know why it was there in the first place    setid whats the usecase for this   getid redundant i should not have to implement that   setargument no idea why its needed its not used in joblist   getargument same as setargument   getlastrun why do i need to implement this shouldnt this already be done by core   setlastrun same as getlastrun   execute circular dependencies and logger should be injected via the constructor the joblist should remove a job not a job should access the joblist to remove itself this is a potential trap since the user needs to take care of this by himself the api has circular dependencies because responsibilities are mixed eg jobs remove themselves from a joblist classes which actually take care of the boilerplate are private so you can not extend themi propose the following solution every background job implements this interface phpnamespace ocpbackgroundjobinterface itask           runs the task         function executethats it so what about timed and regular jobs pure configuration that i should not have to worry about timed job xml        ocanewscronupdater        ocanewscronupdaterqueued job xml        ocanewscronupdaterhow would one register or remove a cronjob programmatically use a service phpinterface itaskservice           param appid apps id      param taskid task id use this to register the same task twice has                          to be unique in combination with the app id      param class the class to run has to implement itask      param int interval optional if given sleeps at least that many seconds                           before the next execution         function registertaskappid taskid class interval            removes a task from the execution plan      param appid       param taskid         function unregistertaskappid taskid          returns the last time a task was executed      param appid apps id      param taskid tasks id           return date instance when the task was run the last time         function getlastrunappid taskidmorrisjobke nickvergessen   xenopathic  lukasreschke ,TD,TD
516,since  the irouter class is depracted by lukasreschke since well there is no real need to expose this to the big scary outside worldhowever it is still referenced all over the place almost all apps etc we should clean this up properly,TD,TD
517,most of the token related logic was implemented in the ocusersession class while developing and fixing bugs the class grew to a state where its pain to add new or adjust existing functionality moreover some of the public methods the class provides are not part of the public iuserinterface interfacethis class should be refactored by extracting the token related logic into an separate class with a defined public interface that new class should handle processes  create new tokens browser  validate  get the current session  clone token data into a new token eg create a device token when logged in via the browser or when using the  retrieve the current user password eg for external  …that new service should use a ocauthenticationtokeniprovider object to talk to a token provider ideally those token providers should become public api to allow third party developers to plug in their custom token handling logic,TD,TD
518,port these  to the integration tests for better visibility,TD,TD
519,afaict the installer is the only code piece that uses ocarchivezip to  and  an app tar archive is never used because apps are always downloaded as zip all the other methods in the ocarchive interface are unused  reduce the abstact class and remove everything but open and extract   remove unneded methods in the zip implementation   remove unneded tar implementation if this is too harsh we should at least deprecate the unused methods they are in the private namespace anywaycc   i stumbled over this during a partial code review,TD,TD
520, says int but doctrine and pdo say string we should say string as well sequences might return non intthat is unless we agree to always use int based autoincrement values in our tables then we should add a cast to int in and change  to int as well,TD,TD
521,for some reason it seems that weve gotten used to using aliases in the ocserver containerfrom my understanding if we want the magic di to work properly we should ideally not have to define anything there in the event where we do need to we should probably define the entries using interface names this way when we query objects that for example require ocpiusersession the server knows where to find it currently one needs to manually instantiates an object and call cqueryusersession to pass  butonic vicdeo jvillafanez ,TD,TD
522,"once  is merged we will have each settings panel admin  personal in a separate class giving us the opportunity to load these dynamically and stop full page reloads in the admin interface

at least one issue we will face is that most existing panels include third party scripts in their templates and these most likely wont play nicely being included multiple times andor on demand maybe we could add a wrapper around the templates and inspect the scripts they are using and feed those in using a different mechanism to prevent the above issue",TD,TD
523,"see 

jvillafanez ",TD,Not_TD
524,"the storage backend handling has been moved to core already as per  this means that any apps using this api and future apps will be expected to do so do not require filesexternal to be enabled any more

plan
  move gui to core  settings
  move occ commands to core
  move all external storage backends from filesexternal to separate market apps 

 fyi",TD,TD
525,"the app manager and legacy app code is a mess

an app can have many states
 no code
 code is there but not marked as installed needs an installedversion field in db
 code exists app is marked installed but not enabled
 code exists app marked enabled
 code exists app marked disabled
 app marked enableddisabledinstalled but code is missing
 

apparently when transitioning from  to  some code paths will trigger the apps migration while others dont

this needs to be simplified and uniformized
but first id suggest getting rid of the old legacyappphp and put more of the logic into the app manager

 butonic ",TD,TD
526,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 look at the html of the files app
 search for items with the id notification

 expected behaviour
there should be only one item with that id

 actual behaviour
there is a div with the id notification inside notificationcontainer div
and multiple in appcontent divs

 server configuration
operating system
debian
web server
apache 
database
sqlite
php version
php 
owncloud version see owncloud admin page

updated from an older owncloud or fresh install
fresh
where did you install owncloud from
git

the content of configconfigphp



    system 
        instanceid 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            localhost
        
        datadirectory homearturwwwowncloudcoredata
        overwritecliurl httplocalhostowncloudcore
        dbtype 
        version 
        logtimezone utc
        skeletondirectory tmpdata
        installed true
    



list of activated apps


enabled
   comments 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filessharing 
   filestrashbin 
   filesversions 
   provisioningapi 
   systemtags 
   updatenotification 
disabled
   encryption
   testing
   themeexample


are you using external storage if yes which one localsmbsftp
no
are you using encryption yesno
no
are you using an external userbackend if yes which one ldapactivedirectorywebdav
no

 client configuration
browser
firefox
operating system
debian",TD,Not_TD
527,"drop the file extension of part files and use a suffix like octemp to hide partially uploaded files

this would make it possible to upload legitimate part files

  replace extension in many locations just grep the code
  beware might need a repair step on upgrade to remove stray part files that might still be around on users filesystems not doing so would have people suddenly see a little invasion of old part files
  adjust clients to unblacklist part files 


butonic  ",TD,TD
528,"see 

quote butonic

caused by updating quota or email properties which trigger an update of the addressbook cards by the card dav backend which triggers fatching avatars which triggers fs initialization which takes ages  several prs incoming but still needs

    a new interface for avatar provisioning and probably  
    performance  
      a better fs for avatars 
      no longer initialize the fs for every user because the avatars now reside in dataavatars instead of user homes
  ",TD,TD
529,"the following methods are expected to exist within the implementation of the filesystem layers but are actually missing on the interface

  storagefactorywrap is missing on istoragefactory but used in the mountpoint class see 

 jvillafanez 
",TD,TD
530,"  use node api  to be redone
  get rid of cachenode and see if there is a better way ref 
      if we do keep cachenode also cache false when needed ex directorygetchild


jvillafanez add stuff here if you had more in mind

cc  ",TD,TD
531,"this is a proposal we had a while ago which id like to revive

some issues with the current approach

 were registering all possible plugins every time for example the caldav plugins are registered even when we access the files endpoint this can cause unneeded performance issues see  davacl plugin that needed to be excluded
 it is not possible to use an optimized getnodeforpath like in the path because this method only exists in the root tree  if we wanted to have it on subtrees and also specialized wed need to have special nodes that extend tree and also implement icollection and also have a root tree which logic properly detects if a node is a tree and then call getnodeforpath

if we had separate sabre servers for each first level dav path files comments calendars etc
 each server would only register the plugins relevant to this endpoint
 there could be a list of base plugins to be always registered like the maintenance mode plugin
 each server has its own optimized tree which uses a different approach based on the implementation files would do like the old objecttreegetnodeforpath which uses the view as shortcut instead of iterating over every node

 butonic jvillafanez thoughts ",TD,TD
532,"due to legacy reasons the mimetype aliases are stored in a js file that is directly loaded at page load time instead of asynchronously

instead of generating it and checking in the file corejsmimetypelistjs we should provide an app framework route to retrieve it asynchronously

in the js side we need to make sure that any app that needs it is using a promise when retrieving this information as it would be retrieved asynchronously instead of being available at page load

once this is done remove the mimetypelistjs exclusion from integrity check",TD,TD
533,"found on my instance that has been upgraded from oc  iirc
json
 parameter token for route filessharingsharecontrollershowshare must match   given to generate a corresponding url at 


as it turns out i have corrupt share entries aka links without a token
sql
select  from ocshare where  and token is null

 id  sharetype  sharewith  uidowner  parent  itemtype  itemsource  itemtarget  filesource  filetarget                permissions  stime       accepted  expiration  token  mailsend  uidinitiator  sharename 

               null        foo          null  folder                            something                                       null        null             foo            null       
               null        foo          null  folder                            something else                                  null        null             foo            null       

 rows in set  sec


this causes my shared with others page to be empty no error in the web ui 
  add repair step that does delete from ocshare where  and token is null
  expose exception to api call dont swallow that exception bad for your karma
  add a report to the admin section with the last n errors would require parsing the logfile  sucks  store log in db new log provider hmmm",TD,TD
534,"follow up phase  of 

less critical as the other tables are less likely to run out",TD,Not_TD
535,"instead of having the home storage id and path be defined by the user id or even hardcoded in ocaccounts table i suggest to move the following

 replace the ocaccounts table home path with a storage numeric id let the storage itself decide where the path is that column doesnt make sense anyway when dealing with primary object storage or such

 provide a way api  occ  for admins to change the mapping between users and storages it could be as simple as changing the numeric id of the storage in ocaccounts table

this would make it possible to

  rewire users to their correct storage in case of storage duplication issues which were met due to very old storage bugs

 transfer ownership by reassigning a storage to a new user

 in the same line like  it would make it possible to transfer a guest users storage to the real user after migrating said guest user to be a real user ex created in ldap

 like  but when a user changed the id uuid or whatever instead of getting a new storage the admin can remap said user to their old storage so they can keep the data

 potentially helping with migrating storage from local storage to object store on a per user basis given that we extend the ocstorages table to hold the information whether the storage is local or object store instead of just home maybe add a type column there

setting to  as this has great potential to address several of our big pain points

  butonic jvillafanez 
",TD,TD
536,"carrently exceptions are springkled all over the place if we want to use them we need to rework them properly

while in general apps will be disabled when they throw an exception to protect core from broken apps during upgrades there are cases where oc actually handles them differently eg the hintexception as well as outofboundsexception during user sync

i think we should come up with a small hirarchy of exceptions at least differentiate between exceptions that disable apps and those that dont

furthermore there are exceptions that carry a message for the user vs exceptions that carry messages for admins

probably more ideas

these exceptions then need to be provided under ocp if appropriate and documented

cc tomneedham   ",TD,TD
537,"this comes from 

clients need a way to tell apart some generic error codes there can be many reasons for a   different subcodes with an additional message eg the current unsupported client version can be handy on how to handle those from the clients logicwise not only displaying the message",TD,TD
538,"to track technical discussion around this topic



from patrickjahns
we should be very cautious with allowingdesigning interapp dependencies   level might be fine  a depends on b   but what about nested dependencies   c depends on a  but a depends on b  how will this be resolved for installing owncloud also thinking of the delivery mechanism where customers can click together their owncloud with the apps they wantpayed for  the service then needs to also handle this logic ",TD,TD
539,"in appphp from some apps objects are created that already access the filesystem through the fs api aka node api of owncloud this triggers an early initialization while some other plugins might not have been registered yet

we should strictly forbid such fs access or any other io operations while app code is still being loaded

some idea how to do it have appmanager store a loading state
 statenotloaded app loading process has not started
 stateloading apps are being loaded when running loadapp for every app
 stateloaded when all apps were loaded

then in the fs classes  api check said flag if the flag is different than stateloaded throw an exception

it is likely that many apps will not be able to function properly without this so in cases where fs access is needed during initialization we need to find another solution

butonic patrickjahns  jvillafanez ",TD,TD
540,"one starting point for our latest apidocumentation efforts was to observe and map the xhr traffic from the webui in order to get an idea of which public interfaces surface a client should use to interact with the server 

normally clients dont require apis to interact with core settings  unless were speaking about reading said settings to adjust their behavior to servers eg disabling some sharing options setting a chunking algorithm

now that we want to look at  as an advanced modern client that must have to interact in detail with some of the admin settings  we should also uncouple and get rid of some of the old ajax apis that do the job on the webui and while doing so untangle some of ownclouds most complicated and ambiguous settings sharing 



i thought it would be a good idea for this usecase to integrate these with the capabilities into a higherlevel extensible first class citizen capabilities api 

this issue might be seen as part of a bigger picture eg   feel free to close if a coarsegrained approach to track in larger issuesprs is preferred

cc patrickjahns as part of the api powerusers team  to get architectural insights on the last ",TD,TD
541," setting testtxt as favorite

 current webuis implementation 

bash
curl u adminadmin x post  
  h contenttype applicationjson 
  d 
	tags 
		
	



 proposal 

bash
curl u adminadmin x proppatch  
  h contenttype applicationxml 
  d 
dpropertyupdate xmlnsddav xmlnsoc
    
    
        
    
  




to unset it make it  cc  as proppatch advocate",TD,TD
542," hodyroff 

todo add reasons",TD,Not_TD
543,"autoconfigphp is used to automagically install an oc instance but the preferred way of doing that is to scrip occ commands together with configconfigphp files

reduce the magic

also see documentation ",TD,TD
544,"implementation discussion to solve issues necessary to achieve 

i would like to limit the scope of this ticket to what is necessary for altering the username of a user conceptual  architectural changes should be in 

tables would need to be updated to alter the username
  addressbooksprincipaluri
  authtokenuid  loginname
  calendarchangesuri
  calendarsprincipaluri
  calendarsubscriptionsprincipaluri  uri
  cardsuri  carddata blob
  cardspropersvalue
  commentsactorid
  commentsreadmarkersuserid
  davsharesprincipaluri
  groupadminuid
  shareuidowner
  shareuidinitiator
  sharesharewith  sharetype  
  shareexternaluser
  shareexternalowner
  ldapusermappingowncloudname
  more

should we also unify the column names uid  would require some code changes to map to the new column names

open questions
  what happens with synchronised federated addressbooks that contain the userid
  what happens to federated shares that rely on the userid in the instance
  we need to fix userid in the system addressbook vcard data

codewide we should implement this as its own service that can be tested thoroughly we can call this service via an occ command to run the migration manually or maybe at some stage migrate all the int accountids using an upgrade migration need to consider the upgrade time required here for instances with  users
  ",TD,Not_TD
545,"just stumbled over  which looks similar to 

the phpfileinfo functions seems to be used in the following codepart



this means were in trouble if the following applies

 phpfileinfo is not installed  loaded only listed as optional in the documentation
 openbasedir is configured which doesnt include the path to the file binary andor popen or any other functions are disabled

which might lead to such issues like seen in the documentation issue linked above",TD,TD
546," expected behavior
 create a file like   char dir name 
 delete it
 it should be in the trashbin

 actual behavior
json

  
  
  
  
  useradmin
  appphp
  methoddelete
  
    char dir name   char dir name  file name too long at 



appending a timestamp is such a bad idea we could shrink the max allowed filename size to  chars  or we add a flag to the filecache i personally would go with the latter because then we dont need to move the files on disk they can be moved in a background job async if we really want to move them away for objectstorage it would make little difference since the metadata is mandatory anyway",TD,TD
547," steps to reproduce
 configure local external storage
 go to local folder
 remove one folder

 expected behaviour
localrmdir method is called once

 actual behaviour
localrmdir method is called twice
it happens to me in other external implementation i suppose is a core problem

 server configuration
ubuntu 

web server
apache

database
mysql

php version


owncloud version see owncloud admin page
  both community and enterprise

updated from an older owncloud or fresh install
fresh

where did you install owncloud from

signing status owncloud  and above


technical information

the following list covers which files have failed the integrity check please read
the previous linked documentation to learn more about the errors and how to fix
them

results

 core
	 extrafile
		 containerstatusphp

raw output

array

      array
        
              array
                
                      array
                        
                              
                              
                        

                

        




list of activated apps


enabled
   activity 
   comments 
   configreport 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   firstrunwizard 
   gallery 
   notifications 
   provisioningapi 
   systemtags 
   templateeditor 
   updatenotification 
disabled
   encryption
   external
   filesantivirus
   userexternal
   userldap


",TD,Not_TD
548,"davigonz discovered just now that owncloudandroid is using the  endpoint to query quota information from the server ref   we noticed some unexpected behavior as for 



 result from get 


curl u adminadmin x get  h ocsapirequest true


json

    ocs 
        meta 
            status ok
            statuscode 
            message null
        
        data 
            enabled true
            quota 
                free 
                used 
                total 
                relative 
            
            email null
            displayname admin
            home mntdatafilesadmin
            twofactorauthenabled false
        
    



  while the propfind returns


curl u adminadmin h  h contenttypetextxml  x propfind  databinary 

  
    
    
  




xml

dmultistatus xmlnsddav xmlnsoc xmlnss
   
      remotephpwebdav
      
         
            
            
         
           ok
      
   



 

not only dataquotaused and dquotausedbytes differ but also the special negative value for dquotaavailablebytes does not appear on the ocs reply  ref  

 when quota information is requested for such a storage oc will return  for unknown free space and  for unlimited free space  is for not computed

cc  and paurakhsharma since ive seen you creating some api tests for ocs user provisioning api on  ",TD,Not_TD
549,while reviewing   i noticed that our code base is often using like queries but not properly escaping special characters such as  or  this leads to all kind of different bugs and unpredictable behaviourthe easiest way to understand the impact is to mess with the file cache which calls  which in turns calls  which performs the following query phpsql  select path fileid from prefixfilecache where storage   and path like result  ocdbexecuteauditedsql childentries  resultfetchallsourcepath is the original file name and thus completely user controlled  create a folder test and upload a file bartxt to it  create a folder test with a subfolder foo and a file footxt in the  create a folder newfolder and move the folder test to itthe file cache will now look  special characters needs to be properly escaped as done for example in the news app proposed  grep through all usages of  properly escape all wrong usages and assess the  please triage,TD,TD
550, steps to  share a folder as public link with write permissions in instance a with usera uid usera display a from  open public link and add to instance b as userb uid userb display b from instanceb with add to owncloud  add a file testtxt to the folder as  check activity feed for usera expectedone of userb created testtxt userbinstanceb created testtxt b from instanceb created testtxt actualempty string created testtxtadded a workaroung so it uses remote user instead of empty string for now see   findingsthe activity app uses the following code to get the uid when creating the activities php            user  servergetusersessiongetuser            return user  usergetuid  is it somehow possible to get any info from the session or somewhere else that the current user is a remote user userxyz with a displayname xyz on instanceabc on instanceabc so we dont display remote user only but can help to identify the usersince this also happens to intentional remote shares uidinstance in the share dropdown it would be nice to know which user you want to remove from the sharing list  cc schiesbn  for writing the feature,TD,Not_TD
551,"after  is out we should focus on first merging all tasks related to phpcsfixer to  and also enable php stan


  phpcsfixer on  
  precommit hook for phpcsfixer 
  phan on  backport 

additions
  deprecate ocpcodechecker and make it an extension 

anything else  phildavis  patrickjahns ",TD,TD
552,"oc  gitmaster

in the data folder is a indexhtml file with zero bytes

 why is it there  
 how it gets created 
 can we prevent its creation  




",TD,TD
553,"i see core is distributed under the gnu affero general public license an osi approved open source license in an effort to help the developer and business communities understand the open source is a defined term in the software community and appreciate the importance of open source software licenses and the licensing process were asking projects that use osi approved open source licenses to add the  and a link to the 

thanks 
patrick",Not_TD,TD
554,at some point well move the files web ui to webdav  we might want to introduce real paginated requests but will have to somehow extend the webdav protocol in some wayplease note that the current listphp doesnt support pagination it still loads the whole list but the js code will cut it into pagesone problem with pagination is always about updates if between the call to the first page a file has been inserted in the first page then the call for the second page will be shifted and missing that   ,Not_TD,TD
555, steps to  a shares file with  file is shown in the root of bs  b creates folder  b creates folder  b shares folder  in my case both internally and via  b moves file to  expected behaviourthe file should be moved to  actual behaviouri get a could not move error messageif i move file to  it works thoughand if i move another file to  it also worksso for some reason files shared with me cannot be moved to folders i share server configurationowncloud version   ,Not_TD,TD
556, steps to  configure an ldapad user backend with  go to users  create a new regular user and try to add him to a ldap group expected behaviourit seems to be possible to add a regular user to a group actual behaviourldap groups should not be shown when creating a regular user server configurationoperating systemubuntu  serverapachedatabasemysqlphp   beta  from an older owncloud or fresh installfreshare you using external storage if yes which one noare you using encryption nologs client configurationbrowserfirefox,Not_TD,Not_TD
557,spotted by  while reviewing   bug if you rename the ext storage mount point all users the folder in datafilesencryptionkeyfiles still keeps the old name  bug deleting the systemwide mount point sftp still leaves the keys in datafilesencryptionkeyfilessftp  bug renamingmoving a personal mount point also doesnt update keyfiles location,Not_TD,TD
558,"hello everyone

ive noticed its impossible for a end user to delete its own versioned files within the owncloud web interface its a thing you can do for your trashed filesdirectories but not for the versioned files its true you can deal with it as an admin with the  and  but the first one doesnt allow  flexibility and the second one deletes all
is it possible to add this feature to be able to destroy the versions you want of filesdirectories from the web interface 
thanks ",Not_TD,TD
559,we have to make it possible to configure the behavior of externaly mounted storages in a more detailed way  ux improvements see sharepoint and wnd as examples   capturing credentials on login an option on a per mount basis   ui groundwork for config options dropdown   encryption on  off   sharing with link on  off    user sharing on  off   cache refresh behavior select option  previews performance concern   trash bin   versions  broker on  off  search provider  sync permission on  off requires   storage specific versionstrashbin handler   accomodate config to allow for multiple auth mechanisms password authedit added user sharing,Not_TD,TD
560," steps to reproduce
 install root ca cert with chain sitewide 
settings general  ssl root certificates
 one can see it in the administration  see first screenshot
 close browser window
 navigate back to the admin panel and check for the root ca certificate its gone see second screenshot i can only add a new one

 expected behaviour
the root ca certificate should stay in the truststore where ever that might be

 actual behaviour
the previously installed root ca certificate is gone at least they are not visible in the webinterface any more

 server configuration
operating system ubuntu lts 

web server 

database mysql  ver  distrib 

php version 

owncloud version 

updated from an older owncloud or fresh install updated

where did you install owncloud from downloaded latest stable tarball from website

signing status owncloud  and above no idea what that is

config see attached 


rootca installed and visible in the admin interface


rootca gone
",Not_TD,TD
561,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 steps to reproduce
 as admin create an empty folder and share with user intermediate
 as user intermediate reshare this folder to user test
 as user test you will see the shared empty folder
 as admin delete user intermediate
 as user test the directory empty folder still exists
 in the share tab there is still visible that the folder was shared by intermediate

 expected behaviour
shares by deleted users are deleted when a user is deleted since there it says
 you are about to delete a user this action cant be undone and is permanent all user data files and shares will be deleted are you sure that you want to permanently delete intermediate

 actual behaviour
shares by deleted users still exist

this leads to unpredictable consequences since affected shares cannot be removed any longer and theres no chance to change share permissions of such broken shares

additionally an occmaintenance repair does not remove that broken share either

 server configuration
operating system
ubuntu 

web server
apache 

database
mariadb 

php version
php 

owncloud version see owncloud admin page


updated from an older owncloud or fresh install
fresh install

where did you install owncloud from
owncloud download page

signing status owncloud  and above
fine

the content of configconfigphp
default setup after initial installation

list of activated apps
only apps installed by default

are you using external storage if yes which one localsmbsftp
no

are you using encryption yesno
no

are you using an external userbackend if yes which one ldapactivedirectorywebdav
no

 client configuration
irrelevant


 owncloud log dataowncloudlog
no related log entries

 browser log
no related log entries

",Not_TD,Not_TD
562,"we have various api test scenarios for webdav move but not many for webdav copy

add some test scenarios for
 copy within a users own storage
 copy into a received share
 copy from a received share
 copy between shares received from different users
 attempt to copy into a readonly received share
 any other combination that seems interesting

raise issues for any bugs found in  i dont expect to find any

it will be useful to have some reasonable coverage so that we also will know that these things work in ocisreva
",Not_TD,TD
563,"
 steps to reproduce
 open a calendar with user and group share expiration dates
 open the public link share expiration calendar
 open the calendar with the user and group share expiration dates again and make sure that the public link share calendar is applied
 log out of the web interface and log back in to confirm that the user and group shared calendars are normal

open the calendar to set the expiration date for the user share


open the calendar for public link sharing expiration date setting


open the user sharing expiration calendar again


 expected behaviour
the calendar for setting the sharing expiration date is different from the calendar for url sharing

 actual behaviour
the calendar for setting the sharing expiration date will change to the calendar for public link sharing

 server configuration
operating system centos 

web server 

database 

php version 

owncloud version 

updated from an older owncloud or fresh install update from 

where did you install owncloud from 

the content of configconfigphp


 sudo u nginx php occ configlist system

    system 
        logtimezone asiatokyo
        tempdirectory tmpowncloudtemp
        logfile varlogowncloudowncloudlog
        logdateformat ymd his
        loglevel 
        hasinternetconnection true
        assetpipelineenabled true
        memcachedistributed ocmemcacheredis
        memcachelocal ocmemcacheapcu
        filelockingenabled true
        memcachelocking ocmemcacheredis
        redis 
            host localhost
            port 
            timeout 
        
        updatechecker false
        instanceid 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            
        
        datadirectory exportdata
        overwritecliurl 
        dbtype mysql
        version 
        dbname kitowncloud
        dbhost localhost
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        installed true
        ldapignorenamingrules false
        maintenance false
        appstoreexperimentalenabled true
        quotaincludeexternalstorage false
    




 sudo u nginx php occ configlist core

    apps 
        core 
            avatarmigrationcompleted true
            backgroundjobsmode cron
            enableexternalstorage yes
             no
            installedat 
            lastcron 
            lastupdatedat 
            ocintegritycheckchecker 
             no
            publicfiles filessharingpublicphp
            publicwebdav 
            remotecaldav 
            remotecalendar 
            remotecarddav 
            remotecontacts 
            remotedav 
            remotefiles 
            remotewebdav 
            repairlegacystoragesdone yes
            shareapiallowmailnotification yes
            shareapiallowpublicnotification yes
            shareapiallowresharing no
            shareapidefaultexpiredate yes
            shareapidefaultexpiredateusershare no
            shareapienforceexpiredate yes
            shareapienforcelinkspasswordreadonly yes
            shareapienforcelinkspasswordreadwrite yes
            shareapienforcelinkspasswordwriteonly yes
            umgmtsetpassword true
            vendor owncloud
        
    



list of activated apps


 sudo u nginx php occ applist
enabled
   activity 
   comments 
   configreport 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   gallery 
   market 
   notifications 
   provisioningapi 
   systemtags 
   templateeditor 
   userldap 
disabled
   encryption
   external
   firstrunwizard
   updatenotification
   userexternal


 client configuration
browser google chrome  

operating system ",Not_TD,TD
564,"seen with 
 created a public link to a folder with password 
 in a fresh browser session open the link and enter a wrong password xxxx



expected behaviour access denied without refering to csrf checks",Not_TD,Not_TD
565," steps to reproduce

 enable encryption
 enable recovery key
 disable recovery key
 without refreshing page goto 


 expected behaviour
text is updated when disabling key
text fields are emptied

 actual behaviour





 server configuration

operating system
ubuntu 

web server
apache

database
mysql

php version


owncloud version see owncloud admin page
current master
 


updated from an older owncloud or fresh install
fresh

the content of configconfigphp





are you using external storage if yes which one localsmbsftp
no

are you using encryption 
no

logs

 client configuration

browser
chrome

logs


",Not_TD,Not_TD
566," steps

 create three users   
 login as 
 create a folder test
 share test with link call it my link
 share test with 
 login as 
 share test with link call it two link
 login as 
 share test with link call it three link
 login as 
 open share panel

 expected result
three links displayed my link two link and three link with a hint about share owner
 and  only see own links

 actual result
only own link my link displayed
 and  still only see own links

 version


please note that technically the information is already available through the apis its just filtered out
we could never do this in the past because there was no room in the ui for multiple links since  has multiple link ui we could add this now

 felixheidecke 
",Not_TD,TD
567,"because sometimes it can take a long time and sometimes the admin might want to make sure no one is using the storages when doing a scan occ filesscan should be available in maintenance mode

also would make it possible to run the repair switch from  in maintenance mode

",Not_TD,TD
568,my archlinux distribution just updated to apache  the recommended update for php was to use phpfpm and proxyfcgi before the update owncloud  worked fine with apache  and phpmodule after the update it does run imagesicons und cssstyleheets are not loadedsimilar problems are reported for ubuntudebianthe following apache access log for the home indexphp and for the filesdirectory indexphpappsfiles  shows some very strange httpget requestsget indexphpindexphpappsfilescssuploadcsswith double reference to indexphp and separator the problem might be due to the serverenvironment provided by phpfpm but owncloud should be able to run on this typical webserverconfiguration                   clicking on the opencloud     get indexphp       get        get        get        get        get        get        get        get        get        get        get        get        get        get coreimglogowidesvg       get settingsimgadminsvg       get settingsimgpersonalsvg       get settingsimguserssvg       get coreimgactionscaretsvg       get coreimgbreadcrumbsvg       get settingsimghelpsvg       get coreimgactionslogoutsvg       get coreimgplacesfilessvg       get appsactivityimgactivitysvg       get appsdocumentsimgdocumentssvg       get coreimgplacespicturesvg       get appscalendarimgcalendarsvg       get appscontactsimgcontactssvg       get settingsimgappssvg       get coreimgactionsdownloadsvg       get coreimgactionsdeletesvg       get coreimgfiletypestextpng       get coreimgfiletypesfolderpng       get coreimgplaceslinksvg       get coreimgfiletypesapplicationpdfpng       post indexphpcoreajaxtranslationsphp       get indexphpcoreroutesjson       get        get cronphp       get        post indexphpcoreajaxtranslationsphp       post indexphpcoreajaxtranslationsphp       get coreimgactionshistorysvg        get coreimgactionssharesvg        get coreimgactionsrenamesvg       get undefinedtemplatesslideshowhtml       get indexphpcoreajaxsharephpfetchgetitemssharedstatusesitemtypefile       get        get        post indexphpcoreajaxtranslationsphp                      clicking on the files icon     get indexphpappsfiles       get        get        get        get        get        get        get        get        get        get        get        get        get        get indexphpcoreimgactionscaretsvg       get indexphpsettingsimguserssvg       get indexphpsettingsimghelpsvg       get indexphpcoreimglogowidesvg   ,Not_TD,TD
569,"currently the master key mode is bundled by the default encryption module app

since they work differently and master key enables much more functionality to work as expected we should move its code into a separate app

well extract the code because its intertwined with the default encryption code",Not_TD,TD
570, steps to  connect external storage to google  connect desktop  sync google drive directory expected behaviourall files in the google drive directory should by synced to the desktop actual behavioursome files are not synced  on inspection in the web interface the files that are not synced are marked pending  i am running usrbinphp varwwwowncloudocc filesscan all every  seconds server configurationoperating system ubuntu  ltsweb server apache  postgresql  version php  version see owncloud admin page  from an older owncloud or fresh install freshwhere did you install owncloud from wget from owncloud for ubuntu  status owncloud  and above no ideaexample domainthis domain is established to be used for illustrative examples in documents you may use this domain in examples without prior coordination or asking for permissionmore informationlist of activated appsenabled activity  comments  dav  documents  encryption  external  federatedfilesharing  federation  files  filesexternal  filespdfviewer  filessharing  filestexteditor  filestrashbin  filesversions  filesvideoplayer  firstrunwizard  gallery  galleryplus  notifications  provisioningapi  systemtags  templateeditor  updatenotification  userexternal   disabled calendar contacts ownnote userldapthe content of configconfigphpphpconfig  array   updatechecker  false  instanceid    passwordsalt    secret    trusteddomains    array       owncloud      owncloudgtstxyz    datadirectory  varwwwownclouddata  overwritecliurl    dbtype  pgsql  version    dbname  owncloud  dbhost  localhost  dbtableprefix  oc  dbuser  ocxxxx  dbpassword    logtimezone  utc  installed  true  previewlibreofficepath  usrbinlibreoffice  maintenance  false  loglevel   you using external storage if yes which one googledrive dropboxare you using encryption noare you using an external userbackend if yes which one none client configurationbrowser chromium  ubuntu    firefox  system ubuntu  logs web server error loginsert your webserver log herenstack     ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line      client denied by server configuration varwwwownclouddataocdata    php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     php parse error  syntax error unexpected dbname tstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tconstantencapsedstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tconstantencapsedstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tconstantencapsedstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tconstantencapsedstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tconstantencapsedstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tconstantencapsedstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tconstantencapsedstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tconstantencapsedstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tconstantencapsedstring expecting  in varwwwowncloudconfigconfigphp on line     php parse error  syntax error unexpected dbname tconstantencapsedstring expecting  in varwwwowncloudconfigconfigphp on line     php fatal error  uncaught error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu        mainn  thrown in varwwwowncloudlibprivatefilesfilesystemphp on line     script varwwwhtmlindexphp not found or unable to statrootowncloudvarwwwowncloud  owncloud log dataowncloudloginsert your owncloud log  error access to undeclared static property ocfilesfilesystemnormalizedpathcache in      ocfilesviewunlockfilegoogledriveu  internal function      mainn  thrown at    put is not allowed on  internal function sabredavcorepluginhttpputobjectsabrehttprequest   calluserfuncarrayarray   sabreeventeventemitteremitmethodput   sabredavserverinvokemethodobjectsabrehttprequest         put is not allowed on  internal function sabredavcorepluginhttpputobjectsabrehttprequest   calluserfuncarrayarray   sabreeventeventemitteremitmethodput   sabredavserverinvokemethodobjectsabrehttprequest         put is not allowed on  internal function sabredavcorepluginhttpputobjectsabrehttprequest   calluserfuncarrayarray   sabreeventeventemitteremitmethodput   sabredavserverinvokemethodobjectsabrehttprequest         put is not allowed on  internal function sabredavcorepluginhttpputobjectsabrehttprequest   calluserfuncarrayarray   sabreeventeventemitteremitmethodput   sabredavserverinvokemethodobjectsabrehttprequest         put is not allowed on   sabredavcorepluginhttpputobjectsabrehttprequest   calluserfuncarrayarray   sabreeventeventemitteremitmethodput   sabredavserverinvokemethodobjectsabrehttprequest         put is not allowed on   sabredavcorepluginhttpputobjectsabrehttprequest   calluserfuncarrayarray   sabreeventeventemitteremitmethodput   sabredavserverinvokemethodobjectsabrehttprequest         put is not allowed on   sabredavcorepluginhttpputobjectsabrehttprequest   calluserfuncarrayarray   sabreeventeventemitteremitmethodput   sabredavserverinvokemethodobjectsabrehttprequest       messageerror calling post https  insufficient permissions for this     googlehttprestexecuteobjectgoogleclient     googleserviceresourcecalltrash array     ocfilesstoragegoogleunlinkunosales   ocfilesstoragewrapperwrapperunlinkunosales   ocfilesstoragewrapperavailabilityunlinkunosales   ocfilesstoragewrapperencryptionunlinkunosales   calluserfuncarrayarray   ocafilestrashbinstoragedodeleteunosales coll   ocafilestrashbinstorageunlinkunosales   ocadavconnectorsabrefileputresource id   sabredavserverupdatefilegoogledriveun resource id    sabredavcorepluginhttpputobjectsabrehttprequest   calluserfuncarrayarray   sabreeventeventemitteremitmethodput   sabredavserverinvokemethodobjectsabrehttprequest         could not open     sabredavcorepluginhttpgetobjectsabrehttprequest   calluserfuncarrayarray   sabreeventeventemitteremitmethodget   sabredavserverinvokemethodobjectsabrehttprequest      mainfilevarwwwowncloudappsdavlib,Not_TD,TD
571,guruz forced jancborchardt to dictate  disable change password button after it has been  put the checkmark on the right of the change password  while the change is happening but a spinner in place where the checkmark should  hide the checkmark again after   activate the change password button  hide the tipsy as soon as the button is clicked,Not_TD,TD
572," steps to reproduce
 from owncloud  try to upgrade using web interface indexphpsettingsadminsectionidgeneral
 start upgrade

 expected behaviour
during checking system owncloud should stop upgrade with following message
unzip command is not found please install it before executing upgrade

 actual behaviour
checking system display an ok message and start updating core at some point the upgrade fails with following message

 extracting source into 
 sh  unzip not found

 server configuration
operating system linux ubuntu 

web server apache

database mysql

php version php 

owncloud version see owncloud admin page",Not_TD,TD
573,"i can reproduce the issue only sometimes only with chrome  on windows same version on ubuntu seems not to be affected owncloud version is 

 click on the share icon of a file
 enable share link
 chrome automatically completes the field for the usernames and the password field this somehow enables password protect even if it was not clicked by the user
 click on password protect to disable it
 chrome detects the change in the user field and tries to autocomplete causing the field to be enabled again

expected behavior step  should not happen at all password protection should be enabled only if the user clicks on the correspondent checkbox

i cant reproduce it consistently but when it happens it makes the sharing completely unusable and i have to temporarily switch to another browser where no credentials are stored

i am not sure whether this is a chrome issue or owncloud one but i cant recall any other interface where this happens",Not_TD,TD
574,currently the versions app only can deal with  linear versions of a file one version follows on the next however in the world of multiple devices syncing a file it happens that conflict files need to be created on clients the reason is that the file is changed on a two independent devices at the same time the current handling of conflict files on the desktop client is to save the local change and prefer the server version that has issues and is subject of tickets such as  and  main concern is that we currently do not save changes of the conflict file to the server and as a result the file is not secured proposal version branchesthe version app should be aware of the etag which is the uniq identifier of a version of a file there should be the possibility to save a file version as direct successor of a specific previous etag via a put request  the client could send the etag of the predecessor version of this specific file in a http header this would enable the client to build up version branches a file that was uploaded as followup version of a former version of the file would need a new not yet used etag assigned by the versions app that needs to be sent back to the client with a header in the replynote that a branch version of a file would not be visible in the owncloud wi by default only through the versions app if we want thatboth creating the branch versions as well as retrieving it should be added to the api discussed in  mtrichards karlitschek  ,Not_TD,Not_TD
575," steps to reproduce
  set owncloud account with ical on macos mojave using the following url
 create a calendar and share it readwrite with user b
 ical alter an error message

 the ical error message
the server responded with an error
the request for account “owncloudfanping” failed

the server responded with
“”
to operation caldavupdateshareesqueuableoperation

 the owncloud log

  reqid 
  level 
  time 
  remoteaddr 
  user fanping
  app webdav
  method post
  url 
  message exception   there was no plugin in the system that was willing to handle this post method
  exception sabredavexceptionnotimplemented
  code 
  trace   sabredavserverinvokemethodobjectsabrehttprequest objectsabrehttpresponsen   sabredavserverexecn      main
  file varwwwowncloudlibcomposersabredavlibdavserverphp
  line 
  user fanping


 server configuration
operating system
macos mojave 
 
calendar client
macos calendar version  

owncloud version 
owncloud  stable

 additional information
when i use the calendar app of owncloud market 
i can share calendar normally
",Not_TD,Not_TD
576,just like you can replace the random shortcode with a custom one in url shortening services it should be possible to pick an easy to remember uri when sharing a linkindexphpsyourprojectrullzer ,Not_TD,Not_TD
577,this is about a  instance  maybe different for  or master but needs to be checked listen to postlogin hookmy answer i just tested the hooks following hooks work here for webdav login on a  instance   ocputilconnecthookocuser prelogin ocaapphookshandlers prelogin ocputilconnecthookocuser postlogin ocaapphookshandlers postlogin   but the essential part is following in the infoxml         this will register the app early in the request cycle and allows the handling of login otherwise apps are loaded after the login happenedfrom  ive been using the newer usermanagerlisten style with a callable as in   i cant find the docs referring to using the utilconnecthook method from what i can see in the code they dont overlap at all one is not a wrapper for the other so it looks like i need to provide a function name to connecthook as a string rather than a variable holding a closure style function is that correct  im guessing this is what morris was referring to when he said this is fixed in  if the newer style works fine in  ill wait until then rather than implementing the older style  id not specified any type in my infoxml so that would have been part of my problem too even with that set to logging or prelogin it doesnt work with the listen style of connecting to hookscc  and scolebrook ,Not_TD,TD
578,"currently uploading a file in the browser returns an empty  created response which requires us to send another propfind response for the resource we can save the second request by returning the meta data in the entity as described in 

  the response should include an entity containing a list of resource characteristics 

cc   sorry if this is a duplicate",Not_TD,TD
579," steps to reproduce

 set up a external storage and disable the sharing option
 access in the files view to the files inside the external storage
 open the sidebar for one of the files and check the sharing tab

 expected behaviour
sharing is not allowed

 actual behaviour
resharing is not allowed





 server configuration

operating system
ubuntu 

web server
apache

database
mysql

php version


owncloud version see owncloud admin page
current master




updated from an older owncloud or fresh install
fresh

the content of configconfigphp





are you using external storage if yes which one localsmbsftp
yes

are you using encryption 
no

logs




 client configuration

browser
chrome
",Not_TD,Not_TD
580,"introduction

hello

i try to sync a single account with the new option uuid 
i think the uid is either the username or the uuidstring eg 
i tried all attributes but nothing will work and also the output looks like

 i am using a samba  active directory domain controller primary and connected it with owncloud 
the bug

sudo u apache php occ usersync v ‘ocauserldapuserproxy’ 
–  is the samaccountname or uid
the output looks like

if unknown users are found what do you want to do with their accounts removing the account will also remove its data
 disable
 remove
 ask later

     i selected  ask later 
    syncing  …
    these accounts that are no longer available in the backend
      no longer exists in the backend
    what do you want to do with their accounts removing the account will also remove its data
     disable
     remove

i think it is not normal that i get     spaces seperated with commas
what does the command try to do

if i use the lastname of the user  which is maske the sync is successfull but only if the lastname is unique in ldapbackend
server configuration

centos 

httpd 

database ver  distrib  

php version 

owncloud version  stable see owncloud admin page

updated from an older owncloud or fresh install yes 

where did you install owncloud from official centos repo 

signing status owncloud  and above no errors have been found

the content of configconfigphp

“system” 
“instanceid” “”
“passwordsalt” “removed sensitive value”
“secret” “removed sensitive value”
“trusteddomains” 
“mydomaincom”

“datadirectory” “varwwwhtmlownclouddata”
“overwritecliurl” “
“dbtype” “mysql”
“version” “”
“dbname” “ownclouddb”
“dbhost” “localhost”
“dbtableprefix” “oc”
“dbuser” “removed sensitive value”
“dbpassword” “removed sensitive value”
“logtimezone” “utc”
“installed” true
“filelockingenabled” “true”
“memcachelocking” “ocmemcacheredis”
“redis” 
“host” “localhost”
“port” 
“timeout” 

“memcachelocal” “ocmemcacheredis”
“theme” “owntheme”
“mailsmtpmode” “smtp”
“mailfromaddress” “removed sensitive value”
“maildomain” “removed sensitive value”
“mailsmtphost” “removed sensitive value”
“updatechecker” false
“ldapignorenamingrules” false
“loglevel” 
“maintenance” false
“previewlibreofficepath” “usrbinlibreoffice”
“singleuser” false



list of activated apps
enabled

    activity 
    calendar 
    comments 
    configreport 
    contacts 
    dav 
    federatedfilesharing 
    federation 
    files 
    filesexternal 
    filespdfviewer 
    filessharing 
    filestexteditor 
    filestrashbin 
    filesversions 
    filesvideoplayer 
    firstrunwizard 
    gallery 
    market 
    notifications 
    provisioningapi 
    systemtags 
    templateeditor 
    updatenotification 
    userldap 
    disabled
    encryption
    external
    userexternal

are you using external storage if yes which one no 

are you using encryption no

are you using an external userbackend if yes which one ldap
ldap configuration delete this part if not used

±±
 configuration  
±±
 hasmemberoffiltersupport   
 haspagedresultsupport  
 homefoldernamingrule  
 lastjpegphotolookup   
 ldapagentname  cnldapcnusersdcmydcdomaindccom 
 ldapagentpassword   
 ldapattributesforgroupsearch  
 ldapattributesforusersearch  
 ldapbackuphost  
 ldapbackupport  
 ldapbase  dcmydcdomaindccom 
 ldapbasegroups  dcmydcdomaindccom 
 ldapbaseusers  dcmydcdomaindccom 
 ldapcachettl   
 ldapconfigurationactive   
 ldapdynamicgroupmemberurl  
 ldapemailattribute  mail 
 ldapexperiencedadmin   
 ldapexpertuuidgroupattr  
 ldapexpertuuiduserattr  entryuuid 
 ldapexpertusernameattr  
 ldapgroupdisplayname  cn 
 ldapgroupfilter  objectclassgroupcnowncloud 
 ldapgroupfiltergroups  owncloud 
 ldapgroupfiltermode   
 ldapgroupfilterobjectclass  groupofnames 
 ldapgroupmemberassocattr  memberuid 
 ldaphost  ldapipipipip 
 ldapignorenamingrules  
 ldaploginfilter  objectclassorganizationalpersonmemberofcnowncloudougroupsdcmydcdomaindccomsamaccountnameuidmailprimaryaddressuidmailuid 
 ldaploginfilterattributes  
 ldaploginfilteremail   
 ldaploginfiltermode   
 ldaploginfilterusername   
 ldapnestedgroups   
 ldapoverridemainserver  
 ldappagingsize   
 ldapport   
 ldapquotaattribute  postofficebox 
 ldapquotadefault   
 ldaptls   
 ldapuserdisplayname  cn 
   
 ldapuserfilter  objectclassorganizationalperson 
 ldapuserfiltergroups  
 ldapuserfiltermode   
 ldapuserfilterobjectclass  organizationalperson 
 ldapusername  samaccountname 
 ldapuuidgroupattribute  auto 
 ldapuuiduserattribute  auto 
 turnoffcertcheck   
 usememberoftodetectmembership   
±±

thanks in advanced",Not_TD,TD
581,"the core drone ci has a  job with

filesexternaltype smbwindows

core testsdronetestphpunitsh reacts to env var filesexternaltype and in the smbwindows case it copies testsdroneconfigsconfigfilesexternalsmbwindowsphp into place as the backend external files config that config points to a windows system fswebtestowncloudcom

then it runs appsfilesexternaltestsstoragesmbtestphp

that test class extends testfilesstoragestorage  and it runs a bunch of standard unit tests that do things to files and verifies that the connected backend external storage works  in this case a windows file share imo it is useful to have  it is not really unit tests but integration or acceptance tests that check that some stuff really works against a windows file share

core ci relies on fswebtestowncloudcom always being up and working

is there a differentbetter way to provide a realistic windows file share for core ci  to use",Not_TD,Not_TD
582," description
during the new installation of core if we select the show password 👁️  icon on the password input field it does not show us the password that we entered this issue exists on all the password fields of the core setup page where the 👁️ icon exists

 steps to reproduce
 start fresh installation of core or remove the existing data directory and create a new one so that it ask you to create a database
 click in the 👁️ icon on the password input field

 expected behaviour
user should see what password that they have entered

 actual behaviour
selecting the show password icon does nothing as shown in the screen capture below 

 server configuration
operating system ubuntu 

database mysql

php version 

owncloud version current master with commit ssh 

updated from an older owncloud or fresh install fresh install

 screenshot





",Not_TD,Not_TD
583,"referencing merged pr  include settings for the persistent locks

quote
i think we might need some kind of visual indicator if the value isnt in range not positive to show the value is wrong firefox handles this by itself showing a red border around but not chrome
for chrome the user can enter a negative value without receiving any feedback the value wont be saved but the admin wont know the value is wrong


because the referenced pr is now merged this issue helps to remember to set a visual indicator in case the value is out of range and therefore not saved

micbar jvillafanez  ",Not_TD,TD
584,ive seen this in the sidebar but there may be other locations where this is problematicin these examples the class hidden is added to the div containing the spinner that class hidden only contains displaynonethe problem is that with custom themes the stylesheet is loaded at the end and a custom spinner may contain something like displayblock which will overrule the statement from the class hidden and make it so that the spinner is never hiddenone example of how to make things compatible is in the activity tab viewthis effectively removes the div when not needed but only works well when a fragment has to be created anyway as there will be no extra penalty for adding the loading divfor areas where a loader has to be hidden its best to embed the loader into a  henni jancborchardt ,Not_TD,TD
585,  go to the users management  create   refresh the  create a user with a name that would appear at the bottom of the list expected resultlist autoscrolls and highlights the newly created user like the file list app does for new files actual resultuser is created but the list doesnt scrollside note it would be nice to have generic list components with the same behavior that can be reused for files users etc so we dont need to reimplement the same behaviors everywhere versionsobserved on master  git prealphaownclouddesigners ,Not_TD,TD
586,"i tried to install own cloud on my raspberry pi however the webpage never loads looking at the  log i found this

     raspbian configured  resuming normal operations
    command line 
    php fatal error  cannot redeclare normalizernormalize previously declared in  in  on line  referer 
    php fatal error  cannot redeclare normalizernormalize previously declared in  in  on line  referer 
    php fatal error  cannot redeclare normalizernormalize previously declared in  in  on line  referer 


 expected behaviour
owncloud setup should show on the browser

 actual behaviour
http error 

 server configuration
operating system raspberry pi os

web server apache 

database mysql 

php version 

owncloud version 

updated from an older owncloud or fresh install fresh install

where did you install owncloud from from the owncloud website
",Not_TD,Not_TD
587," steps to reproduce
 disable automatically accept new incoming local user shares
 create this folder structure parentchildchildtxt
 share childtxt to an other user
 as share receiver query received shares curl uadminadmin   jq 

 expected behaviour
receiver should not see where the sharer has stored the file only childtxt should be listed as path

 actual behaviour
the full path of the file at the sharer side is shown path parentchildchildtxt
",Not_TD,Not_TD
588,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 access to server via ssh
 varwwwowncloud
 sudo u wwwdata php occ filesscan all

 expected behaviour
files with problems are indexed and appear in the web and desktop client the original creation date of files and folders are maintained

 actual behaviour
files with problems are indexed and appear in the web and desktop client the dates of creation of folders are changed to the date of the scan the dates of the files are maintained

 server configuration
operating system ubuntu 

web server apache 

database 

php version 

owncloud version owncloud  production 

updated from an older owncloud or fresh install updated from an older owncloud

where did you install owncloud from 

signing status owncloud  and above






the content of configconfigphp


log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps


enabled
   activity 
   announcementcenter 
   audioplayer 
   bruteforceprotection 
   calendar 
   comments 
   configreport 
   contacts 
   dav 
   external 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filespdfviewer 
    
   filessharing 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   firstrunwizard 
   gallery 
   guests 
   market 
   notes 
   notifications 
   provisioningapi 
   systemtags 
   tasks 
   templateeditor 
   updatenotification 
disabled
   encryption
   userexternal


are you using external storage if yes which one localsmbsftp no

are you using encryption no



referenced ",Not_TD,Not_TD
589,it would be fancy to be able to search for files in public shared folders so if somebody sends me a huge shared public shared folder and i just want to access a specific file id like to just click on search and have a search on the file namecc jancborchardt as discussed,Not_TD,TD
590,currently the  errors which are related to permissions are shown separatelyfirst the config issue cant write into config directory this can usually be fixed by giving the webserver write access to the config directorythen the apps and data directory cant write into apps directory this can usually be fixed by giving the webserver write access to the apps directory or disabling the appstore in the config file  cant create data directory  this can usually be fixed by giving the webserver write access to the root directorythose  individual error pages should be combined to one so you don’t have to go back and forth,Not_TD,TD
591,"in  the home folder absolute path is hardcoded in the ocaccounts table

need an occ command to move it physically  adjusting the db
",Not_TD,TD
592, steps to  windows client  ubuntu oc server  storage on nfs share on windows  server    create file or  try changing only capitalization of filefolder namealso see  expected behaviourfile should be renamed and synced actual behaviourfile is renamed locally but cannot be synced anymoreerror message in the client is file xxx can not be downloaded because of a local file name clashtests on nfs in ubuntu touch testfile echo   testfile ls lrw  root     root         jul     testfile cat    echo existsexists mv testfile testfilemv testfile and testfile are the same file server configurationoperating   smpweb  ubuntudatabasepostgresql php  version see owncloud admin  stableupdated from an older owncloud or fresh installupdated from  in several stepswhere did you install owncloud fromowncloud websitesigning status owncloud  and above core   invalidhash     htaccess   filemissing     coreskeletondocumentsexampleodt     coreskeletonphotosparisjpg     coreskeletonphotossan franciscojpg     coreskeletonphotossquirreljpg   extrafile     coreimgdownloadjpg firstrunwizard   invalidhash                of activated appsenabled activity  comments  dav  federatedfilesharing  federation  files  filespdfviewer  filessharing  filestexteditor  filestrashbin  filesversions  filesvideoplayer  firstrunwizard  gallery  notifications  provisioningapi  systemtags  templateeditor  updatenotification  userldap   disabled encryption external filesexternal userexternalthe content of configconfigphp    system         passwordsalt removed sensitive value        secret removed sensitive value        trusteddomains             removed sensitive value            dummy                datadirectory dataowncloud        overwritecliurl httpsremoved sensitive value        dbtype pgsql        version         dbname occ        dbhost         dbtableprefix oc        dbuser removed sensitive value        dbpassword removed sensitive value        enableavatars false        knowledgebaseenabled false        loglevel         logrotatesize         logdateformat d f y  his        logtimezone europebrussels        installed true        instanceid         maintenance false        mailsmtpmode smtp        mailfromaddress removed sensitive value        maildomain removed sensitive value        mailsmtphost removed sensitive value        mailsmtpport         memcachelocal ocmemcacheapcu        proxy removed sensitive value        tempdirectory dataowncloudtemp        theme lpa        customclientdesktop httpsremoved sensitive valuethemeslpadldownloadhtml        customclientandroid httpsremoved sensitive valuethemeslpadldownloadhtml        customclientios httpsremoved sensitive valuethemeslpadldownloadhtml    are you using external storage if yes which one yes  nfs through windows  server on hp  client configurationbrowser  chrome  moperating system  windows   windows   windows   logs web server error lognothing relevant in webserver log owncloud log dataowncloudlognothing relevant in owncloudlog os level error see tests by actual behaviourmv source  target are the same file,Not_TD,Not_TD
593,currently ocmounts is populated when a users filesystem is getting set upthis means that when setupfs is called it will ask all mount providers to provide mountsthis also means that the share mount provider will have to read the shares from ocshare every timehow about making it work differently the ocmounts becomes a fstablike list and setupfs only ever mounts whats written in there the table must then be populated at a different time for example whenever a share is created or an external storage added or a user added to a group etc which is likely a big challenge or this could be done in a background  butonic owncloudfilesystem ,Not_TD,TD
594,xenopathic as discussed yesterday to make it possible for some storage backends to disable encryptionsharing by defaultalso could help to fix ,Not_TD,Not_TD
595,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
expected behaviour

hi
we are using owncloud with  ad domains and have same name users on both domains but different email addresses as users are synced to owc from ldap you see them the same when don’t see their email address so it’s hard to share to them from desktop app
actual behaviour

share file to person and start typing name two or more the same names will popup auto fill without possibility to distinguish between them not seeing their details like email or so
steps to reproduce

    create two the same users with same names and different email addresses
    try to share file with user name two or more users will be seen on desktop client or web gui
    try to pick the correct one

client configuration

client version  build 

operating system mac os x windows  windows 

os language english",Not_TD,Not_TD
596,"hi

as a plugin writer i would need to have the date  time when the file was first added to owncloud
the only date stored is the file creation date which is very usefull for file versions and the file update date for files that can be modified in owncloud

without this file insertion date we cant develop tools like purge tools

is there is any chance to add this date 

thanks a lot for your replies
",Not_TD,Not_TD
597,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 request password reset email
 click on link enter password click reset

 expected behaviour
works or error message

 actual behaviour
very not helpful message for a user
img  altscreen shot  at    src




checking owncloudlog",Not_TD,Not_TD
598,currently there are two places the breadcrumb can be created appsfilesjsfilesjs does its own breadcrumb creation and corejsjsjs provides breadcrumb functionality problem is they arent the same this leads to inconsistencies in the texteditor app see  it would be very beneficial to just have one probably in corejsjsjs then have the files app use that this one should be patched to fix the resizing issue,Not_TD,TD
599,im using a beaglebone black as an webserver so i have to store all may webdata at an external hdd which i link symbolicly into my varwww directory yesterday i renamed the original owncloud folder at the hdd while keeping the linkname at varwww the same this leads to an database error database could not be opened sqlite error  it took me at least two hours to understand that this renameing caused the errori think this is connected to your absolute declaration of the directory in configconfigphp if possible you should give this path relative or at least please add an hint for databaseerror  is connected to wronge pathes in configconfigphp in your documentation,Not_TD,TD
600,"run the acceptance tests with oracle database see pr  


  scenario restore a file and check if the content and correct checksum is now in the current file                                                                                           
    given user  has uploaded file with content aaaaabbbbbccccc and checksum  to davtesttxt                                                  checksumcontextuserhasuploadedfilewithcontentandchecksumtousingtheapi
    and user  has uploaded file filesforuploadtextfiletxt to davtesttxt with checksum                                                     checksumcontextuserhasuploadedfiletowithchecksumusingtheapi
    and the version folder of file davtesttxt for user  should contain  element                                                                                                  filesversionscontexttheversionfolderoffileshouldcontainelements
    when user  restores version index  of file davtesttxt using the webdav api                                                                                                   filesversionscontextuserrestoresversionindexoffile
    then the content of file davtesttxt for user  should be aaaaabbbbbccccc                                                                                                       featurecontextcontentoffileforusershouldbe
    and as user  the webdav checksum of davtesttxt via propfind should match     checksumcontextthewebdavchecksumofviapropfindshouldmatch
      expected webdav checksum should be    but got   
      failed asserting that two strings are equal
       expected
       actual
       
        
        



 failed scenarios

    

 scenarios  passed  failed
 steps  passed  failed


nothing is seen in owncloudlog

this scenario passes with other databases mysql mariadb and postgresql of all supported versions investigate",Not_TD,Not_TD
601,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
checked with 
if you look in settingsapps it looks like there is no sort order of the apps listed see screenshot below


it would look much more professional if the apps are listed in eg alphabetical order

",Not_TD,Not_TD
602,the user id is sometimes handled lowered and sometimes handled in the plain mixed upperlowercase formatissue arised here what should we do here lowercase it in all sql queries cc  bantu    schiesbn karlitschek butonic blizzz i guess this cause severe trouble but we should have a look at it craigpg also maybe a technical dept issueoccurences call in core repoack uid   ,Not_TD,TD
603,it would be nice to be able to set these on different users some you might not want tobe able to share links outside and others might need to ,Not_TD,Not_TD
604,issue  is unjustly closed  this is a needed function that i really cannot see how any company with structured data and userrestricted access could use this solutionexamplecustomers  shared folder with all sales   shared folder with sales agent handling this  account and supervisor that folder should be hidden from other sales   shared folder with sales agent handling this  account and supervisor that folder should be hidden from other sales agentsso all users will seesharedcustomersbut each agent will see there only folders for his clients and supervisor will see them all in same structureone sales agent will  will  supervisor will  is that way too complicated for user experience,Not_TD,Not_TD
605,on the user admin panel i see a meaningless standard quota information but this does not indicate the sizeoutput should be changed to show the correct current size value perhaps in the form  gb standard proposed,Not_TD,TD
606,"i ran into problems when trying to write tests for our ilike implementations we should test the user search with  as well especially for sqlite

see ",Not_TD,TD
607," steps to reproduce
 config external storage mount googledrive
 exec occ filesexternalexport  outjson
 delete external storage mount with gui
 exec occ filesexternalimport outjson

 expected behaviour
importing the mount as it was

 actual behaviour
stacktrace

an unhandled exception has been thrown
typeerror argument  passed to ocfilesexternalstorageconfigsetbackend must be an instance of ocpfilesexternalbackendbackend null given called in varwwwowncloudappsfilesexternallibcommandimportphp on line  and defined in 
stack trace
  ocfilesexternalstorageconfigsetbackendnull
  ocafilesexternalcommandimportparsedataarray objectocfilesexternalserviceuserstoragesservice
  ocafilesexternalcommandimportocafilesexternalcommandclosurearray
  arraymapobjectclosure array
  ocafilesexternalcommandimportexecuteobjectsymfonycomponentconsoleinputargvinput objectsymfonycomponentconsoleoutputconsoleoutput
  symfonycomponentconsolecommandcommandrunobjectsymfonycomponentconsoleinputargvinput objectsymfonycomponentconsoleoutputconsoleoutput
  occorecommandbaserunobjectsymfonycomponentconsoleinputargvinput objectsymfonycomponentconsoleoutputconsoleoutput
  symfonycomponentconsoleapplicationdoruncommandobjectocafilesexternalcommandimport objectsymfonycomponentconsoleinputargvinput objectsymfonycomponentconsoleoutputconsoleoutput
  symfonycomponentconsoleapplicationdorunobjectsymfonycomponentconsoleinputargvinput objectsymfonycomponentconsoleoutputconsoleoutput
  symfonycomponentconsoleapplicationrunobjectsymfonycomponentconsoleinputargvinput objectsymfonycomponentconsoleoutputconsoleoutput
  occonsoleapplicationrun
  requireoncevarwwwownclo
 main

 server configuration
operating system centos

web server apache

database mariadb

php version

owncloud version 

updated from an older owncloud or fresh install fresh

where did you install owncloud from docker",Not_TD,TD
608," steps to reproduce
 set in configphp

usersearchminlength  


 create user new with display name jim and email address ab
 try to share a file type in new  the user jim is shown as an exact match suggestion  good
 type in jim or jim  no match is shown  not good
 type in ab  no match is shown  theoretically not good in practice email addresses are never this short

if you set

usersearchminlength  

and type jim or ab in the sharing box then it happily shows jim as a match  so when such strings are greater than searchminlength then the backend is providing matches on display name and email address

 expected behaviour
an exact match lookup should return an exact match on display name or email address as well as on uid

 actual behaviour
an exact match for a short string is only returning an exact match on uid

 server configuration
operating system
ubuntu 

web server
php dev server

database
mysql

php version
 problem is no different than on php  etc

owncloud version see owncloud admin page


same behavior on both versions

updated from an older owncloud or fresh install
fresh

where did you install owncloud from
tarball
",Not_TD,TD
609,see this is a pure php library there is an optional php extension to speed up serialization  as you can see the library is seeing quite a lot of use for example on my synology it is quite a lot easier to install redis than it is to try and install the php redis extension i assume the same will apply to many users in other setups as well given that redis is recommended to get transactional file locking  it seems like it would be a good idea to make it as easy as possible to get redis support,Not_TD,TD
610,whenever new mimetypes get added to the list of known ones a repair step runs during an update to find all existing files that need adjustingthis approach is unefficient with lots of filesafter discussing in  a new background job needs to be written that can adjust the mime types of files in a running systeman alternative approach would be to implement this as part of the occ filesscan all command which anyway examines all possibles files however the latter might be less efficient if there are only a handful of files to adjustmmattel vicdeo karlitschek morrisjobke cmonteroluque  ,Not_TD,TD
611,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
referencing  show server sided mounts problems in client

when a mount has a issue eg connection problems the client should be notified via the notification process

background if you work in the majority via the client not with the browser and a mount has a issue you never see that there is a problem and you think all things are fine 

samualfageme  
",Not_TD,Not_TD
612,by default owncloud is using all the available space on the disk to store trashed files and versions there are scenarios where a server actually has a lot of physical storage but owncloud shouldn´t use itso it would be great to have a config variable where an admin can set the percentage of space on the disc that should be used before tash and versions is expired,Not_TD,TD
613, expected behaviourconfigure users for external storage using multiple domains actual behaviouronly one domain is listed in the external storage configuration section server configurationoperating system rhelweb server apachedatabase mysqlphp version  version  from an older owncloud or fresh install updatedare you using external storage if yes which one smbcifsare you using encryption noare you using an external userbackend if yes which one ldapmorrisjobke ,Not_TD,Not_TD
614,"see 

we should have an api acceptance test for this case of copying a zerobyte file so that we ensure that it works correctly and the same in both  and ocis

add a test scenarios for zerobyte file
 upload
 download
 move
 rename
 delete",Not_TD,TD
615, steps to reproducehaving servera and serverb both using  enable encryption in  enable external storage in  mount an external storage in servera smb for example upload some  enable external storage in  mount same external storage of point  in  try to remove files in serverb expected behaviourif user from serverb has enough permissions files are deleted actual behaviourthere is an error and files are not deleted server configurationoperating systemubuntu  serverapachedatabasemysqlphp  version see owncloud admin   from an older owncloud or fresh installfreshthe content of configconfigphpare you using external storage if yes which one localsmbsftpnoare you using encryption yes in serveralogsexception messagemodule with id ocdefaultmodule does not     ocfilesstoragewrapperencryptionfopenhaydenjpg   ocfilesstoragewrapperwrapperfopenhaydenjpg   ocfilesstoragewrapperencryptioncopybetweenstorageobjectocafilestrashbinstorage haydenjpg filestrashbin true   ocfilesstoragewrapperencryptionmovefromstorageobjectocafilestrashbinstorage haydenjpg   ocfilesstoragewrapperwrappermovefromstorageobjectocafilestrashbinstorage haydenjpg     ocafilestrashbinstoragedodeletehaydenjpg     ocfilesviewbasicoperationunlink smbhaydenjpg         sabredavcorepluginhttpdeleteobjectsabrehttprequest   calluserfuncarrayarray   sabreeventeventemitteremitmethoddelete   sabredavserverinvokemethodobjectsabrehttprequest       client configurationbrowserchrome,Not_TD,Not_TD
616,ocfilesclientmove currently only sends back the status after having tried to move a file but i would find it useful to get the new etag a well so that clients dont have to make an extra request jut to get it or to reload the whole list of files because their cache is  morrisjobke rullzer ,Not_TD,TD
617,"shared links are shown duplicated when clicked multiple times


",Not_TD,Not_TD
618,there is a ux error with accessing the admin recovery password field in the users page when viewing on an xga  size screen it hides behind the search field and can only be accessed by enlarging the browser window beyond the horizontal width of the displaysuggest left side navbar dynamically scales entry fields paddingsize shrunk and search field takes lower prioritynot set to be on top for tinytablet displaysapplying zoom to  kind of solves the problem but what the default zoomfont size is on any given system is an unknown variable but i would think the uiux wizards would have this one licked  debian stable chromium   firefox ,Not_TD,TD
619," steps to reproduce
 open the admin storage settings
 add a new webdav storage
 select username  password authentication and fill in the connection details including username and password for basic authentication

 expected behaviour
owncloud should send an authorization header to the webdav server and the indicator at the beginning of the row should go green

 actual behaviour
owncloud does not send any authorization header and so the indicator at the beginning of the row goes red

 server configuration
owncloud version 


updated from an older owncloud or fresh install
fresh



are you using an external userbackend if yes which one ldapactivedirectorywebdav

webdav


 owncloud log dataowncloudlog
it just says unauthorized which is expected as it doesnt send an authorization header


 how i fixed it

i edited libprivatefilesstoragedavphp and explicitly set thisauthtype   that resulted in a properly set authorization header the indicator went green and everything worked",Not_TD,TD
620,we use the feature to disallow a group to share content in our owncloud installation i would assume that this also applies to the ability for the users in that group to not be able to unshare content shared with them if not the ability to disable the unshare action should be an additional global sharing option,Not_TD,TD
621,i work with a lot of executable files mostly shell scripts that get modified or added to each day i would like to use owncloud to sync these files across clients but it does not propagate the executable permissions which means i have to manually chmod x various files when i move between clientsid love to see this capability added to owncloud,Not_TD,TD
622,"issue  provided acceptance tests for emojis embedded in comments and creating folders with names containing emojis via the api

here are a few more places that people could conceivably use emojis

using the api
  embedded in a group named like 🚴 cycling and be able to share with such a group
  embedded in a tag name
  embedded in a user full name yes users can do this themselves
  passwords with emojis
  search for file names that contain emojis

using the webui
similar list to api

make acceptance tests to verify the above are working",Not_TD,TD
623,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 


issue when a group contains a comma the current mechanism will not work
solution use a new implementation of group to allow groups with comma
implementation reference  and issue 

these are the occ commands which contain as option group


 sudo u wwwdata php occ filesscan in progress with pr 
 sudo u wwwdata php occ ldapsearch    search
 notificationsgenerate      
 useradd      

pls note each command mentioned above has usually more than one place in the command reference where this enhancement needs to be described
there are possible more occurrences which are currently not in the text due to bad doc quality needs checking

phildavis  
",Not_TD,Not_TD
624,"webdav delete copy or move requests should not send a body in the request


the happypath test scenarios were adjusted so that they do not send bodies in such requests  see issue 

if a body is sent then the server is supposed to return http status  unsupported media type


this has been implemented in reva pr  for move requests and might need implementing for copy and delete requests

 does not return  at this time

add test scenarios for delete copy and move that purposely send a body in the request and expect http status  make scenarios that do this in a users own personal storage and inout of a received share

the test scenarios will likely fail on  so skip them on  and allow them to run for ocisreva create a bug issue for  describing the noncompliant behavior and some scenarios that demonstrate the noncompliant behavior let those scenarios run on  and skip them for ocisreva someone can then easily decide to fix the behavior of  and it will be easy for the developer to adjust the test suite etc",Not_TD,Not_TD
625,"to test cases like  one currently needs to patch the oc code to simulate timeouts

one idea would be to add an extension for the testing app to enable random or controlled failures during uploads
 have ocappconfig setting for the testing app to enable chunk failures
 ocappconfig setting to specify what chunk indices will have a timeout failure ex    or none for random
 the testing app will install a storage wrapper which will when configured introduce a timeout in file operations like fopen and fileputcontents

 phildavis patrickjahns davitol butonic ",Not_TD,TD
626,my suggestion is the possibility to create a public upload folder to just give access to people this folders can be used without userpassto have just a easy sharing space with a linkbut with a configurable limit criteriafor example  do not allow to upload more than  expire date do not allow to upload videos,Not_TD,TD
627,placeholder to discuss mechanisms for file handling performance improvemenents,Not_TD,Not_TD
628, steps to  open the apps list  click on a category multimedia productivity game tool which has at least one app  find an app in that list which was never installedenabled on your owncloud installation eg mail app in productivity  download this app mail from the owncloud app store  copy the unzipped folder you just downloaded to your ownclouds apps  open the apps category productivity list in your browser once  click enable on the app you downloaded expected behaviour the app mail should be enabled as it was already downloaded manually actual behaviour owncloud downloads the app and then fails with app directory already exists however the app can be enabled through not enabled if you enabled the app once through not enabled and disabled it again it can be reenabled through the categories eg productivity server configurationowncloud versiontried a fresh installation of owncloud  and ,Not_TD,Not_TD
629,as a complement to  and possibly other features it would be neat to have the ability to push default settings to a client when they add an account or when a new top level directory is syncd this could be used to implement  and  the administrator could provide default settings not to synchronise some shares with the client able to override those settings if they so wish,Not_TD,TD
630,it is impossible to give usergroup administration rights to someone without allowing him to access server settings it would be really nice and in most cases neccessary to split this up into someone who can work on server configuration and others only allowed to createdelete users and groups,Not_TD,TD
631,at web instalation setupowncloudphp instalation didnt check value limitrequestbody in   if is manualy set on  owncloud upload will failed with nonsense errorsabredavexceptionbadrequest excepted filesize  got  you nowhere write that limitrequestbody  is required ,Not_TD,TD
632,"provide a way for clients to retrieve the email template through public apis

 public api endpoint to retrieve preformatted email template with filename expiration date as input

 public api endpoint to send out email with body tech debt from ajaxsharephp which needs to be moved anyway see 

this is a follow up of 

i suggest providing a new ocs share api endpoint for that

note that only plain text messages are supported not sure if we should support html emails as it would require clients and web ui to provide basic formatting

michaelstingl felixheidecke  ",Not_TD,TD
633," description
check  log unsupported memcache by memcachelocking  reads by

 memcached is a reliable oldtimer for shared caching on distributed servers it performs well with owncloud with one exception it is not suitable to use with transactional file locking this is because it does not store locks and data can disappear from the cache at any time

memcached not also working in related issue

 related issue
 
 

 motivation and context
better help to user see

 
",Not_TD,TD
634,if pathhash mismatches  the file cannot be deleted on mysql a fix would be sqlupdate ocfilecache set pathhash   where pathhash   also seems to have  oracle is of course  sqlselect rawtohex    dbmscryptohash          foo              from dual  sqlselect   does not have a  but we can add it as a callback in php phppdo     cc   ,Not_TD,TD
635,most of the users on my oc install are family members whose accounts afre created by me i already have their photos and email addresses its a real pain to create their accounts though as i can do all of it from the user page except avatars currently to add their avatars for every single user i have to  remember or reset the password created for  log out of the current  log in as their  go to the personal menu  change their  repeat for the next userand then at the end of  that log out and log back in really i jujst want to be able to click on their avatar and get an addupdate avatar popup that mirrors whats already in the personal page for themthis is what i would consider was needed to close this issue that said for real future compatibility even when other options get added to users personal page i would suggest that rather than trying to replicate every configuration option of the users personal page in the admin  users page thatthe adminusers page have a configure link for each user that allowed the admin to access and make modifications on the users account configuration page directly returning to the users page on save this way the ux is always consistent we avoid code duplication and any new features automatically become available to admins as well as userswe could possibly add a modified by admin user on date reason admin supplied reason notification when the user accesses their personal page too although personally i would consider this optional,Not_TD,TD
636,"suggest by owncloud

 the xxssprotection http header is not configured to equal to  modeblock this is a potential security or privacy risk and we recommend adjusting this setting



but read by 

 from 

  chrome has an 
  firefox have not and 
  edge have 

 this means that if you do not need to support legacy browsers it is recommended that you use contentsecuritypolicy without allowing unsafeinline scripts instead
",Not_TD,Not_TD
637,it would be great if you could dedicate a shared folder to a group and assign a data quota to ituntil now you can do that by creating a folder in the owncloud data root and mount it for a group but without quota not configurable from inside owncloud no visible creator of files also the folder is not marked different so the user can see that it is for a whole group creatingmanaging such workspaces would be a great admin function,Not_TD,Not_TD
638," steps to reproduce
 try to login as a ldap user which was not logged in to owncloud before 

 expected behaviour
user should be logged in 

 actual behaviour
web error page is displayed

user folder userfiles is not created  only the cache folder is available 
if the missing folder userfiles is created manuelly and the correct file system permissions are set the user can log in 
also if the user is deleted through the users page in the web ui the user can log in correct 

it is reproduceable if the folder userfiles is deleted the user getting the error page at login 

i checked the permissions of the folder data this looks correct
drwxrx  wwwdata wwwdata   jun   data

also the user folder permissions are set correct
drwxrxrx    wwwdata wwwdata       jun   xxxxx

also the cache folder
drwxrxrx  wwwdata wwwdata  jun   cache


 server configuration


    system 
        instanceid 
        passwordsalt removed sensitive value
        trusteddomains 
            
            aubcloudhtwsaarde
        
        skeletondirectory 
        datadirectory varwwwownclouddata
        dbtype mysql
        version 
        dbname owncloud
        dbhost 
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        installed true
        ldapignorenamingrules false
        theme htwsaar
        maintenance false
        forcessl true
        loglevel 
        wndloggingenable true
        activityexpiredays 
        previewmaxx 
        previewmaxy 
        enablepreviews false
        previewmaxscalefactor 
        logrotatesize 
        secret removed sensitive value
        assetpipelineenabled true
        trashbinretentionobligation  auto
        filelockingenabled true
        memcachelocal ocmemcacheredis
        memcachedistributed ocmemcacheredis
        memcachelocking ocmemcacheredis
        redis 
            host localhost
            port 
            timeout 
            dbindex 
        
        updatechecker false
        maildomain removed sensitive value
        mailfromaddress removed sensitive value
        mailsmtpmode smtp
        lostpasswordlink disabled
        mailsmtphost removed sensitive value
        mailsmtpport 
    



list of activated apps


enabled
   activity 
   announcementcenter 
   checksum 
   configreport 
   dav 
   external 
   federatedfilesharing 
   federation 
   files 
   filesantivirus 
   filesexternal 
   filesexternalftp 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filestextviewer 
   firstrunwizard 
   gallery 
   guests 
   impersonate 
   market 
   notifications 
   provisioningapi 
   templateeditor 
   updatenotification 
   userldap 
disabled
   comments
   encryption
   filestrashbin
   filesversions
   filesvideoplayer
   systemtags
   userexternal


are you using external storage if yes which one smb

are you using encryption no

are you using an external userbackend if yes which one ldap

 ldap configuration delete this part if not used


 configuration                                                                                                  

 hasmemberoffiltersupport                                                                                      
 haspagedresultsupport                                                                                          
 homefoldernamingrule           attrcn                                                                         
 lastjpegphotolookup                                                                                           
 ldapagentname                  cnxxxxxxxxxxxxouxxxxxxxxxxxxdchtwsaarlanddcdedclocal 
 ldapagentpassword                                                                                           
 ldapattributesforgroupsearch                                                                                   
 ldapattributesforusersearch                                                                                    
 ldapbackuphost                 xxxxxxxxxxxx                                                                   
 ldapbackupport                                                                                              
 ldapbase                       dchtwsaarlanddcdedclocal                                                  
 ldapbasegroups                 dchtwsaarlanddcdedclocal                                                  
 ldapbaseusers                  dchtwsaarlanddcdedclocal                                                  
 ldapcachettl                                                                                                
 ldapconfigurationactive                                                                                       
 ldapdynamicgroupmemberurl                                                                                      
 ldapemailattribute             userprincipalname                                                               
 ldapexperiencedadmin                                                                                          
 ldapexpertuuidgroupattr        cn                                                                              
 ldapexpertuuiduserattr         cn                                                                              
 ldapexpertusernameattr         cn                                                                              
 ldapgroupdisplayname           cn                                                                              
 ldapgroupfilter                objectclassgroup                                                       
 ldapgroupfiltergroups                                                                                          
 ldapgroupfiltermode                                                                                           
 ldapgroupfilterobjectclass     group                                                                           
 ldapgroupmemberassocattr       member                                                                          
 ldaphost                       xxxxxxxxxxxx                                                                 
 ldapignorenamingrules                                                                                          
 ldaploginfilter                objectclasspersonsamaccountnameuid                              
 ldaploginfilterattributes                                                                                      
 ldaploginfilteremail                                                                                          
 ldaploginfiltermode                                                                                           
 ldaploginfilterusername                                                                                       
 ldapnestedgroups                                                                                              
 ldapoverridemainserver                                                                                        
 ldappagingsize                                                                                             
 ldapport                                                                                                    
 ldapquotaattribute                                                                                             
 ldapquotadefault                                                                                               
 ldaptls                                                                                                       
 ldapuserdisplayname            displayname                                                                     
                                                                                            
 ldapuserfilter                 objectclassperson                                                      
 ldapuserfiltergroups                                                                                           
 ldapuserfiltermode                                                                                            
 ldapuserfilterobjectclass      person                                                                          
 ldapusername                   samaccountname                                                                  
 ldapuuidgroupattribute         auto                                                                            
 ldapuuiduserattribute          auto                                                                            
 turnoffcertcheck                                                                                              
 usememberoftodetectmembership                                                                                 


 configuration                                                                                               

 hasmemberoffiltersupport                                                                                      
 haspagedresultsupport                                                                                          
 homefoldernamingrule           attrcn                                                                         
 lastjpegphotolookup                                                                                           
 ldapagentname                  cnxxxxxxxxxxxxoupxxxxxxxxxxxxdchtwsaarlanddcdedclocal 
 ldapagentpassword                                                                                           
 ldapattributesforgroupsearch                                                                                   
 ldapattributesforusersearch                                                                                    
 ldapbackuphost                 xxxxxxxxxxxx                                                                
 ldapbackupport                                                                                              
 ldapbase                       dchtwsaarlanddcdedclocal                                                  
 ldapbasegroups                 dchtwsaarlanddcdedclocal                                                  
 ldapbaseusers                  dchtwsaarlanddcdedclocal                                                  
 ldapcachettl                                                                                                
 ldapconfigurationactive                                                                                       
 ldapdynamicgroupmemberurl                                                                                      
 ldapemailattribute             mail                                                                            
 ldapexperiencedadmin                                                                                          
 ldapexpertuuidgroupattr        cn                                                                              
 ldapexpertuuiduserattr         cn                                                                              
 ldapexpertusernameattr         cn                                                                              
 ldapgroupdisplayname           cn                                                                              
 ldapgroupfilter                objectclassgroup                                                       
 ldapgroupfiltergroups                                                                                          
 ldapgroupfiltermode                                                                                           
 ldapgroupfilterobjectclass                                                                                     
 ldapgroupmemberassocattr       member                                                                          
 ldaphost                       xxxxxxxxxxxx                                                                  
 ldapignorenamingrules                                                                                          
 ldaploginfilter                objectclasspersonsamaccountnameuid                              
 ldaploginfilterattributes                                                                                      
 ldaploginfilteremail                                                                                          
 ldaploginfiltermode                                                                                           
 ldaploginfilterusername                                                                                       
 ldapnestedgroups                                                                                              
 ldapoverridemainserver                                                                                         
 ldappagingsize                                                                                             
 ldapport                                                                                                    
 ldapquotaattribute                                                                                             
 ldapquotadefault                                                                                               
 ldaptls                                                                                                       
 ldapuserdisplayname            displayname                                                                     
                                                                                            
 ldapuserfilter                 objectclassperson                                                      
 ldapuserfiltergroups                                                                                           
 ldapuserfiltermode                                                                                            
 ldapuserfilterobjectclass                                                                                      
 ldapusername                   samaccountname                                                                  
 ldapuuidgroupattribute         auto                                                                            
 ldapuuiduserattribute          auto                                                                            
 turnoffcertcheck                                                                                              
 usememberoftodetectmembership                                                                                 




 client configuration
browser
google chrome version  offizieller build 

operating system

 logs

 owncloud log dataowncloudlog

    ochelpergetstorageinfo     ocafilescontrollerviewcontrollerindex  null   ocappframeworkhttpdispatcherexecutecontrollerobjectocafilescontrollerviewcontroller   ocappframeworkhttpdispatcherdispatchobjectocafilescontrollerviewcontroller   ocappframeworkappmainviewcontroller index objectocappframeworkdependencyinjectiondicontainer        


",Not_TD,TD
639,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 create a  folder in owncloud and upload a file there
 go to the server and remove the write permissions for the  server files inside cant be renamed by the webserver
 try to rename the uploaded file

 expected behaviour
an error is thrown to the user http code  or similar notifying that the file cant be renamed

 actual behaviour
a http  error is thrown instead of 


derror xmlnsddav xmlnss
  sabredavexceptionnotfound
  file with name  could not be located


the error mentions that the destination file doesnt exists although the source file exists because it hasnt been renamed
this causes the webui to remove the file from the list thinking that the error is that the source file is the one missing 

the behaviour is the same in other similar scenarios where the source file cant be renamed external storages for example

 server configuration
operating system ubuntu 

web server apache 

database mysql

php version 

owncloud version 

updated from an older owncloud or fresh install fresh install

 i guess the server is the one misbehaving and not the webui
",Not_TD,Not_TD
640,see for apps that extend the filelist to provide a new section in the files app sidebar they need a way to tell whether they are a regular file list or special file lista regular file list ex favorites shared with you welcomes all default plugins ex sharing tab view comments tab view and file actions share favorite etca special file list ex trashbin excludes all plugins and provides its own plugins and file actions,Not_TD,TD
641,sometimes you need to execute code after an app was initialized appinfoappphp included or after an app is active for instance adding additional javascript or css to an app the biggest motivation for me is the requesturi not found error when running cron basically its unreliable to check the url if an app has been started since sometimes there might not even be an url iirc butonic suggested something similar i cant find the issue howevermy proposal is to do the following phpocservergetappmanageronappinitcallback appidocservergetappmanageronapplaunchcallback appid adding js for the files app filessharingappinfoappphpocservergetappmanageronapplaunchfunction      ocputiladdscriptfilessharing script filesthe appid parameter is optional if it is not set it will be executed for every app morrisjobke  jbtbnl ledfan georgehrke oparoz  butonic  ,Not_TD,Not_TD
642,"similar to the previously closed issue  a command line importexport functionality would be appreciated

for a customer when migrating contacts from one owncloud installation to another importing vcf for  contacts took more than half an hour oc  firefox  intel core 

with occ there might be speedup in importing at least importing would be easily scriptable",Not_TD,Not_TD
643,permissions are complicated and technical as they are already every time i install owncloud and click to get to the permissions page it seems to be more complicated than before  lots of text which no one wants to read just to get owncloud installed no clear commands no clear  stepsinstead i always use my personal setup script with these chmod commandsmkdir datasudo chown wwwdatawwwdata datasudo chown wwwdata configsudo chmod  configsudo chown wwwdata appssudo chmod  appscan we simplify that documentation part a bit please or even better just show the help directly on this pageor even have something like an installshupdatesh as a single point for people to run which takes care of the permissions for most common setups at least similar to my installation  update scripts for devs this could include a git pull and git submodule update if it’s detected that the git version is runcc lukasreschke karlitschek danimo ,Not_TD,TD
644,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 configure with an external auth type for example ocuserimap
 note lack of email under personal settings  attempt to set email
 note success message but email field of ocaccounts table is not set

 expected behaviour
 user should be autocreated with appropriate email address
 change email button should work correctly or be disabled

 actual behaviour
 email is not set for autocreated users
 email cannot be changed

 server configuration
operating system debian 

web server apache 

database mariadb 

php version php 

owncloud version see owncloud admin page 

updated from an older owncloud or fresh install updated

where did you install owncloud from owncloud official repo

signing status owncloud  and above yes

the content of configconfigphp

    system 
        updatechecker false
        instanceid 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            filesmerrimackdesigncom
        
        datadirectory varwwwownclouddata
        overwritecliurl httpsfilesmerrimackdesigncom
        dbtype mysql
        version 
        dbname ocdb
        dbhost localhost
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        installed true
        maildomain removed sensitive value
        mailfromaddress removed sensitive value
        htaccessrewritebase 
        trustedproxies 
            
        
        assetpipelineenabled true
        loglevel 
        userbackends 
            
                class ocuserimap
                arguments 
                    
                    
                
            
        
        lostpasswordlink httpspasswdmerrimackdesigncom
        appstoreexperimentalenabled true
        logtimezone americanewyork
        maintenance false
        memcachelocal ocmemcacheapcu
        memcachelocking ocmemcacheapcu
        theme 
    



list of activated apps

enabled
   activity 
   comments 
   configreport 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesantivirus 
   filesexternal 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   firstrunwizard 
   gallery 
   market 
   notifications 
   provisioningapi 
   systemtags 
   templateeditor 
   thememerrimack 
   updatenotification 
   userexternal 
disabled
   encryption
   external
   themeexample

are you using external storage if yes which one no

are you using encryption yno

are you using an external userbackend if yes which one imap

 client configuration
browser na

operating system na

 logs
 web server error log
na

 owncloud log dataowncloudlog
na

 browser log
na
",Not_TD,Not_TD
645,"i upgrade to the latest  version

 more varwwwowncloudappsfilesantivirusappinfoinfoxml grep version
	


i see this error


 more  grep antivirus jq   sed esg e sg e sg e sg e sg e sg e  e snng e snng e sttg

  reqid 
  level 
  time 
  remoteaddr 
  user 
  app core
  method 
  url 
  message exception exceptionocpappframeworkqueryexceptionmessagecould not resolve ocafilesantiviruscrontask class ocafilesantiviruscrontask does not 
  ocappframeworkutilitysimplecontainerresolveocafilesantiv
  ocappframeworkutilitysimplecontainerqueryocafilesantiv
  ocservercontainerqueryocafilesantiv
  ocbackgroundjobjoblistbuildjobarray
  ocbackgroundjobjoblistgetnext
 

",Not_TD,Not_TD
646,"do not only compare the filesize with the contentsize in  and  but also check  or the   connectionaborted connectiontimeout and log a corresponding error not the current bad request expected filesize it is misleading and hides infrastructure problems

cc philippschaffrath ",Not_TD,TD
647,would be nice to have hierarchical grouping functionality  such as organizationgroup etcthis would allow for every organization to have an adminaccount in order to organize their own groupsquote etccurrently it is not possible for an organization to have adminaccount access to organize their own groupsquotasmtrichards karlitschek ,Not_TD,TD
648,two ways to use the sidebar consumer generate a sidebar for a given model type ex file and have the existing panels visible in it provider register new panels according to a given model type ex filemodel types can be different files calendar event etcthis makes it possible for apps like gallery to also show a filerelated sidebarbut an app like a calendar could have a sidebar with calendarspecific panels the model type would be calendar eventoparoz as discussed,Not_TD,Not_TD
649,"hello

i tried to update my owncloud installed on tumbleweed but there is nor repo for tumbleweed anymore
is tumbleweed out of the supported systems now
",Not_TD,Not_TD
650,"i wonder if we should use etags for our thumbnails this would let the browser query whether theres a new preview

the endpoint would need to check the etag against the files etag and return  not modified if there is no change instead of attempting to read the existing thumbnail from disk

for that we can simply use the files etag from ocfilecache early on

it might not be much for the small thumbsnails but would save more traffic for filesmediaviewer when accessing bigger previews

maybe the preview size needs to be computed into the etag

i wonder if it would work as well with video previews

need to research whether browsers store etags based only the url resource part or whether it also covers url parameters depending on this we might or might not need to change the way how the urls are constructed which well likely not want to change yet again

if it can work with the current url scheme it could be worth a try
",Not_TD,TD
651,  web browser info is all via api so clients can use same  cc javiergonzper   versions api favorites api search api trashbin api know when a path is in a external storage  sync  share  shared link folder  icon replacement of external storage icon  cc rperezb   error code and success code standards in apis  cc sergiobertolinsg   know server auth mechanism basicauth  factor  cc rperezb cc mtrichards  cmonteroluque ,Not_TD,TD
652,steps to reproducejust upload files with windows client  or even  alphaexpected behaviourupload many files at least  if smaller than  within the same minuteactual behaviouronly few files uploaded in a minute apache logs report that a put request takes  seconds to be servedserver configurationoperating system xubuntu  in a hyperv machine windows server   as host fixed vhdx hd  mb of ram expandable up to  vm with  cores vm never uses more than  cpuweb server apache  mysql  version  version  of activated apps standardthe content of configconfigphptrusteddomains    array       cloudmydomainit          overwritehost  cloudmydomainit  datadirectory  mntowncloud  dbtype  mysql  version    dbname  owncloud  dbhost    dbtableprefix  ocare you using external storage if yes which one mntowncloud is a cifs mount that is a shared directory of windows server on the virtual internal network mysql saves db in vhdare you using encryption noclient configurationbrowser irrelevant same effect on all tested browsers and webdav clientsoperating system irrelevant same effect on all tested browsers and webdav clientsplease let me know if you need any further information logs no reuse of etag for filesaltrosoftwaresviluppoadtbundlewindowscygwinusrsharezoneinfoposixindian  cache array       homelorenzo   filesaltrosoftwaresviluppoadtbundlewindowscygwinusrsharezoneinfoposixindian      indian   httpdunixdirectory   httpd                      data array    httpdunixdirectory                    from apache   lorenzo  put remotephpwebdavaltrosoftwaresviluppoadtbundlewindowscygwinusrsharezoneinforightafricadaressalaam      windows   number is duration in microseconds   from mysql slow queries  sectime   ocadmin  localhost querytime   locktime  rowssent   rowsexamined   ocpreferences set configvalue   where userid  lorenzo and appid  login and configkey  lastlogintime   ocadmin  localhost querytime   locktime  rowssent   rowsexamined   ocpreferences set configvalue   where userid  lorenzo and appid  login and configkey  lastlogintime   ocadmin  localhost querytime   locktime  rowssent   rowsexamined   ocfilecache set  where fileid     ocadmin  localhost querytime   locktime  rowssent   rowsexamined   ocfilecache set mtime    where fileid   ocadmin  localhost querytime   locktime  rowssent   rowsexamined   ocfilecache set mtime    where fileid   ocadmin  localhost querytime   locktime  rowssent   rowsexamined   ocpreferences set configvalue   where userid  luciano and appid  login and configkey  lastloginuserhost ocadmin  localhost querytime   locktime  rowssent   rowsexamined   into ocjobsclass argument lastrun valuesocbackgroundjoblegacyqueuedjob   ocadmin  localhost querytime   locktime  rowssent   rowsexamined   ocpreferences set configvalue   where userid  lorenzo and appid  login and configkey  lastlogin,Not_TD,TD
653,by generating a large number of sharing requests to an oc instance with federated sharing enabled one can spam user accounts with request popups rendering the web application unusable for the specific account steps to  have owncloud instance with federated sharing enabled ie as admin enable allow users on this server to receive shares from other  send multiple sharing requests to the sharing api eg using curl replace username with a valid usernamefor n in  do curl i s k x post databinary sharewithusernametokenemptynameempty   done expected behaviouras expected the server accepts the sharing request and displays them as popup messages to the user after login or when accessing the files app  actual behaviourthe web application displays all sharing requests as popups after login and when displaying the files appthese popups require user interaction and are a hindrance if there are many of them as all of them have to clicked away furthermore a high number of requests tested with  but  already cause a few seconds of delay can render the browser tab or the whole browser unresponsive iceweasel crashed in chromium only the tab crashes server configurationoperating systemubuntu  ltsweb  ubuntu databasemysql   version see owncloud admin  from an older owncloud or fresh installupdated from  versionschromium ,Not_TD,Not_TD
654,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 configure an ldap connection
 modify the user home folder naming rule option in the advanced tab in the wizard to another attribute for example attruid if the rest of the values are the default ones this will make core to use the uid instead of the entryuuid when the home directory is created
 modify the code or create a command to use 
    
    rootfoldergetuserfolderuseridgetfullpath
    

 expected behaviour
it must show the users home directory using the uid instead of the entryuuid something like files

 actual behaviour
it uses the entryuuid instead of the specified uid this points to a missing directory because files doesnt or shouldnt exists


 server configuration
operating system ubuntu 

web server apache 

database mysql

php version 

owncloud version 

updated from an older owncloud or fresh install fresh install

where did you install owncloud from tarball

  butonic this seems quite important",Not_TD,Not_TD
655,"occorecommanddbmigrationsgeneratecommand can be removed from the tarball only used for development move it to a development app

security scanners may be hiccuping on user provided input just leaving it out saves us some hassle
",Not_TD,TD
656,as described in  responses from the update server should be signed can be done using the ca from ,Not_TD,Not_TD
657,currently versions of files cannot be deleted manually only automatically or using occ commandi suggest to add a trashbin icon on every file version to being able to remove it manually,Not_TD,TD
658,thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out this is the bug tracker for the server component find other components at for reporting potential security issues please see to make it possible for us to help you please fill out below information carefully  steps to  searching files with  letters       expected behavioursearching files with  letters actual behaviouronly can search with  letters server configurationoperating system ubuntu  server  mysqlphp version  version see owncloud admin page  updated from an older owncloud or fresh install fresh installwhere did you install owncloud from owncloudorgsigning status owncloud  and above login as admin user into your owncloud and access  paste the results herelist of activated appsfilesactivitygalleryif you have access to your command line run egsudo u wwwdata php occ applistfrom within your owncloud installation folderenabled   activity    files    filespdfviewer    filessharing    filestexteditor    filestrashbin    filesversions    filesvideoviewer    firstrunwizard    gallery    notifications    provisioningapi    templateeditor    updater    encryption   external   filesexternal   userexternal   userldapthe content of configconfigphpif you have access to your command line run egsudo u wwwdata php occ configlist systemfrom within your owncloud installation folder    system         instanceid         passwordsalt removed sensitive value        secret removed sensitive value        trusteddomains                             datadirectory homedata        overwritecliurl         dbtype mysql        version         dbname doncloud        dbhost localhost        dbtableprefix oc        dbuser removed sensitive value        dbpassword removed sensitive value        logtimezone utc        installed true    or insert your configphp content herewithout the database password passwordsalt and secretare you using external storage if yes which one localsmbsftpare you using encryption yesnoare you using an external userbackend if yes which one ldapactivedirectorywebdav ldap configuration delete this part if not usedwith access to your command line run egsudo u wwwdata php occ ldapshowconfigfrom within your owncloud installation folderwithout access to your command line download the dataownclouddb to your localcomputer or access your sql server remotely and run the select queryselect  from ocappconfig where appid  userldapeventually replace sensitive data as the nameipaddress of your ldap server or groups client configurationchrome  systemwindows    logs web server error loginsert your webserver log here owncloud log dataowncloudloginsert your owncloud log here browser loginsert your browser log here this could for example includea the javascript console logb the network log c when i want to search some files i have to type more  lettersbut i want to search with  letterscan i do itsomeone help me please,Not_TD,Not_TD
659,these are the issues from  with a bit less importance or requiring significantly more work than the other items setting for owncloud   display remote shares in shared with you section   combine »download« and »add to your owncloud« buttons in a »download« dropdown on the top right to save space  slight animation when clicking the »add to your owncloud« button or popover not just replace  »accept share« popover show thumbnail  preview folder icon if possible  highlight the entry which was added requires   oc   better error messages whenever mounting shares is not allowed either locally or remotelycc ownclouddesigners craigpg,Not_TD,TD
660,"on the admin setting page sharing we have some missing translation

create  change  delete  share are only in english but not in german
also some lines below group sharing blacklist



 server configuration
operating system

web server

database

php version

owncloud version see owncloud admin page

updated from an older owncloud or fresh install
older
where did you install owncloud from

signing status owncloud  and above",Not_TD,TD
661,"if you have an external personal mount it would be great to have the possibiliy to manually force a rescan of the current mount or mountcurrentfolder with an additional entry in the action list below



 it should behave in the same way like you run the command example
sudo uwwwdata occ filesscan pathuserxfilesexternalmountnamefoldername",Not_TD,TD
662,first let me say it might be a surprise to you that i think tags are a good idea now this is only when the system is holistic and across the whole platform – and when tags are the mainonly system of categorization not tacked on as an afterthought here we gothere are several apps which use grouping for instance contacts bookmarks files uses folders etc the problem is that every app uses their own system which makes the whole thing a chore of repeatedly needing to organize your thingsbut this can become a powerful system to aid filtering and search when these tags are shared across apps tanghus told me that there’s already backend code for it there just not used  hooked up  finished yetexample i would have tags for »design« »owncloud« »read« »watch« »psychology« »philosophy« »games« »nomadism« »berlin« »san francisco« »munich« etc etc so it would be topics places type of content what to do with it projects and more i currently use these manually in my apps for notes reading stuff later contacts file system news app … i guess you get the point because you probably also use tags or whatever system of categorization where these categories overlap across appsanother example planning your next vacation and you have a shared task list some bookmarks some files and some people you’re traveling with no problem just create the tag »vacation yeah« and share it with the friends involved in itnow no matter where you first created that tag let’s say in the files app to share a folder it will also be available in the other apps for autocompletionthen there would need to be a view where you can see all the items in that category even if they are across apps easiest way show which other apps make use of that tag or show images or names of task lists directlyhere’s a bit more of a stretch and maybe not a good idea but it could even be automatic – wherever you create a tag it will also be created in other apps albeit we will probably not use the word »tag« for it maybe rather »topic« files can have a »bookmark« type quick filter in the sidebar like other file managers contacts will have a group of which the contacts you shared the topic with are members of calendar will have a calendar named by that topic automatically shared with those people tasks will have a task list named by that topic automatically shared with those people bookmars will have a category … pictures will have an album … news will have a folder …now i think the first step would be to get the apps which already use a notion of tags to use this namely bookmarks emerzh and contacts tanghus because contacts can be in multiple groupsi’m guessing tanghus likes this and would like to help implementing it cc app devs  georgehrke emerzh raydiation   do you think karlitschek mtrichards butonic ,Not_TD,Not_TD
663,this is the first step towards limiting search to a certain subdirectory or mimetype google as well as github allow searching in metadata by using sth like authorbutonic filetypepdf or inmusic to allow  we should parse the query string with the  and introduce a new searchbyquery method for search providers that takes a search object with the parsed query page size and maybe other variables ,Not_TD,TD
664,"core rewrites all private and public links to the webbaseurl as soon as its configured there are no checks in place if the app is enabled at all and there is no option to skip the rewrite but still use the app

 steps to reproduce
 set up the  web app according to 
 enter a private or public link

 expected behaviour
a if app is disabled no rewrite
b if config for link rewrites is not explicitly set to true no rewrite should happen

 actual behaviour
private and public links get rewritten to the new web ui",Not_TD,TD
665,"hi all 

i quite new to owncloud and doscker but here is the thing i have set up my owncloud server via dockercompose and address persistent volumes outside the container i have created a new user in the web platform of owncloud with my admin account but when i want to get connected with this new user credentials it does not work owncloud ask me to send an email to renew the password i did that but never received no email could you tell me or help me with that thanks",Not_TD,Not_TD
666,the installer is currently not deletable thus in case of a config read failure an adversary might reinstall the instanceas a further hardening the setup classes should be moved to setup and be deleted after installation if possible,Not_TD,TD
667,it would be nice to paste images to owncloud like snaggy includes  and a java applet also,Not_TD,Not_TD
668," steps to reproduce
 create a group named verticalbar
 put some users in it just for fun
 admin settings sharing enable exclude groups from sharing
 in the box type the group verticalbar and then exxit the box to save
 refresh the page

 expected behaviour
group verticalbar should be shown in the list of excluded groups

also note on the user management page the users in group verticalbar do not show

 actual behaviour
groups vertical and bar are shown as separate group names

 server configuration
current core 

note because of issue  the whole exclude groups from sharing ui is broken in core master
so you currently have to use  to see the issue reported here",Not_TD,TD
669,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 having  in maintenance mode
 preparing the upgrade to 
 running sudo uwwwdata occ upgrade

 expected behaviour
all lines printed should be formatted correctly inclunding the db migration

 actual behaviour
marked and copied from the console

 drop old database tables

                                                      d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                                                                           d                     one                       
   

the sceen looks like this

my feeling is that these lines are just added to each other but not marked for a new line and the console breakscuts the lines

 server configuration
operating system ubuntu 

web server nginx

database mysql

php version 

owncloud version 

updated from an older owncloud or fresh install updated

where did you install owncloud from tar

 ",Not_TD,Not_TD
670," log into demoowncloudorg
 download owncloud manualpdf to your desktop
 navigate into the photos folder create another subfolder empty
 navigate into that folder
 click deleted files
 open a file browser on your desktop
 drag and drop the file owncloud manualpdf into the trashcan

the file is not added to the trashcan no error message either
the file now is in photosempty it seems to remember the last folder before entering trashbin

expected behaviour no drag and drop allowed or really drop into the transhbin

suggested fix disable drag and drop in the trashcan
",Not_TD,Not_TD
671,"hello i just upgraded from owncloud  and noticed that in  there are missing error message in  owncloud is now displaying general forbidden and this error is not translatable in  files



 steps to reproduce
 block write access to user folder by removing write permissions 
 upload file
 forbidden error message will appear

 expected behaviour
in previous version owncloud  will display translatable error message 
owncloud  should display  could not create file file error from  


 actual behaviour
owncloud  is displaying forbidden message that is not in  translate files 


 debug log
in debug log we can see that message is empty  so no message can be translated in  files
in  message contain error message

webdav  exception   forbidden    resource id    resource id    sabredavcorepluginhttpputobjectsabrehttprequest   calluserfuncarrayarray   sabreeventeventemitteremitmethodput   sabredavserverinvokemethodobjectsabrehttprequest      




 server configuration
operating system
ubuntu server 

web server
apache
owncloud version see owncloud admin page

updated from an older owncloud or fresh install
updated from 





",Not_TD,TD
672,"when installing from occ usually the url might not be set correctly the cli cannot detect the true domain

i suggest to have a setup check that does the following
 generate a url on the backend using the apis the apis will use whatever values are set overwritecliurl or others when needed
 return said value to the setup check js code
 js code connects to that url and appends statusphp
 if no statusphp found then its likely the url is wrong and needs adjusting

bonus check if the given url contains a domain not listed in trusteddomains also display a warning

inspired by questions from settermjd

cc kdslkdsaldsal butonic  cdamken ",Not_TD,TD
673," steps to reproduce
 alice creates folders called text and 
 alice creates file textfiletxt
 moves textfiletxt to 

 expected behaviour
it works  alice should have filetxt in folder 

 actual behaviour
http  response

owncloud log

 no such file or directory at 


useralice
appwebdav
methodmove
urlremotephpwebdavtextfiletxt
messageexception strpos expects parameter  to be string int given 
exceptiontypeerrormessagestrpos expects parameter  to be string int given

trace
  strposn
  sabredavtreemarkdirtyn
  sabredavtreemoven
  sabredavcorepluginhttpmoven
  sabredavserveremitn
  sabredavserverinvokemethodn
  sabredavserverstartn
  sabredavserverexecn
  requireoncehomephilgitn
 


 server configuration
current core master

i have a pr to demonstrate coming",Not_TD,Not_TD
674," steps to reproduce
 configure an  remote storage with credentials of a iam user with  policy
 upload a file works
 create directory wont work

 expected behaviour
able to create directories after being able to create files

 actual behaviour
 response on mkcol request but if i switch to a root access key insecure directory creations works

 dont state any requirements about required permissions

 server configuration
operating system docker image
owncloud version 

thanks
",Not_TD,TD
675,"add config option for admins to allow only sharing of folders not files for local and federated sharing

the exception is for link shares in which case we could still allow file sharing

 labkode ",Not_TD,Not_TD
676," steps to reproduce
 send an api request for a user and specify a different mix of case in the uid eg get to an endpoint like





 expected behaviour
no warnings in the log

 actual behaviour
there is a warning in the log

 called with wrong user casing this could be a bug expected brandnewuser got brandnewuser stack functionrequireonce 



actually this changedcase in api requests works fine you can create the user as any of brandnewuser  brandnewuser and refer to the uid with any other mix of case

imo we do not need to emit warnings like this in the log

 server configuration
current core master
",Not_TD,Not_TD
677,as seen in  people are again struggling with the release channels  policy of owncloudcurrently it seems that  is provided within the beta channel however beta is probably the wrong channel and misleading from the name so im suggesting to add an additional release channel for new major releases from the naming maybe fresh is matching here so we could have daily  daylies from master beta  real betas or rcs for the current major release eg oc   fresh  current major release eg oc  the best to have it instantly there to make the impatient people happy stable  current previous major release eg oc  could be also current major release eg  or  once it is stable enough production  like oldstable in debian eg oc  that even the impatient people should be happy,Not_TD,Not_TD
678,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 

an admin creates an admin mount and shares it to usersgroups
the admin is not the owner of the mount it is a non personal  admin mount therefore no owning user
by design the current implementation of filesscan requires a user or a group to a mount to be scanned

enhancement
add a functionality to scan admin mounts
the identification could be amountmountid as we get it from filesexternallist
in case we merge the pr for shortening the output via short a nice short easy to handle list else a longer list also usable

 
",Not_TD,TD
679,"right now owncloud does not have applicationvndoasisopendocumentgraphics mimetype support eg odf type diagramdraw documents collabora onlinerichdocuments application has support for opening and editing draw document type problem with that is theres no icon in coreimgfiletypesxofficedrawingsvg also cool has the ability to create this documents but we need the mimetype support in templatemanager it can be added in the extension manually but it would be better to add it to core i guess


i created pr in richdocuments where creating this document type is possible under  menu however it needs the icon change and templatemanager addition 
pr ",Not_TD,TD
680," steps to reproduce

  create a filetxt
  favorite it
  go to favorite section
  refresh the browser

 expected behaviour

favorites files should be shown

 actual behaviour

favorites are no longer listed you have to go back to files view in order to normalize the view



no need to edit it

 server configuration

operating system
ubuntu 

web server
apache

database
mysql

php version


owncloud version

owncloud  also checked in  and also happens

updated from an older owncloud or fresh install
fresh

are you using external storage if yes which one 
no

are you using encryption 
no

logs


no logs in owncloudlog




 client configuration

browser

firefox
",Not_TD,TD
681,"while researching  i had to delete the general cache several times and found that there is no occ command to manage this having it would be a genuine timesaver 

im not exactly sure how it would be implemented im thinking that the command would need to check the configuration to find out how the cache is stored and then use an accompanying command to clear it based on the storage mechanism

i assume the occ command help would look like the mockup below

console
cache
  cacheclear                      clears ownclouds general cache
",Not_TD,TD
682,mails send by owncloud can contain sensitive informations and if someone can intercept a password reset mail a complete account can be hijackedtherefore it would be nice if each user could upload his pgp public key to owncloud the key could be used to encrypt mails send to the user activities password reset mails and other notificationscc lukasreschke what do you think,Not_TD,TD
683,"hi

i just ran into this issue and found that this issue was already reported at 
in my opinion this is still an issue tested in owncloud versions   

regards",Not_TD,Not_TD
684," steps to reproduce
 folder name with more than  characters
 public link with the name of folder name
 throw new invalidargumentexceptionshare name cannot be more than  characters line 
 file 

is necesary to add to translation system this exception",Not_TD,TD
685, steps to  setup a server localserver and enable the external storage  setup two users  and  as  share a folder sharedfolder with  login as  open the link from step  click add to owncloud and enter the url to  navigate into  login as  and open the share dropdown expected resultat step   must see that sharedfolder was shared with  as a local sharesharedfolder should become a local shared folder actual resultsharedfolder for  is a remote mount of a local folder more  git master  is a nice to have probably something for oc  schiesbn mtrichards craigpg karlitschek ,Not_TD,Not_TD
686,the thumbnail api eg  should obey the file type and return the same filetype as thumbnailjpg  jpgpng  png old versionhelloi have developed the thumbnail generation on android app and we use the new  this url in the browser lets me download a png fileif you have a small jpg file  with  kb and get a thumbnail of it i get a png file  with  it is bigger than the original file i suggest to use jpg with compression to get a smaller file sizeoriginial   of png  at  jpg of png  me there is no visible difference between them but we would save a lot of traffic,Not_TD,TD
687,"when synchronizing it gives me a  error from the web i can log in without problem and i can delete files i have 

owncloud  
 php 
 ubuntu ",Not_TD,Not_TD
688,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
i will use passman  gallery for this example although this affects every app ive tested all tests must be done logged out of owncloud ideally in private window
 steps to reproduce
 curl u userpass or using the header authorization basic xxxxxxxx 
 first load response will be empty or error
 refresh will load as expected not curl

 expected behaviour
api should respond with the correct data if the authorization is there and correct

 actual behaviour
the first request returns an empty response or an error depending on the app passman returns empty as is discussed here  gallery returns message call to a member function getpath on null cookies test  session get set in the headers on refresh it returns the data that should be returns if using no headers or the wrong login it forwards to the owncloud login page as expect ive tested this on the owncloud demo site and am getting the same problem on refresh it works

steps to reproduce on demoowncloudcom
 set headers in firefox with modify header value to authorization basic 
 open  in an private window and you will get internal server error
 refresh the page and it will return the correct json data

 server configuration
debian 

web serverapache

databasemariadb

php 

owncloud  see owncloud admin page

updated from an older owncloud or fresh installfresh

where did you install owncloud fromapt

are you using encryption yes

as this issue is reproducable on the owncloud demo server i wont anything else for now unless needed i will add though that there are no errors produced in the log ive got logging set to debugging there are also no errors displayed in the browser for this issue a  does come from the gallery api but thats due to the fatal error caused by this issue
",Not_TD,TD
689,currently the cheeseburger menu is inserted inside the appcontentthis can cause problems since appcontent should fully be editable by the app the notes app for example overwrites it and the handle is not visible see so we need a better solution hereraydiation you seem to have a better idea about this so please enlighten us cc ownclouddesigners ,Not_TD,TD
690,  it would be useful if you could set the initial view of a shared folder as rule  usecaseif you share a folder which content is only images it makes sense in the pov of the reciever that the galleryview is chosen automatically at the time the folder is openedthis avoids dumb questions from unexpirienced users hintespecially in shared by password folders on mobile device recievers this makes a lot of sense ,Not_TD,Not_TD
691,i notice  that the filescan fixed the problems but i would like to have at the end a resume which files where addedremoved folders or storages where addedremovednot reachable etc and probably error from the app kind of log filerelated to the case cdamken  mtrichards    ,Not_TD,TD
692,according to the   appinfoappphp is still the location where apps can add scripts which will be used in the files appwhereas templates can use script and vendorscript this can only use ocputiladdscriptaddvendorscript should be added to ocputil,Not_TD,TD
693,"hi im not sure if im at the right place 

i know that there is up to now no option to set an expire date on user accounts but this would be a very helpful feature to manage users which have only a period of time access to the system 

especially for external users who wants to share documents it is important to set an expire date

has anyone the same feature request or a solution for that 

best regards

holger",Not_TD,Not_TD
694,"new user password set page


reset password page

",Not_TD,Not_TD
695,"at the moment i can only online edit files when i am logged into my owncloud or someone else is often i do cooperate with people from outside my company who do not have access to my owncloud

id like to send them public links to the file in question when creating the link id like to have a checkbox make file editable with this box checked the receiver of the link is offered to edit the file with those editors ive installed at my owncloud let it be text opendoc files or whatever

normally ill send these links to one single person so consistency or versioning is no real problem",Not_TD,TD
696,for the use case where specific files from external storage are accessed often one idea is to download and cache that file locally in the owncloud instance for example in the cache folder if the file isnt reread for a given amount of time it is deleted from the local oc cache folderthe admin could specify how much cache is allocated per storage andor userwhenever a cached file is modified it is first modified only in the cached version and then synced up after a specific time note conflicts might occur if files are modified outside oc so not sure whether this is a good ideathen the question how often would a single version of a file be accessed  whenever someone uses the sync client that file is only downloaded once but if the same file is downloaded by multiple then there is an extra overhead of having to proxy it every time from the remote storage through oc back to the userwhen accessing files over the ui the file would be openeddownloaded every time in this case the local file caching would help as wellthis idea could in general improve remote file access speedwhat do you think  schiesbn  mtrichards karlitschek craigpg ,Not_TD,Not_TD
697," steps to reproduce
 having an smb mount with a folder
 backend share is set to readonly for the user used
 try to create a file

 expected behaviour
short and meaningful log entry
the filesystemfopen failed plus next message should be converted into a message like
creating filefolder name on path mount namepath could not be succeeded possible write protected 

 actual behaviour
very long and cryptic log message
seems that there is no proper trycatch

 note
the smb share which i setup long time ago is set to readonly on the backend for the used user it is not a readonly mount

 server configuration
operating system ubuntu 

web server nginx

database mariadb

php version 

owncloud version 

updated from an older owncloud or fresh install updated

where did you install owncloud from tar

signing status owncloud  and above
all green

the content of configconfigphp



    system 
        instanceid 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            xxxx
        
        datadirectory xxxxdata
        overwritecliurl httpsxxxx
        dbtype mysql
        version 
        dbname xxxx
        dbhost localhost
        dbtableprefix oc
         true
        dbuser removed sensitive value
        dbpassword removed sensitive value
        logtimezone utc
        installed true
        filelockingenabled true
        memcachelocal ocmemcacheredis
        memcachelocking ocmemcacheredis
        memcachedistributed ocmemcacheredis
        redis 
            host varrunredisredisserversock
            port 
            timeout 
            dbindex 
        
        filesystemcheckchanges 
        excludeddirectories 
            snapshot
            snapshot
        
        upgradeautomaticappupdate true
        quotaincludeexternalstorage false
        mailsmtpmode smtp
        mailfromaddress removed sensitive value
        mailsmtpsecure tls
        maildomain removed sensitive value
        mailsmtphost removed sensitive value
        mailsmtpport 
        mailsmtpauthtype login
        appspaths 
            
                path xxxxapps
                url apps
                writable false
            
            
                path xxxxappsexternal
                url appsexternal
                writable true
            
        
        maintenance false
        loglevel 
        theme 
        showserverhostname false
        logrotatesize 
    



list of activated apps


enabled
   activity 
   comments 
   configreport 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesclipboard 
   filesexternal 
   filesexternaldropbox 
   filesexternalftp 
   filesmediaviewer 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   firstrunwizard 
   market 
   notifications 
   provisioningapi 
   systemtags 
   updatenotification 
disabled
   encryption
   external
   userexternal


are you using external storage if yes which one localsmbftpgddp

are you using encryption no

are you using an external userbackend if yes which one no

 client configuration
browser opera

operating system 

 logs
 web server error log

nothing relevant


 owncloud log dataowncloudlog

appwebdavmethodputurlremotephpdavfilesusersmbmountfoldernewtextfiletxtmessageocfilesfilesystemfopen failed
appwebdavmethodputurlremotephpdavfilesusersmbmountfoldernewtextfiletxtmessageexception   could not write file contents exceptionsabredavexceptionmessagecould not write file 
   ocadavconnectorsabrefileputresource id 
  ocadavconnectorsabredirectorycreatefilenewtextfilet resource id 
  sabredavservercreatefilefilesuserv resource id  null
  sabredavcorepluginhttpputobjectsabrehttprequest objectsabrehttpresponse
  sabredavserveremitmethodput array
  sabredavserverinvokemethodobjectsabrehttprequest objectsabrehttpresponse
  sabredavserverstart
  ocadavserverexec
  requireoncevarw
 

",Not_TD,TD
698,"we have extended the  occ user command set intensively

here is a fr to add one more command userloggedon

this command list all users currently beeing logged on
by design we have user who are logged on via browser and others like via client

at default it reports all logged on users independen on browser or client ect
an additional parameter browser should limit the output accordingly
an additional parameter distinct will avoid duplicates
sorting should be done due to multiple entries for a user may occur
a json export to file is also needed

benefit
in preperation of maintenance work it would be helpful to know if there are useres who are currently logged on especially those via browser


 ",Not_TD,TD
699," description
with pr  previews of text files that have unicode characters have been improved after we make test scenarios for previews with ordinary text add some examples with nepali characters",Not_TD,Not_TD
700,"tested with docker run rm ti p   

coverage is very good in general there are some remaining strings peeking through in english eg



transifex reports arabic  complete  strings to translate 

 i suggest to
 involve akidxx as a native speaker  
 focus on oneclick and maybe twoclick  reachability

milestone later i assume",Not_TD,Not_TD
701,"see test scenario and comment at 

 steps to reproduce

  scenario user accepts file that was initially accepted from another user and then declined
    given parameter shareapiautoacceptshare of app core has been set to no
    and user  has uploaded file with content file from  to testfiletxt
    and user  has uploaded file with content file from  to testfiletxt
    and user  has uploaded file with content file from  to testfiletxt
    and user  has shared file testfiletxt with user 
    and user  has accepted the share testfiletxt offered by user 
    when user  declines the share testfile  offered by user  using the sharing api
    and user  shares file testfiletxt with user  using the sharing api
    and user  accepts the share testfiletxt offered by user  using the sharing api
    and user  accepts the share testfiletxt offered by user  using the sharing api
    then the sharing api should report to user  that these shares are in the accepted state
       path                  
       testfile      
       testfile   
    and the content of file testfiletxt for user  should be file from 
    and the content of file testfile  for user  should be file from 
    and the content of file testfile   for user  should be file from 


summary i receive multiple testfiletxt from different users i accept and decline them and accept them again in some order

 expected behaviour
i end up with files called

testfile 
testfile 


 actual behaviour
i can end up with files called

testfile 
testfile  


its just a bit weird to see testfile   and if i try hard enough maybe i can get it to make testfile    etc

maybe it matters or maybe not

 server configuration
operating system
ubuntu 
web server
php  dev server
database
mysql
php version

owncloud version see owncloud admin page
current core master
",Not_TD,Not_TD
702,"the sequence of


mkdir yy sleep  rmdir yy sleep 
mkdir yy


causes this log



did i break the xml parser by inserting a newline at an unexpected place

a few minutes later after adding two more tainted subfolders aa and bb i got



seen while reproducing 

snippet from the client log 

expected result no xml snippet should ever make it into the logs server activities after after one activity with odd characters should still be reported subsequent mkdir or rmdir from the linux client are not reported on the windows client any more there should be you created   you deleted  log entries in server actvity
",Not_TD,TD
703," steps to reproduce
 disable allow public uploads
 try to create public shares with different permissions
 try to update existing shares with different permissions

 expected behaviour
same message in every case

 actual behaviour
create share with permission  message public upload not allowed statuscode 
create share with permission  share is created with permission  see 
create share with permission  message public upload disabled by the administrator statuscode 
update existing public share setting permission to  message public upload not allowed statuscode 
update existing public share setting permission to  message public upload disabled by the administrator statuscode 


this issue results in different error messages in phoenix depending on the selected permission





",Not_TD,TD
704,helloin lasts version of ownclode there was some different ways to set mtime of file using propatchissue     so could be nice to annunce to dav client support for setting the lastmodified in dav header dav   extendedmkcol or another custom header,Not_TD,TD
705,trying use the provisioning api while its disabled returns different error messages depending on the specific call youre sending this is confusing both because the error message doesnt mention that the provisioning api is disabled and also because of the different behaviour of the endpointsget request to    failed    invalid query please check the syntax api specifications are here  debug outputdebug outputhttp request method gethttp request uri  parameter searchgtad a delete request to  qwerty user is missing returns a http  code with no info,Not_TD,TD
706,"seen with
docker run ti p  

 log in as admin go to setting general
 change loglevel to everything
 the green autosave notice appears ok



 navigate back files view
 navigate to settings genera
 scroll down to the log settings
 they are back to warnings bad



 the download option for the logfile is missing bad
 the logfile remains empty


 docker exec ti  occ logowncloud
log backend owncloud enabled
log file mntdatafilesowncloudlog
rotate at disabled

 docker exec ti  ls la mntdatafilesowncloudlog
rwr  wwwdata wwwdata  mar   mntdatafilesowncloudlog
",Not_TD,Not_TD
707," steps

 create three users   and 
 login as 
 create folder test
 share test with 
 login as 
 share test with 
 login as 
 open share panel for test
 look at the information provided in the panel

 actual result
panel shows  the direct sharer

 expected result
panel shows not only the direct sharer  but also the original owner  their display names

 versions
observed in   and 


",Not_TD,Not_TD
708,this is related to issue  although this is to see if its possible using a file system hook and elasticsearch to log iti think there is a need for a share owner to know when a file in a local share has been downloaded specifically to know if a shared memo has been readthere are file system hooks for writes deletes etc but not downloadsis a file download hook is a possibility to log when a user downloads a locally shared filethe aim would be to have a then use elasticsearch to access logs on who has downloaded the shared files,Not_TD,TD
709,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 add integritycheckdisabled and no memcache is enabled
 access apps from the ui

 expected behaviour
the list of apps loaded for enableddisabled is very slow

 actual behaviour
the list of apps loaded for enableddisabled should be quick because the code should not traverse through the integrity checker
",Not_TD,Not_TD
710,"currently storage wrappers can only be registered through the private presetup hook on the filesystem object the wrapper class itself is private and also the wrap method is 

we should move these to the public namespace to make storage wrapper public

that is unless we want to get rid of storage wrappers altogether

 jvillafanez butonic ",Not_TD,TD
711,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 steps to reproduce
 started update in browser
 update hanged
 edited file configphp
 reload owncloud in browser
 pressed button update
 got errormessage
 update vorbereiten
loglevel auf debug gesetzt
wartungsmodus eingeschaltet
reparaturwarnungyou have incompatible or missing apps enabled that could not be found or updated via the marketplace
reparaturwarnungplease install or update the following apps manually or disable them with occ appdisable templateeditor
reparaturwarnungfor manually updating see 
ocrepairexception upgrade is not possible
 cannot login to owncloud anymore
 
 expected behaviour
i want to get access to my data

 actual behaviour
cannot login to owncloud anymore

 server configuration
operating system

web server

database

php version

owncloud version see owncloud admin page

updated from an older owncloud or fresh install
tried update to aktualisierung auf   but failed
where did you install owncloud from
goneo clickstart

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here

cannot login


the content of configconfigphp
php
config  array 
  instanceid  
  passwordsalt  
  secret  someletters
  trusteddomains  
  array 
      
  
  datadirectory  
  overwritecliurl  
  dbtype  mysql
  version  
  dbname  dbname
  dbhost  localhost
  dbtableprefix  oc
  dbuser  dbuser
  dbpassword  secret
  logtimezone  utc
  installed  true
  updatersecret  
  loglevel  
  maintenance  false



log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps
i remember only standard installation

if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder




 client configuration
browser
firefox  

operating system
ubuntu mate 
 logs
 web server error log


insert your webserver log here


 owncloud log dataowncloudlog

insert your owncloud log here
where do i get this without login


",Not_TD,Not_TD
712,"when updating from  to  the system stayed in maintenance mode after manually leaving maintenance mode and starting the update with the button aktualisierung starten i received the following error message

ocrepairexception upgrade is not possible
reperaturwarnungyou have incompatible or missing apps enabled that could not be found or updated via the marketplace
reperaturwarnungplease install or update the following apps manually or disable them with occ appdisable activity occ appdisable filespdfviewer occ appdisable filestexteditor occ appdisable gallery occ appdisable templateeditor
reperaturwarnungfor manually updating see 

and detailed error message

update vorbereiten
loglevel auf debug gesetzt
wartungsmodus eingeschaltet 
reperaturwarnungyou have incompatible or missing apps enabled that could not be found or updated via the marketplace
reperaturwarnungplease install or update the following apps manually or disable them with occ appdisable activity occ appdisable filespdfviewer occ appdisable filestexteditor occ appdisable gallery occ appdisable templateeditor
reperaturwarnungfor manually updating see 
ocrepairexception upgrade is not possible

side note to the translator reperaturwarnung is a spelling error and should be reparaturwarnung

 server configuration
operating system
linux    smp thu jun   utc     gnulinux

web server
apache

database
mysql

php version


where did you install owncloud from
hoster provided version then many upgrades

signing status owncloud  and above
i fixed the signing status errors before the upgrade

the content of configconfigphp
  dbtype  mysql
  version  
  logtimezone  europeberlin
  installed  true
  theme  
  loglevel  
  maintenance  false
  mailsmtpmode  php
",Not_TD,Not_TD
713,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
  share a file  loremtxt to other internal user
  create another file loremtxt in another folder and then share it as done previously
 go to the shared with others page
 open details dialog of one of the two files 

 expected behaviour
both the files are shown in the file list while the detail of one of the file is shown

 actual behaviour
the other file disappears from the file list

 server configuration
operating system
ubuntu 

web server
apache

database
mariadb

php version


owncloud version see owncloud admin page
 prealpha git

updated from an older owncloud or fresh install
no

where did you install owncloud from
github

signing status owncloud  and above

the content of configconfigphp

list of activated apps

are you using external storage if yes which one local

are you using encryption no

are you using an external userbackend if yes which one 



 client configuration
browser
chrome firefox

operating system
ubuntu 

 logs
 web server error log


 owncloud log dataowncloudlog


 browser log
",Not_TD,Not_TD
714,"vicdeo as i told you the last time i tried to share something from cbox to oc the share was added but nothing appeared in the interface can you give me your email so that you can debug it i will send the json i post with a valid webdav endpoint  secret
diogo",Not_TD,Not_TD
715,"hi

i refer to issue  which seems to not have been solved and matches my problem with the current owncloud version 

when synchronizing carddav with a client on android i used two different clients i get a  error message card not found no contacts are synchronized

is there a fix or workaround for this problem alternatively if i knew how to find out which cards are supposedly missing i might be able to delete those on the client or server so if anyone has a hint in this direction i would be grateful as well

 steps to reproduce
 activate contacts app
 synchronize with a synchronizer


 expected behaviour
cards should be synchronized

 actual behaviour
error message from owncloudlog
  does not exist

 server configuration
operating system raspbian

web server apache

database mysql ver  distrib 

php version php 

owncloud version 

updated from an older owncloud or fresh install 

where did you install owncloud from owncloudorg

signing status owncloud  and above no errors have been found

the content of configconfigphp


    basic 
        license key removed sensitive value
        date mon  sep   
        owncloud version 
        owncloud version string 
        owncloud edition community
        server os linux
        server os version linux    smp tue aug   bst  
        server sapi 
        webserver version  raspbian
        hostname owncloudremoved
        user count 
        user directories 
        loggedin user admin
    
    config 
        instanceid 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            localhost
            
            homeremoved
            owncloudremoved
            
        
        datadirectory varwwwownclouddata
        overwritecliurl 
        dbtype mysql
        version 
        dbname owncloud
        dbhost localhost
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        logtimezone utc
        installed true
        theme 
        loglevel 
        maintenance false
        trashbinretentionobligation auto
    
    integritychecker 
        passing true
        enabled true
        result 
    
    core 
        installedat 
        lastcron 
        lastupdateresult 
        lastupdatedat 
        publiccaldav calendarsharephp
        publiccalendar calendarsharephp
        publicfiles filessharingpublicphp
        publicgallery gallerypublicphp
        publicwebdav 
        remotecaldav 
        remotecalendar 
        remotecarddav 
        remotecontacts 
        remotedav 
        remotefiles 
        remotewebdav 
        repairlegacystoragesdone yes
        updatersecretcreated 
        vendor owncloud
    
    apps 
        
            id templateeditor
            name mail template editor
            summary customize mail templates easily
            description owncloud comes with a builtin mail service to send various kinds of informative and actionrequiring notifications to interact with users eg usergroup and link share notifications activity stream summary mails password reset mails and more by default owncloud uses predefined standard templates for the respective eventsnnto meet their exact needs and guidelines many administrators desire to customize and personalize these templates the system administrator can manually edit the template files within the owncloud code the mail template editor provides an easier and more comfortable way for owncloud administrators to modify mail templates within the general section of owncloud admin settings using html or plain text depending on the respective template each httpsmarketplaceowncloudcomthemes can provide separate templates making it very easy to switch between templates by just enabling a different theme for more information please read the httpsdocowncloudcomserverlatestadminmanualconfigurationserveremailconfigurationhtmlusingemailtemplates
            licence agpl
            author  dreyer viktar dubiniuk
            version 
            category customization
            documentation 
                admin httpsdocowncloudcomserverlatestadminmanualconfigurationserveremailconfigurationhtmlusingemailtemplates
            
            screenshot httpsrawgithubusercontentcomowncloudscreenshotsmastertemplateeditortemplateeditorjpg
            namespace templateeditor
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            defaultenable 
            website httpsgithubcomowncloudtemplateeditor
            bugs httpsgithubcomowncloudtemplateeditorissues
            repository 
                attributes 
                    type git
                
                value httpgithubcomowncloudtemplateeditorgit
            
            settings 
                admin ocatemplateeditoradminpanel
            
            info 
            remote 
            public 
            types 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            backgroundjobs 
            twofactorproviders 
            commands 
            groups null
            active true
            internal false
            level 
            removable true
            preview appstemplateeditorimgappsvg
            previewasicon true
            appconfig 
                enabled yes
                installedversion 
                signed true
                types 
            
        
        
            id encryption
            description in order to use this encryption module you need to enable serverside encryption in the admin settings once enabled this module will encrypt all your files transparently the encryption is based on aes  keys the module wont touch existing files only new files will be encrypted after serverside encryption was enabled it is also not possible to disable the encryption again and switch back to a unencrypted system please read the documentation to know all implications before you decide to enable serverside encryption
            name default encryption module
            licence agpl
            author bjoern schiessle clark tomlinson
            documentation 
                user 
                admin 
            
            rememberlogin false
            version 
            types 
                filesystem
            
            usemigrations true
            dependencies 
                lib openssl
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            commands 
                ocaencryptioncommandselectencryptiontype
                ocaencryptioncommandrecreatemasterkey
                ocaencryptioncommandmigratekeys
            
            settings 
                admin ocaencryptionpanelsadmin
                personal ocaencryptionpanelspersonal
            
            info 
            remote 
            public 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            backgroundjobs 
            twofactorproviders 
            groups null
            active false
            internal true
            level 
            removable false
            preview appsencryptionimgappsvg
            previewasicon true
        
        
            id contacts
            name contacts
            summary manage your carddav contacts from a featurerich webinterface
            description contacts is a user interface for ownclouds carddav server owncloud server comes with a carddav component that allows users to synchronize and backup their address books with owncloud and across multiple devices it provides users with an alternative to proprietary contact synchronization services giving them back control over their data once morennthe contacts application is an extension to ownclouds carddav interface it equips owncloud with a featurerich frontend for the carddav server component supports multiple address books and empowers users to easily manage their contacts from a web interface for owncloud users may find the url for device synchronization to configure synchronization in ios android or other carddavcapable applications in the settings section on the bottom left inside the application link symbol furthermore users can share address books with other users or groups readonlyeditable enabling to synchronize address books not only across devices but also across users in addition to managing synchronized contacts the application also offers a feature to import contacts from vcards vcf
            licence agpl
            author hendrik leppelsack thomas  alexander weidinger janchristoph borchardt tom needham
            version 
            documentation 
                user 
                admin 
                developer httpsgithubcomowncloudcontactsblobmasterreadmemd
            
            category productivity
            website httpsgithubcomowncloudcontacts
            bugs httpsgithubcomowncloudcontactsissues
            repository 
                attributes 
                    type git
                
                value httpsgithubcomowncloudcontactsgit
            
            screenshot 
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            info 
            remote 
            public 
            types 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            backgroundjobs 
            twofactorproviders 
            commands 
            groups null
            active true
            internal false
            level 
            removable true
            preview appscontactsimgappsvg
            previewasicon true
            appconfig 
                enabled yes
                installedversion 
                signed true
                types 
            
        
        
            id activity
            name activity
            summary keep track of events with activity stream and email notifications
            description the owncloud activity application enables users to not only get a summarized overview of all file and folder events in their owncloud but also to receive notifications for such via email the user can configure their individual activity preferences in their personal settings and can decide in detail which file or folder actions should be listed in the activity stream accessible via the app launcher and also for which file or folder actions the users wants to receive email notifications the bulk email notifications can either be sent out hourly daily or weekly to fit the specific needs of the individual usernnfrom creation of new files or folders to file or folder changes updates restores from trash bin sharing activities comments tags and downloads from public share links  the owncloud activity app gathers all file or folder related actions in one place for the user to review for users with lots of activity it is possible to limit the activity stream to favorites in order to avoid noise furthermore the application provides filters to give users the means to maintain overview by reducing entries to relevant informationnnand there you have it  a complete overview of all file and folder activities in your owncloud with the additional ability to receive activity notifications via email in a time interval of your choice never again miss an important event related to content in owncloud and always be uptodate on all activities of your files and folders
            licence agpl
            author frank karlitschek joas schilling tom needham thomas  vincent petry
            version 
            defaultenable 
            types 
                filesystem
            
            usemigrations true
            documentation 
                admin httpsdocowncloudorgserverlatestadminmanualconfigurationserveractivityconfigurationhtml
            
            website httpsgithubcomowncloudactivity
            bugs httpsgithubcomowncloudactivityissues
            repository 
                attributes 
                    type git
                
                value httpsgithubcomowncloudactivitygit
            
            screenshot 
            category tools
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            backgroundjobs 
                ocaactivitybackgroundjobemailnotification
                ocaactivitybackgroundjobexpireactivities
            
            navigation 
                order 
                route activityactivitiesshowlist
            
            settings 
                personal ocaactivitypersonalpanel
            
            info 
            remote 
            public 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            twofactorproviders 
            commands 
            groups null
            active true
            internal false
            level 
            removable true
            preview appsactivityimgactivitysvg
            previewasicon true
            appconfig 
                enabled yes
                installedversion 
                signed true
                types filesystem
            
        
        
            id market
            name market
            summary integrate the owncloud marketplace into your owncloud
            description easily manage owncloud apps from within your owncloud web interface it connects your owncloud with your marketplace account and lets you browse install and update any apps from inside your owncloud instancennplease note since owncloud x  every instance gets shipped with this app included you do not need to install it separately to use this application click on files in the top left corner and click on market cart icon administrator privileges required
            licence agpl
            author thomas  felix heidecke thomas  philipp schaffrath
            version 
            defaultenable 
            category tools
            screenshot httpsrawgithubusercontentcomowncloudscreenshotsmastermarketowncloudmarketappjpg
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            backgroundjobs 
                job ocamarketcheckupdatebackgroundjob
            
            commands 
                ocamarketcommandinstallapp
                ocamarketcommanduninstallapp
                ocamarketcommandlistapps
                ocamarketcommandupgradeapp
            
            navigation 
                attributes 
                    role admin
                
                route marketpageindex
                order 
            
            info 
            remote 
            public 
            types 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            twofactorproviders 
            groups null
            active true
            internal false
            level 
            removable true
            preview appsmarketimgmarketsvg
            previewasicon true
            appconfig 
                activity 
                calendar 
                contacts 
                enabled yes
                filespdfviewer 
                gallery 
                installedversion 
                market 
                signed true
                templateeditor 
                types 
            
        
        
            id federation
            name federation
            description owncloud federation allows you to connect with other trusted ownclouds to exchange the user directory for example this will be used to autocomplete external users for federated sharing
            licence agpl
            author bjoern schiessle
            version 
            namespace federation
            category other
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            defaultenable 
            types 
                authentication
            
            backgroundjobs 
                job ocafederationsyncjob
            
            commands 
                command ocafederationcommandsyncfederationaddressbooks
            
            settings 
                admin ocafederationpanelsadmin
            
            info 
            remote 
            public 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            twofactorproviders 
            groups null
            active true
            internal true
            level 
            removable false
            preview appsfederationimgappsvg
            previewasicon true
            appconfig 
                enabled yes
                installedversion 
                types authentication
            
        
        
            id filestrashbin
            name deleted files
            description this application enables users to restore files that were deleted from the system it displays a list of deleted files in the web interface and has options to restore those deleted files back to their owncloud file directories or remove them permanently from the system restoring a file also restores related file versions if the versions application is enabled when a file is deleted from a share it can be restored in the same manner though it is no longer shared by default these files remain in the trash bin for  days to prevent a user from running out of disk space the owncloud deleted files app will not utilize more than  of the currently available free quota for deleted files if the deleted files exceed this limit owncloud deletes the oldest files until it gets below this limit more information is available in the deleted files documentationnn
            licence agpl
            author bjoern schiessle
            defaultenable 
            version 
            types 
                filesystem
            
            usemigrations true
            namespace filestrashbin
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            documentation 
                user 
            
            backgroundjobs 
                job ocafilestrashbinbackgroundjobexpiretrash
            
            commands 
                ocafilestrashbincommandcleanup
                ocafilestrashbincommandexpiretrash
            
            info 
            remote 
            public 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            twofactorproviders 
            groups null
            active true
            internal true
            level 
            removable false
            preview appsfilestrashbinimgappsvg
            previewasicon true
            appconfig 
                enabled yes
                installedversion 
                types filesystem
            
        
        
            id updatenotification
            name update notification
            description displays update notifications for owncloud and provides the sso for the updater
            licence agpl
            author lukas reschke
            version 
            namespace updatenotification
            defaultenable 
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            backgroundjobs 
                job ocaupdatenotificationnotificationbackgroundjob
            
            settings 
                admin ocaupdatenotificationcontrolleradmincontroller
            
            info 
            remote 
            public 
            types 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            twofactorproviders 
            commands 
            groups null
            active true
            internal true
            level 
            removable false
            appconfig 
                core 
                enabled yes
                installedversion 
                types 
            
        
        
            id notifications
            name notifications
            summary notification system for internal events
            description this application adds an internal notification system to an owncloud instance notifications are triggered by apps like the announcement center or custom groups and displayed via a bell indicator in the webui as well as via the owncloud clients
            category tools
            screenshot 
            licence agpl
            author joas schilling thomas 
            version 
            types 
                logging
            
            defaultenable 
            website httpsgithubcomowncloudnotifications
            bugs httpsgithubcomowncloudnotificationsissues
            repository 
                attributes 
                    type git
                
                value httpsgithubcomowncloudnotificationsgit
            
            commands 
                command ocanotificationscommandgenerate
            
            settings 
                personal ocanotificationspanelspersonalnotificationspanel
            
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            usemigrations true
            info 
            remote 
            public 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            backgroundjobs 
            twofactorproviders 
            groups null
            active true
            internal false
            level 
            removable true
            preview appsnotificationsimgnotificationssvg
            previewasicon true
            appconfig 
                enabled yes
                installedversion 
                types logging
            
        
        
            id gallery
            name gallery
            summary explore show and share your image collections
            description media gallery that adds image viewing capabilities to files view and public links provides a dedicated gridbased album view for imagesnnfeaturesnn support for a large selection of image types depending on server setup  fullscreen zoomable image view integrated with the files app  slideshow  sort images by name or date  per album description and copyright statement  image download straight from the slideshow or the album view  seamlessly jump between the gallery and files view  ignore folders containing a nomedia file  native svg support  mobile support
            licence agpl
            author olivier paroz robin appelman thomas 
            version 
            namespace gallery
            documentation 
                user httpsdocowncloudcomserverlatestusermanualfilesgalleryapphtml
                admin httpsdocowncloudcomserverlatestusermanualfilesgalleryapphtml
                developer httpsgithubcomowncloudgalleryblobmasterreadmemd
            
            category multimedia
            screenshot 
            website httpsgithubcomowncloudgallery
            bugs httpsgithubcomowncloudgalleryissues
            repository 
                attributes 
                    type git
                
                value httpsgithubcomowncloudgallerygit
            
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            defaultenable 
            info 
            remote 
            public 
            types 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            backgroundjobs 
            twofactorproviders 
            commands 
            groups null
            active true
            internal false
            level 
            removable true
            preview appsgalleryimgappsvg
            previewasicon true
            appconfig 
                enabled yes
                installedversion 
                signed true
                types 
            
        
        
            id external
            name external sites
            description this application allows an admin to add a link in the owncloud web interface apps menu that points to an external website by simply entering the url and the name for the external site icon appears when this icon is clicked by a user the external website appears in the owncloud frame for the user this external site appears as if it is part of owncloud but in fact this can be any external urlnnnote that the external site link must use the same type of encryption as provided by owncloud in other words if owncloud is hosted on https the link in the external site must also be https the same is also true for http more information is available in the external sites documentation
            licence agpl
            author frank karlitschek
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            version 
            info 
            remote 
            public 
            types 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            backgroundjobs 
            twofactorproviders 
            commands 
            groups null
            active false
            internal false
            level 
            removable true
            preview appsexternalimgexternalsvg
            previewasicon true
        
        
            id filesversions
            name versions
            licence agpl
            author frank karlitschek bjoern schiessle
            description this application enables owncloud to automatically maintain older versions of files that are changed when enabled a hidden versions folder is provisioned in every  directory and is used to store old file versions a user can revert to an older version through the web interface at any time with the replaced file becoming a version owncloud then automatically manages the versions folder to ensure the user  run out of quota because of versions in addition to the expiry of versions  versions app makes certain never to use more than  of the  currently available free space if stored versions exceed this limit owncloud will delete the oldest versions first until it meets this limit more information is available in the versions documentationnn
            version 
            types 
                filesystem
            
            namespace filesversions
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            documentation 
                user 
            
            defaultenable 
            backgroundjobs 
                job ocafilesversionsbackgroundjobexpireversions
            
            commands 
                ocafilesversionscommandcleanup
                ocafilesversionscommandexpireversions
            
            info 
            remote 
            public 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            twofactorproviders 
            groups null
            active true
            internal true
            level 
            removable false
            preview appsfilesversionsimgappsvg
            previewasicon true
            appconfig 
                enabled yes
                installedversion 
                types filesystem
            
        
        
            id filespdfviewer
            name pdf viewer
            summary online viewer for pdf files
            description this application integrates the pdfjs library into owncloud using this application users can view their pdf files in their browser without the need to download the filennwhen this application is enabled publicly shared pdf documents will also get shown in the pdf viewer instead of only showing a single static snapshot of the document the pdf viewer requires a modern browser and will not work with  internet  versions below  is a javascript library developed by mozilla you can learn more about the pdfjs project at httpsmozillagithubiopdfjs
            licence agpl
            author thomas  lukas reschke viktar dubiniuk
            version 
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            defaultenable 
            website httpsgithubcomowncloudfilespdfviewer
            bugs httpsgithubcomowncloudfilespdfviewerissues
            category productivity
            repository 
                attributes 
                    type git
                
                value httpsgithubcomowncloudfilespdfviewergit
            
            screenshot 
            ocsid 
            info 
            remote 
            public 
            types 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            backgroundjobs 
            twofactorproviders 
            commands 
            groups null
            active true
            internal false
            level 
            removable true
            preview appsfilespdfviewerimgappsvg
            previewasicon true
            appconfig 
                enabled yes
                installedversion 
                ocsid 
                signed true
                types 
            
        
        
            id filessharing
            name share files
            description this application enables users to share files within owncloud if enabled the admin can choose which groups can share files the applicable users can then share files and folders with other users and groups within owncloud in addition if the admin enables the share link feature an external link can be used to share files with other users outside of owncloud admins can also enforce passwords expirations dates and enable server to server sharing via share links as well as sharing from mobile devices turning the feature off removes shared files and folders on the server for all share recipients and also on the sync clients and mobile apps more information is available in the owncloud documentationnn
            licence agpl
            author michael gapczynski bjoern schiessle
            defaultenable 
            version 
            types 
                filesystem
            
            usemigrations true
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            public 
                files publicphp
            
            namespace filessharing
            backgroundjobs 
                ocafilessharingdeleteorphanedsharesjob
                ocafilessharingexpiresharesjob
            
            commands 
                command ocafilessharingcommandcleanupremotestorages
            
            info 
            remote 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            twofactorproviders 
            groups null
            active true
            internal true
            level 
            removable false
            preview appsfilessharingimgappsvg
            previewasicon true
            appconfig 
                enabled yes
                installedversion 
                types filesystem
            
        
        
            id systemtags
            name collaborative tags
            description collaborative tagging functionality which shares tags among users great for teams if you are a provider with a multitenancy installation it is advised to deactivate this app as tags are shared
            licence agpl
            author vincent petry
            defaultenable 
            version 
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            namespace systemtags
            types 
                logging
            
            info 
            remote 
            public 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            backgroundjobs 
            twofactorproviders 
            commands 
            groups null
            active true
            internal false
            level 
            removable true
            appconfig 
                enabled yes
                installedversion 
                types logging
            
        
        
            id configreport
            name admin config report
            description generate a config report
            licence agpl
            author owncloudorg
            version 
            namespace configreport
            defaultenable 
                
                
            
            types 
                filesystem
            
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            shipped true
            commands 
                command ocaconfigreportcommandconfigreport
            
            settings 
                admin ocaconfigreportadminpanel
            
            info 
            remote 
            public 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            backgroundjobs 
            twofactorproviders 
            groups null
            active true
            internal true
            level 
            removable false
            appconfig 
                enabled yes
                installedversion 
                types filesystem
            
        
        
            id userexternal
            name external user support
            description use external user authentication methods like imap smb and ftp
            licence agpl
            author robin appelman
            documentation 
                admin 
            
            website httpsgithubcomowncloudappstreemasteruserexternal
            bugs httpsgithubcomowncloudappsissues
            repository 
                attributes 
                    type git
                
                value httpsgithubcomowncloudappsgit
            
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            version 
            shipped true
            types 
                authentication
                prelogin
            
            ocsid 
            info 
            remote 
            public 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            backgroundjobs 
            twofactorproviders 
            commands 
            groups null
            active false
            internal false
            level 
            removable true
            preview appsuserexternalimgappsvg
            previewasicon true
        
        
            id calendar
            name calendar
            summary a calendar app for owncloud
            description the calendar app is a user interface for ownclouds caldav server easily sync events from various devices with your owncloud and edit them onlinenn  integration with other owncloud apps currently contacts  more to come   webcal support want to see your favorite  matchdays in your calendar no problem   attendees invite people to your events
            version 
            licence agpl
            author georg ehrke raghu nayyar bernhard 
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            documentation 
                user 
            
            category productivity
            screenshot httpsrawgithubusercontentcomowncloudscreenshotsmastercalendarscreenshotpng
            website httpsgithubcomowncloudcalendar
            bugs httpsgithubcomowncloudcalendarissues
            repository 
                attributes 
                    type git
                
                value httpsgithubcomowncloudcalendargit
            
            info 
            remote 
            public 
            types 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            backgroundjobs 
            twofactorproviders 
            commands 
            groups null
            active true
            internal false
            level 
            removable true
            preview appscalendarimgcalendarsvg
            previewasicon true
            appconfig 
                enabled yes
                installedversion 
                signed true
                types 
            
        
        
            id comments
            name comments
            description files app plugin to add comments to files
            licence agpl
            author arthur schiwon vincent petry
            defaultenable 
            version 
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            types 
                logging
                dav
            
            sabre 
                plugins 
                    plugin ocacommentsdavcommentsplugin
                
                collections 
                    collection ocacommentsdavrootcollection
                
            
            info 
            remote 
            public 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            backgroundjobs 
            twofactorproviders 
            commands 
            groups null
            active true
            internal false
            level 
            removable true
            appconfig 
                enabled yes
                installedversion 
                types loggingdav
            
        
        
            id firstrunwizard
            name first run wizard
            description this application enables a popup window when a user first logs into owncloud this window welcomes new users to owncloud and contains links to the standard owncloud desktop client android app and the ios app the window also shows a link for accessing owncloud via webdav at any time the first run wizard button can be opened again via the link on the personal page the first run wizard can be customized to meet specific design goals or to change links and messages create an appropriate theme following the theming documentation and changes to the look and feel of this wizard are simple more information is available in the first run wizard documentation as well as the theming documentation
            licence agpl
            author frank karlitschek janchristoph borchardt
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            version 
            shipped true
            defaultenable 
            ocsid 
            info 
            remote 
            public 
            types 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            backgroundjobs 
            twofactorproviders 
            commands 
            groups null
            active true
            internal false
            level 
            removable true
            preview appsfirstrunwizardimgappsvg
            previewasicon true
            appconfig 
                enabled yes
                installedversion 
                ocsid 
                types 
            
        
        
            id filestexteditor
            name text editor
            summary edit text files on the fly
            description this application enables owncloud users to view save and edit text files in the file view if enabled an entry for text file is shown in the  button menu at the top of the files view when clicked a new text file opens in the browser and the file is saved into the current directory furthermore when a text file is clicked in the file list it will be opened and editable if the permissions allow a user can also edit shared files and save these changes right away in the file view more information is available in the text editor documentation
            licence agpl
            author tom needham  
            version 
            defaultenable 
            documentation 
                user httpsgithubcomowncloudfilestexteditorblobmasterreadmemd
                admin httpsgithubcomowncloudfilestexteditorblobmasterreadmemd
                developer httpsgithubcomowncloudfilestexteditorblobmasterreadmemd
            
            category productivity
            website httpsgithubcomowncloudfilestexteditor
            bugs httpsgithubcomowncloudfilestexteditorissues
            repository 
                attributes 
                    type git
                
                value httpsgithubcomowncloudfilestexteditorgit
            
            screenshot 
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            info 
            remote 
            public 
            types 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            backgroundjobs 
            twofactorproviders 
            commands 
            groups null
            active true
            internal false
            level 
            removable true
            preview appsfilestexteditorimgappsvg
            previewasicon true
            appconfig 
                enabled yes
                installedversion 
                ocsid 
                signed true
                types 
            
        
        
            id provisioningapi
            name provisioning api
            description this application enables a set of apis that external systems can use to create edit delete and query user attributes query set and remove groups set quota and query total storage used in owncloud group admin users can also query owncloud and perform the same functions as an admin for groups they manage the api also enables an admin to query for active owncloud applications application info and to enable or disable an app remotely once the app is enabled http requests can be used via a basic auth header to perform any of the functions listed above more information is available in the provisioning api documentation including example calls and server responses
            licence agpl
            author tom needham
            defaultenable 
            documentation 
                admin 
            
            version 
            namespace provisioningapi
            types 
                preventgrouprestriction
            
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            info 
            remote 
            public 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            backgroundjobs 
            twofactorproviders 
            commands 
            groups null
            active true
            internal true
            level 
            removable false
            preview appsprovisioningapiimgappsvg
            previewasicon true
            appconfig 
                enabled yes
                installedversion 
                types preventgrouprestriction
            
        
        
            id filesvideoplayer
            name video player
            description a responsive video player using a skinned version of videojsnnbased on this app  httpvideojscomnnskin httpsgithubcomcabinvideojssublimeskin
            version 
            licence mit
            author  korella
            defaultenable 
            documentation 
                user httpsgithubcomowncloudfilesvideoplayerblobmasterreadmemd
                admin httpsgithubcomowncloudfilesvideoplayerblobmasterreadmemd
                developer httpsgithubcomowncloudfilesvideoplayerblobmasterreadmemd
            
            website httpsgithubcomowncloudfilesvideoplayer
            bugs httpsgithubcomowncloudfilesvideoplayerissues
            repository 
                attributes 
                    type git
                
                value httpsgithubcomowncloudfilesvideoplayergit
            
            dependencies 
                owncloud 
                    attributes 
                        minversion 
                        maxversion 
                    
                
            
            info 
            remote 
            public 
            types 
            repairsteps 
                install 
                premigration 
                postmigration 
                livemigration 
                uninstall 
            
            backgroundjobs 
            twofactorproviders 
            commands 
            groups null
            active true
            internal false
            level 
            removable true
            preview appsfilesvideoplayerimgappsvg
            previewasicon true
            appconfig 
                enabled yes
                installedversion 
                types 
            
        
    
    phpinfo 
         
            apache version  raspbian
            apache api version 
            server administrator 
            hostnameport 
            usergroup 
            max requests per child   keep alive on  max per connection 
            timeouts connection   keepalive 
            virtual server yes
            server root 
            loaded modules core modso modwatchdog httpcore modlogconfig modlogio modversion modunixd modaccesscompat modalias modauthbasic modauthncore modauthnfile modauthzcore modauthzhost modauthzuser modautoindex moddeflate moddir modenv modfilter modheaders modmime prefork modnegotiation  modreqtimeout modsetenvif modsocacheshmcb modssl modstatus
            engine 
            lastmodified 
            xbithack 
        
        apache environment 
            modheadersavailable true
            htaccessworking true
            https on
            ssltlssni owncloudremoved
            httphost owncloudremoved
            httpuseragent  macintosh intel mac os x    
            httpaccept 
            httpacceptlanguage 
            httpacceptencoding gzip deflate br
            httpdnt 
            httpconnection keepalive
            httpupgradeinsecurerequests 
            serversignature  raspbian server at removed port 
            serversoftware  raspbian
            servername removed
            serveraddr 
            serverport 
            remoteaddr removed
            documentroot varwwwowncloud
            requestscheme https
            contextprefix no value
            contextdocumentroot varwwwowncloud
            serveradmin 
            scriptfilename varwwwowncloudindexphp
            remoteport 
            gatewayinterface 
            serverprotocol 
            requestmethod get
            querystring no value
            requesturi indexphpappsconfigreportreport
            scriptname indexphp
            pathinfo appsconfigreportreport
            pathtranslated varwwwowncloudappsconfigreportreport
        
        http headers information 
            http request get indexphpappsconfigreportreport 
            host owncloudremoved
            useragent  macintosh intel mac os x    
            accept 
            acceptlanguage 
            acceptencoding gzip deflate br
            dnt 
            connection keepalive
            upgradeinsecurerequests 
            expires thu  nov   gmt
            cachecontrol nostore nocache mustrevalidate
            pragma nocache
            contentsecuritypolicy defaultsrc self  scriptsrc self unsafeeval  stylesrc self unsafeinline  framesrc  imgsrc  data blob fontsrc self data mediasrc  connectsrc 
        
         
             support enabled
            stream wrapper support 
            stream filter support  
             version  
        
        calendar 
            calendar support enabled
        
        core 
            php version 
            allowurlfopen on
            allowurlinclude off
            argseparatorinput amp
            argseparatoroutput amp
            autoappendfile no value
            autoglobalsjit on
            autoprependfile no value
            browscap no value
            defaultcharset 
            defaultmimetype texthtml
            disableclasses no value
            disablefunctions pcntlalarmpcntlforkpcntlwaitpidpcntlwaitpcntlwifexitedpcntlwifstoppedpcntlwifsignaledpcntlwifcontinuedpcntlwexitstatuspcntlwtermsigpcntlwstopsigpcntlsignalpcntlsignaldispatchpcntlgetlasterrorpcntlstrerrorpcntlsigprocmaskpcntlsigwaitinfopcntlsigtimedwaitpcntlexecpcntlgetprioritypcntlsetpriority
            displayerrors off
            displaystartuperrors off
            docroot no value
            docrefext no value
            docrefroot no value
            enabledl off
            enablepostdatareading on
            errorappendstring no value
            errorlog no value
            errorprependstring no value
            errorreporting 
                
                
            
            exitontimeout off
            exposephp off
            extensiondir 
            fileuploads on
            highlightcomment 
            highlightdefault 
            highlighthtml 
            highlightkeyword 
            highlightstring 
            htmlerrors on
            ignorerepeatederrors off
            ignorerepeatedsource off
            ignoreuserabort off
            implicitflush off
            inputencoding no value
            internalencoding no value
            logerrors on
            logerrorsmaxlen 
            mailaddxheader on
            mailforceextraparameters no value
            maillog no value
            maxexecutiontime 
                
                
            
            maxfileuploads 
            maxinputnestinglevel 
            maxinputtime 
            maxinputvars 
            memorylimit 
                
                
            
            openbasedir no value
            outputbuffering 
                
                
            
            outputencoding no value
            outputhandler no value
            postmaxsize 
                
                
            
            precision 
            realpathcachesize 
            realpathcachettl 
            registerargcargv off
            reportmemleaks on
            reportzenddebug on
            requestorder gp
            sendmailfrom no value
            sendmailpath usrsbinsendmail t i 
            serializeprecision 
            shortopentag off
            smtp localhost
            smtpport 
            sqlsafemode off
            systempdir no value
            trackerrors off
            unserializecallbackfunc no value
            uploadmaxfilesize 
                
                
            
            uploadtmpdir no value
            userdir no value
            userinicachettl 
            userinifilename userini
            variablesorder gpcs
            xmlrpcerrornumber 
            xmlrpcerrors off
            zendassertions 
            zenddetectunicode on
            zendenablegc on
            zendmultibyte off
            zendscriptencoding no value
        
        ctype 
            ctype functions enabled
        
        curl 
            curl support enabled
            curl information 
            age 
            features null
            asynchdns yes
            charconv no
            debug no
            gssnegotiate no
            idn yes
             yes
             no
            largefile yes
            libz yes
            ntlm yes
            ntlmwb yes
            spnego yes
            ssl yes
            sspi no
            tlssrp yes
             yes
            gssapi yes
             yes
            unixsockets yes
            psl yes
            protocols dict file ftp ftps gopher http https imap imaps ldap ldaps   rtmp rtsp scp sftp smb smbs smtp smtps telnet tftp
            host armunknownlinuxgnueabihf
            ssl version 
            zlib version 
            libssh version 
        
        date 
            datetime support enabled
            timelib version 
            quotolsonquot timezone database version 
            timezone database internal
            default timezone utc
            datedefaultlatitude 
            datedefaultlongitude 
            datesunrisezenith 
            datesunsetzenith 
            datetimezone no value
        
        dom 
            domxml enabled
            domxml api version 
            libxml version 
            html support enabled
            xpath support enabled
            xpointer support enabled
            schema support enabled
            relaxng support enabled
        
        exif 
            exif support enabled
            exif version 
            supported exif version 
            supported filetypes jpegtiff
            exifdecodejisintel jis
            exifdecodejismotorola jis
            exifdecodeunicodeintel 
            exifdecodeunicodemotorola 
            exifencodejis no value
            exifencodeunicode 
        
        fileinfo 
            fileinfo support enabled
            version 
            libmagic 
        
        filter 
            input validation and filtering enabled
            revision id  
            filterdefault unsaferaw
            filterdefaultflags no value
        
        ftp 
            ftp support enabled
            ftps support enabled
        
        gd 
            gd support enabled
            gd headers version 
            gd library version 
            freetype support enabled
            freetype linkage with freetype
            freetype version 
            gif read support enabled
            gif create support enabled
            jpeg support enabled
            libjpeg version 
            png support enabled
            libpng version 
            wbmp support enabled
            xpm support enabled
            libxpm version 
            xbm support enabled
            webp support enabled
            gdjpegignorewarning 
                
                
            
        
        gettext 
            gettext support enabled
        
        hash 
            hash support enabled
            hashing engines             whirlpool       snefru  gost gostcrypto        joaat               
            mhash support enabled
            mhash api version emulated support
        
        iconv 
            iconv support enabled
            iconv implementation glibc
            iconv library version 
            iconvinputencoding no value
            iconvinternalencoding no value
            iconvoutputencoding no value
        
        intl 
            version 
            icu version 
            icu data version 
            intldefaultlocale no value
            intlerrorlevel 
            intluseexceptions 
        
        json 
            json support enabled
            json version 
        
        libxml 
            libxml support active
            libxml compiled version 
            libxml loaded version 
            libxml streams enabled
        
        mbstring 
            multibyte support enabled
            multibyte string engine libmbfl
            http input encoding translation disabled
            libmbfl version 
            oniguruma version 
            multibyte japanese regex support enabled
            multibyte regex oniguruma backtrack check on
            multibyte regex oniguruma version 
            mbstringdetectorder no value
            mbstringencodingtranslation off
            mbstringfuncoverload 
            mbstringhttpinput no value
            mbstringhttpoutput no value
            mbstringhttpoutputconvmimetypes textapplicationxhtmlxml
            mbstringinternalencoding no value
            mbstringlanguage neutral
            mbstringstrictdetection off
            mbstringsubstitutecharacter no value
        
        mcrypt 
            version 
            api no 
            supported ciphers  gost  twofish arcfour    saferplus wake blowfishcompat des  serpent xtea blowfish enigma  tripledes
            supported modes cbc cfb ctr ecb ncfb nofb ofb stream
            mcryptalgorithmsdir no value
            mcryptmodesdir no value
        
        mysqli 
            client api library version mysqlnd     id  
            active persistent links 
            inactive persistent links 
            active links 
            mysqliallowlocalinfile on
            mysqliallowpersistent on
            mysqlidefaulthost no value
            mysqlidefaultport 
            mysqlidefaultpw no value
            mysqlidefaultsocket no value
            mysqlidefaultuser no value
            mysqlimaxlinks unlimited
            mysqlimaxpersistent unlimited
            mysqlireconnect off
            mysqlirollbackoncachedplink off
        
        mysqlnd 
            version mysqlnd     id  
            compression supported
            core ssl supported
            extended ssl supported
            command buffer size 
            read buffer size 
            read timeout 
            collecting statistics yes
            collecting memory statistics no
            tracing na
            loaded plugins 
            api extensions mysqlipdomysql
            bytessent 
            bytesreceived 
            packetssent 
            packetsreceived 
            protocoloverheadin 
            protocoloverheadout 
            bytesreceivedokpacket 
            bytesreceivedeofpacket 
            bytesreceivedrsetheaderpacket 
            bytesreceivedrsetfieldmetapacket 
            bytesreceivedrsetrowpacket 
            bytesreceivedprepareresponsepacket 
            bytesreceivedchangeuserpacket 
            packetssentcommand 
            packetsreceivedok 
            packetsreceivedeof 
            packetsreceivedrsetheader 
            packetsreceivedrsetfieldmeta 
            packetsreceivedrsetrow 
            packetsreceivedprepareresponse 
            packetsreceivedchangeuser 
            resultsetqueries 
            nonresultsetqueries 
            noindexused 
            badindexused 
            slowqueries 
            bufferedsets 
            unbufferedsets 
            psbufferedsets 
            psunbufferedsets 
            flushednormalsets 
            flushedpssets 
            pspreparedneverexecuted 
            pspreparedonceexecuted 
            rowsfetchedfromservernormal 
            rowsfetchedfromserverps 
            rowsbufferedfromclientnormal 
            rowsbufferedfromclientps 
            rowsfetchedfromclientnormalbuffered 
            rowsfetchedfromclientnormalunbuffered 
            rowsfetchedfromclientpsbuffered 
            rowsfetchedfromclientpsunbuffered 
            rowsfetchedfromclientpscursor 
            rowsaffectednormal 
            rowsaffectedps 
            rowsskippednormal 
            rowsskippedps 
            copyonwritesaved 
            copyonwriteperformed 
            commandbuffertoosmall 
            connectsuccess 
            connectfailure 
            connectionreused 
            reconnect 
            pconnectsuccess 
            activeconnections 
            activepersistentconnections 
            explicitclose 
            implicitclose 
            disconnectclose 
            inmiddleofcommandclose 
            explicitfreeresult 
            implicitfreeresult 
            explicitstmtclose 
            implicitstmtclose 
            mememalloccount 
            mememallocamount 
            memecalloccount 
            memecallocamount 
            memerealloccount 
            memereallocamount 
            memefreecount 
            memefreeamount 
            memmalloccount 
            memmallocamount 
            memcalloccount 
            memcallocamount 
            memrealloccount 
            memreallocamount 
            memfreecount 
            memfreeamount 
            memestrndupcount 
            memstrndupcount 
            memestndupcount 
            memstrdupcount 
            prototextfetchednull 
            prototextfetchedbit 
            prototextfetchedtinyint 
            prototextfetchedshort 
             
            prototextfetchedint 
            prototextfetchedbigint 
            prototextfetcheddecimal 
            prototextfetchedfloat 
            prototextfetcheddouble 
            prototextfetcheddate 
            prototextfetchedyear 
            prototextfetchedtime 
            prototextfetcheddatetime 
            prototextfetchedtimestamp 
            prototextfetchedstring 
            prototextfetchedblob 
            prototextfetchedenum 
            prototextfetchedset 
            prototextfetchedgeometry 
            prototextfetchedother 
            protobinaryfetchednull 
            protobinaryfetchedbit 
            protobinaryfetchedtinyint 
            protobinaryfetchedshort 
             
            protobinaryfetchedint 
            protobinaryfetchedbigint 
            protobinaryfetcheddecimal 
            protobinaryfetchedfloat 
            protobin",Not_TD,TD
716,"hello owncloud developers

ive recently installed owncloud with the latest available docker image set it up and configured it to use an external storage strato hidrive with encryption enabled
while synchronizinguploading files i ran into some problems the files were uploaded and ecnrypted correctly however trying to download them failed looking into the logfile revealed an error message missing signature because i couldnt wait for an official solution and because maybe you cannot reproduce the issue due to a different system setup i made some investigations on my own by using the logged stack trace i could dig into that problem and found a solution which i want to share now

 steps to reproduce
 block size for encrypted storage is alway set to 
 parentstreamread in class encryption filesstreamencryptionphp does not return  although they were requested
 passing the smaller data block downstream eg towards cryptocryptphp of app encryption fails at signature checking

 reason for failing at signature checking
signature checking fails because on encryption of the file the header was padded with  to fill up an  block however within this block the string  does not appear and since the passed data block is smaller there is no signature to check when there should be one

 solution i came up with
indeed the parentstreamread does return a data block with defferent length on each call obviously the upstream class returns as much as it can while downloading and caching
since streamread does not return the requestes block size on its own and that fixed block size was introduced due to a bug in php according to the source files the best solution imho is to read from the stream in a loop until the block has the required length this leaves the remaining system alone and also checks for the correct size of the data block which seems to be mandatory for the remaining algorithm also this does not rely on fixednot fixed bugs in some library or php functions and makes my solution portable

here we go
i simply added a private function to the class filesstreamencryption


 
    streamread wrapper to read complete requested block
   
  private function streamreadblockblocksize 
    remaining  blocksize
    data  

    do 
      chunk  parentstreamreadremaining
      chunklen  strlenchunk
      data  chunk
      remaining  chunklen
     while  remaining    chunklen   

    return data
  


then ive replaced the calls to parentstreamread with thisstreamreadblock in the functions readcache and skipheader

thats it
best regards
martin

here are some details about my configuration

 server configuration
operating system
prettynamedebian gnulinux  jessie
namedebian gnulinux

 jessie
iddebian
homeurl
supporturl
bugreporturl
architecture 

web server
latest docker image

database
latest docker image

php version
php 

owncloud version


updated from an older owncloud or fresh install
fresh install

where did you install owncloud from
docker image


if you have access to your command line run eg

    system 
        appspaths 
            
                path varwwwowncloudapps
                url apps
                writable false
            
            
                path varwwwowncloudcustom
                url custom
                writable true
            
        
        trusteddomains 
            localhost
        
        datadirectory mntdatafiles
        dbtype mysql
        dbhost db
        dbname owncloud
        dbuser removed sensitive value
        dbpassword removed sensitive value
        dbtableprefix oc
        logtype owncloud
        supporteddatabases 
            sqlite
            mysql
            pgsql
        
        upgradedisableweb true
        defaultlanguage en
        overwritecliurl httplocalhost
        htaccessrewritebase 
        logfile mntdatafilesowncloudlog
        loglevel 
        memcachelocal ocmemcacheapcu
         true
        filelockingenabled true
        memcachedistributed ocmemcacheredis
        memcachelocking ocmemcacheredis
        redis 
            host redis
            port 
        
        passwordsalt removed sensitive value
        secret removed sensitive value
        version 
        logtimezone utc
        installed true
        instanceid 
        ldapignorenamingrules false
        maildomain removed sensitive value
        mailfromaddress removed sensitive value
        mailsmtpmode php
        singleuser false
        enablecertificatemanagement true
        forcessl false
        integrityignoremissingappsignature 
            encryption
        
    

",Not_TD,Not_TD
717,"caused by 

does not affect 

caused because usersessionvalidatesession is no longer called 

cc butonic ",Not_TD,Not_TD
718,"if you have a config for your application directories like so
php
  appspaths  
  array 
      
    array 
      path  varwwwowncloudapps
      url  apps
      writable  false
    
      
    array 
      path  varwwwowncloudcustom
      url  custom
      writable  true
    
  

this is the current standard for our docker containers and ansible deployments

and an app that has been shipped with owncloud receives an update eg userldap   

and you either use the webui or occ marketupgrade to install the new app version

then the new app version will be installed in the folder custom while the old version is still in apps this obviously leads to problems especially when the app update requires an occ upgrade command as the website reports that an app needs an upgrade but the occ upgrade reports that the apps are all up to date


 steps to reproduce
i was able to reproduce the issue in a standard docker compose setup like so
 the docker container 
 manually downgrade an app that has been shipped with the container in the apps directory eg userldap 
 exec into the container dockercompose exec owncloud entrypoint bash
 cd apps
 wget 
 rm r userldap
 tar xf 
 chown r ref userexternal userldap
 chmod r ref userexternal userldap
 run the upgrade occ marketupgrade userldap

 expected behaviour
the command should overwrite the existing app

 actual behaviour
a second version of the app is installed in the folder custom

 server configuration
operating system ubuntu 

web server apache

database mariadb

php version 

owncloud version 

updated from an older owncloud or fresh install no

where did you install owncloud from docker

the content of configconfigphp 

list of activated apps


enabled
   comments 
   configreport 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filesmediaviewer 
   filessharing 
   filestrashbin 
   filesversions 
   firstrunwizard 
   market 
   notifications 
   provisioningapi 
   systemtags 
   updatenotification 
   userldap 
disabled
   encryption
   external
   userexternal



are you using external storage if yes which one no

are you using encryption no

are you using an external userbackend if yes which one no

 client configuration
browser

operating system

 logs
 web server error log

no relevant error here


 owncloud log dataowncloudlog

no relevant error here


 occ marketupgrade userldap stdout

userldap installing new version  
userldap app updated
",Not_TD,TD
719,"versions
owncloud client 

clouddamkencom  with patch  applied

steps to reproduce
 login to damkencloudcom as 
  shares a file or folder with 
 start owncloud client and login as 
 go to activity server activity tab and look for the notifications sent from the server 
 click on the link

result
its not possible to open the link url sent is relative
also the decline accept and dismiss buttons dont work





",Not_TD,Not_TD
720,expected behaviorafter leaving the shared link page and returning to the url after closing the browser and reopening the password should be entered again for accessactual behaviorthe shared link url is accessible and the user does not need to login againsteps to  setup a shared link with password  access the link via another browser ie  type in the  close the browser used for the shared link  open a new instance of the  access the link again it will not prompt for a passwordserver configurationsos red hat    firefox  ie ,Not_TD,Not_TD
721,"see  and 

 has scenarios where the share receiver renames a received shared file andor folder

 has similar scenarios for the case when share folder is set to shares so that the original share is received in the shares folder then the sharee movesrenames it elsewhere

 has some scenarios that create shares that originate from local storage

add more scenarios in new feature files in appropriate test suites that create shares of filesfolders to usersgroups from resources that are in local storage

add scenarios where the share receiver renames the received shared filefolder and check that it works  the sharee should see the received share with the new name the sharer should still see the original resource in local storage",Not_TD,TD
722,while debugging some failing unit tests  i found something interesting  i never thought about beforelets look at the rename operation as a examplewe have one condition to check if we execute the pre hooks if      for the post hook we have a different check if     result  falsedoes this makes sense beside the check for the result i think in general we should always call the post hook if the pre hook was executed the prehook sometimes store some state and it can be really bad if the state doesnt get reset properly eg the trash bin storage wrapperopinionscc   ,Not_TD,TD
723,i absolutely heart the new tagging feature thank you for that however if youre already in the possession of a lot of files and you want to get ataggin itll probably take you ages until youve manually tagged all your files properly if going through them in with the current onebyone uii therefore file the request for adding the functionality of tagging multiple files at once possibly through a search a selection or even filetypeit should probably at least cover selected filesthanks,Not_TD,TD
724,an admin may want to make a db backup before performing an upgrade after installing a new version however if a user gets to the upgrade page first they can trigger an upgrade which may fail with no chance for the admin to make a backup firsta solution to this would be to have a nondefault option to disable the web upgrade process forcing the use of occ if the db hasnt been upgraded and a newer version is installed a maintenance page should be displayedobviously this wont be of any benefit in shared hosting environments where cli access is not provided but in many cases it will becc strugee rdaneel karlitschek lukasreschke ,Not_TD,TD
725, steps to  send a file to a user by link with password  copy the url in your browser expected behaviourthe pwd is required actual behaviourthe pwd if required again when you accept to add the remote share maybe the pwd should be required once server configurationoperating system ubuntu  server apache  mysqlphp version  version  beta  from an older owncloud or fresh install fresh installlist of activated appsenabled activity  adminaudit  encryption  enterprisekey  files  fileslocking  filespdfviewer  filessharing  filessharinglog  filestexteditor  filestrashbin  filesversions  filesvideoviewer  firewall  firstrunwizard  gallery  provisioningapi  templateeditor  updater  userldap  windowsnetworkdrive  you using external storage if yes which one noare you using encryption yesare you using an external userbackend if yes which one activedirectory client configurationbrowser firefox,Not_TD,Not_TD
726," steps to reproduce
 the doc version string currently looks like  
 where  gets calculated

background in docs the latest release is always set to latest which makes any release cycle not dependent of a version number hardcoded in core when core changes the version number docs updates internally latest with the release number of core

to avoid inconsistencies or missing matches the core reference to docs should contain latest

 expected behaviour


 actual behaviour


 server configuration
owncloud version 

the location of the change is at
libprivatelegacydefaultsphp line 
thisdefaultdocversion  version    version  used to generate doc links 
a change like version    version — latest should be made there

micbar settermjd ",Not_TD,Not_TD
727,at the moment every user can add comments if the commentsapp is active is there a way to limit the ability to addanswer comments only to specific users or groups,Not_TD,TD
728,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 have  instance of oc say  and   initiator of fed share 
  is encrypted it does not matter if it is masterkey encrypted or userkeys pick any one among the two  is not encrypted
  tries to share a folder  which has a file inside it ie simplefolderdatazip  say test to  user using fed share
 the reciever of the  say  accepts the share
 now  of  when tries to delete datazip 
 check the log

 expected behaviour
the logs should not throw error when the file is deleted from  user to its trashbin storage

 actual behaviour
error logged

 expects parameter  to be a valid callback class ocafilessharingexternalstorage does not have a method copykeys at 


 server configuration
operating system ubuntu 

web server apache

database mysql

php version

owncloud version see owncloud admin page  branch

updated from an older owncloud or fresh install fresh install

where did you install owncloud from

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here



the content of configconfigphp


log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder


are you using external storage if yes which one localsmbsftp

are you using encryption yesno

are you using an external userbackend if yes which one ldapactivedirectorywebdav

 ldap configuration delete this part if not used


with access to your command line run eg
sudo u wwwdata php occ ldapshowconfig
from within your owncloud installation folder

without access to your command line download the dataownclouddb to your local
computer or access your sql server remotely and run the select query
select  from ocappconfig where appid  userldap


eventually replace sensitive data as the nameipaddress of your ldap server or groups


 client configuration
browser

operating system

 logs
 web server error log

insert your webserver log here


 owncloud log dataowncloudlog

insert your owncloud log here


 browser log

insert your browser log here this could for example include

a the javascript console log
b the network log 
c 

",Not_TD,Not_TD
729,wordpress has a function were you can logout from every instance youre logged in to except the one that you are on right now is it possible to do the same with owncloudor maybe no need because of the heartbeat settings and suchjust a thoughtlukasreschke maybe,Not_TD,Not_TD
730,note these are just some toughts i came up with while doing the sharing rework not something for the short term but something to think aboutcurrently we have a very clean distinction between share types we basically have local shares federated shares link sharesall three types are different from the perspective of the code however from a user point of view we actually only have  types of shares usergroup shares link shareswith all the work going on to more seamlessly intergrate multiple owncloud installations for federated sharing i was wondering if it makes sense to for the user abstract away from federated and local shares there then would only be federated ids but if the federated id is that of a local user we create a local share and if not we initiate a federated shareof course we have to think about how to present this properly ux wise but i think this will make sense for our users for users it feels kinda weird that shares with a local user look different from shares with a remote user they just want to share stuffcc owncloudsharing ownclouddesigners ,Not_TD,Not_TD
731,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 steps to reproduce




 expected behaviour
tell us what should happen

 actual behaviour
tell us what happens instead

 server configuration
operating system

web server

database

php version

owncloud version see owncloud admin page

updated from an older owncloud or fresh install

where did you install owncloud from

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here



the content of configconfigphp


log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder


are you using external storage if yes which one localsmbsftp

are you using encryption yesno

are you using an external userbackend if yes which one ldapactivedirectorywebdav

 ldap configuration delete this part if not used


with access to your command line run eg
sudo u wwwdata php occ ldapshowconfig
from within your owncloud installation folder

without access to your command line download the dataownclouddb to your local
computer or access your sql server remotely and run the select query
select  from ocappconfig where appid  userldap


eventually replace sensitive data as the nameipaddress of your ldap server or groups


 client configuration
browser

operating system

 logs
 web server error log

insert your webserver log here


 owncloud log dataowncloudlog

insert your owncloud log here


 browser log

insert your browser log here this could for example include

a the javascript console log
b the network log 
c 

",Not_TD,TD
732," steps to reproduce

 enable a casesensitive storage app wnd filesexternaldropbox others
 set up a mount point granting access if needed
 using oc web ui upload a file filejpg to the casesensitive storage
 using oc web ui upload a file filejpg to the casesensitive storage


 expected behaviour
a conflict dialog appears as both files should be considered the same in this kind of storage


 actual behaviour
the file conflict dialog appears but the right section doesnt show anything useful

dropbox dialog




wnd dialog




 server configuration

operating system
ubuntu 

web server
apache

database
mysql

php version


cache
db

owncloud version see owncloud admin page




updated from an older owncloud or fresh install
fresh

the content of configconfigphp





are you using external storage if yes which one localsmbsftp
yes tested using wnd and dropbox

are you using encryption 
no

logs
nothing appears in the logs as warnings or errors


 client configuration

browser
chrome
  
  ",Not_TD,Not_TD
733,the security checks in the admin page should also show guidance for public key pinning as per  if https is enabled for additional hardening  this document defines a new http header that allows web host    operators to instruct user agents to remember pin the hosts    cryptographic identities over a period of time  during that time    user agents uas will require that the host presents a certificate    chain including at least one subject public key info structure whose    fingerprint matches one of the pinned fingerprints for that host,Not_TD,TD
734,currently the users local storage restriction is applied to external storage pathslocations it would be great to be able to either disable storage limits completely for external locations or to be able to set alternate storage restrictions per external storage location much in the same way local storage restrictions are handledif i havent made this very clear please ask any questions and i will elaboratethanks,Not_TD,TD
735," steps to reproduce
 upgrading from  to  beta
 cli upgrade with occ

 expected behaviour
no schema exception

 actual behaviour
doctrinedbalschemaschemaexception

 server configuration
ubuntu  lts

web server
apache 

database
mariadb

php version


where did you install owncloud from


signing status owncloud  and above
signed

rootwwwvarwwwdevowncloud sudo u wwwdata php occ upgrade
owncloud or one of the apps require upgrade  only a limited number of commands are available
you may use your browser or the occ upgrade command to do the upgrade
 set log level to debug
 repair step upgrade app code from the marketplace
 repair warning market app is unavailable for updating of apps please update manually see 
 repair step repair mysql database engine
 repair step repair mysql collation
 repair info all tables already have the correct collation  nothing to do
 repair step repair sqlite autoincrement
 repair step repair orphaned reshare
 repair step repair duplicate entries in oclucenestatus
 repair info removing duplicate entries from lucenestatus
 updating database schema
 doctrinedbalschemaschemaexception the table with name ownclouddevocpersistentlocks already exists
 update failed
 maintenance mode is kept active
 reset log level

",Not_TD,TD
736,expected behaviorerror stating keys have been modifiedactual behaviorfiles page hangsstepsencryption enabledrecovery key password in useusera has recovery password enabled on personal pageusera currently logged into owncloud webuiadmin user changes password for usera with recovery passwordusera then attempts to select a file in his webuinothing happensusera cannot select any files from the webui or navigate to any of the menus in the left side navigation barusera can press the cloud and get back to the files home would expect some sort of error stating password has been changed  please logout and log back  loganfileslogantxt by user logan owner  invalid  sequence in argument at  casein most cases the admin will not be changing a password for a user who is currently in the webui  however what happens if the admin accidentally changes the password for the wrong user  this user will have no indication that their password was changed or why they cant access any files,Not_TD,Not_TD
737," steps to reproduce
 access a public weblink to a folder shared by somebody federation sharing
 try to find information that this can also be accessed via webdav

 expected behaviour
there should be a way to clearly see that shared folders can be accessed via webdav and instructions how to do so

 actual behaviour
there aren’t i also cannot find any documentation of this

 server configuration
this is not my server but sciebo however since i cannot find this documented anywhere and only stumbled upon it by chance i doubt that this is a serverspecific problem
owncloud version  stable

 client configuration
browser firefox  
operating system ubuntu",Not_TD,Not_TD
738,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
ive been having issues uploading files beyond a certain size  turns out that my root file system is almost full but the actual data file system is not  ive done rudimentary debugging of the issue and here is what i think is happening

if the physical storage disk is accessed via symlinks through a different filesystem the quotastorage mechanism quotapluginphp specifically filesstoragelocalphp does not expand the file path symbolic links before calling diskfreespace

an example of this is having the data folder varwwwownclouddata a symbolic link to eg mntlargediskownclouddata

there are good reasons for using symbolic links for the data directory chief among them not having to change the database when migrating storage adding extra storate for certain users etc

 steps to reproduce
  setup data directory to varwwwownclouddata
  point varwwwownclouddata  mntlargediskdata
  leave little space in the var filesystem
  upload a file larger than the free space in var

 expected behaviour
file is uploaded

 actual behaviour
we get not enough free space error when the upload is done for the finale move webdav operation

 server configuration
centos 


web server
apache

database

php version

owncloud version see owncloud admin page

updated from an older owncloud or fresh install
fresh
where did you install owncloud from

signing status owncloud  and above
no errors have been found


the content of configconfigphp


    system 
        instanceid 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            
            owncloudrvxis
            cloudrvxis
        
        datadirectory varwwwownclouddata
        overwritecliurl 
        dbtype mysql
        version 
        dbname owncloud
        dbhost localhost
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        logtimezone utc
        installed true
        mailfromaddress removed sensitive value
        mailsmtpmode smtp
        maildomain removed sensitive value
        mailsmtphost removed sensitive value
        mailsmtpport 
        mailsmtpsecure tls
        theme 
        loglevel 
        logrotatesize 
        maintenance false
        memcachelocal ocmemcacheredis
        redis 
            host localhost
            port 
        
        memcachelocking ocmemcacheredis
        htaccessrewritebase 
    




list of activated apps

enabled
   comments 
   configreport 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filespdfviewer 
    
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   firstrunwizard 
   gallery 
   impersonate 
   market 
   notifications 
   provisioningapi 
   systemtags 
   updatenotification 
disabled
   encryption
   external
   userexternal


are you using external storage if yes which one localsmbsftp
no

are you using encryption yesno
no

are you using an external userbackend if yes which one ldapactivedirectorywebdav
no


 client configuration
browser
chrome

operating system
windows 

 logs

 owncloud log dataowncloudlog

   insufficient storage   ocadavconnectorsabrequotaplugincheckquota   ocadavconnectorsabrequotapluginhandlebeforemoveuploadskristja   calluserfuncarrayarray   sabreeventeventemitteremitbeforemove   sabredavcorepluginhttpmoveobjectsabrehttprequest   calluserfuncarrayarray   sabreeventeventemitteremitmethodmove   sabredavserverinvokemethodobjectsabrehttprequest        
",Not_TD,Not_TD
739,"see pr   

 core is being enhanced to remember the author of each version of a file

add acceptance tests to cover this new feature
 api tests to check that the author of each version can be returned in api requests
 webui tests to check that the author is displayed against each version in the version history
 also have test cases to check what happens when the feature is enabled and there are existing files that are then edited after the feature is enabled

here is an example screenshot of the feature


",Not_TD,TD
740,in past versions of code  and earlier it seems that external storage was taken into consideration for quota calculationin  and  external storage is taken out of quota calculationthere are some installs which would like to have the external storage considered in quota calculationfeature request to add a configuration parameter to allow the user to determine whether they desire to have external storage count toward quota calculation or notmtrichards karlitschek ,Not_TD,TD
741," steps to reproduce
 run owncloud in port 
 config nginx https reverse proxy in port 
 login owncloud in brower admin  log out button link to 
 click log out button  error occurred
 change url in address bar to  logout success

 expected behaviour
admin  log out button link to 

 server configuration
operating system ubuntu 

web server nginx

owncloud version  stable

updated from an older owncloud or fresh install fresh install

where did you install owncloud from installing with docker


signing status owncloud  and above


no errors have been found
",Not_TD,Not_TD
742,currently in  master the external storage mount options  are available for both global mounts admin page and also for personaluser mounts personal pageit could be useful if the administrator was able to decide which mount options a user is allowed to useset on their personal storages for example an admin might not want a user to be able to disable encryption or to set the watched policy to alwaysmtrichards msrex xenopathic   ,Not_TD,TD
743,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 

 steps to reproduce
triggered by an external storage under development




 expected behaviour
no error in the logs

 actual behaviour

 expects parameter  to be resource bool given at 
 expects parameter  to be resource bool given at 

its expected that the fopen method returns false if there is an error
note encryption isnt enabled

 server configuration
operating system

web server apache 

database mysql

php version 

owncloud version  master  commit 

updated from an older owncloud or fresh install

where did you install owncloud from

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here



the content of configconfigphp


log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder


are you using external storage if yes which one localsmbsftp

are you using encryption no

are you using an external userbackend if yes which one ldapactivedirectorywebdav

 ldap configuration delete this part if not used


with access to your command line run eg
sudo u wwwdata php occ ldapshowconfig
from within your owncloud installation folder

without access to your command line download the dataownclouddb to your local
computer or access your sql server remotely and run the select query
select  from ocappconfig where appid  userldap


eventually replace sensitive data as the nameipaddress of your ldap server or groups


 client configuration
browser

operating system

 logs
 web server error log

insert your webserver log here


 owncloud log dataowncloudlog

insert your owncloud log here


 browser log

insert your browser log here this could for example include

a the javascript console log
b the network log 
c 

",Not_TD,Not_TD
744,it would be great if the occ tool would have the feature to export the contacts and calendars into a standard vcalvcarda use case is eg that your webserver times out a lot and you need to export data,Not_TD,Not_TD
745,users want to see who created an event todojournal in their calendarevents will only have an organizer property when the event contains attendees todos and journals dont have an organizer property at all the server should add a custom xoccreatedbyfederatedsharingid propertywhat do you think  ref ,Not_TD,TD
746,this happens with owncload  until the latest  you mark too many files like  at once for download it results in a too long uri with firefox you getrequest failed uri too long longer than  internet explorer you get an ugly owncloud error message cloud not found and a list of all files in the  failed to open streamfile name too long at  is possible due to the request being submitted via get and not by postif this is by design the error should be catched too many files try to use a folder instead ,Not_TD,TD
747,"

butonic hodyroff   

",Not_TD,Not_TD
748," steps to reproduce
 open a file shared with a public link
 click on button add to cloudcom top right corner
 selection dropdown opens
 click somewhere else

 expected behaviour
selection dropdown should be closed

 actual behaviour
selection dropdown stays


",Not_TD,Not_TD
749,"add the ability to extend the current share permissions model and add more permissions as defined by apps

 backend approaches

  reusing and extending the existing permissions field

the ocfilecache table has a field permissions and also ocsharepermissions for sharing permissions
the value is a bitmask
we could reuse additional bits

 additional implications on the storage layer  could be a good thing though as wed be able to let storages define the additional perms

 pros

 no changes in data model the permissions are already exposed everywhere with no extra efforts

 cons

 would require apps to reserve certain bits for their own additional permissions
 or needs core to predefine some bits for certain permissions and let apps implement the actual logic

  reusing and extending the existing permissions field

like  but store the permissions in a new field ocshareextrapermissions

 pros

 minor addition to current share model
 no storage implications

 cons

 more wiring up required in various layers

  use extra webdav properties

the table ocproperties contains a list of arbitrary webdav properties that can be set with proppatch and retrieved with propfind they are attached to files by file id

an app could define its own properties to represent additional permissions there

when the time comes to enforce permissions the app would need to read the permission from there manually

could also provide a permissions manager in core that hides this and exposes it via a public php api

 pros

 ability to reuse an existing table

 cons

 ocproperties is currently on the dav layer to access it from an app somehow violates our api principles ideally this table should be managed on view level also see 

  new table for additional permissions

create a new table ocextrapermissions with fields fileid appid permissionid active
need to keep this table in sync with ocfilecachefileid for example with foreign keys or a background job to clear orphaned entries
provide a permissions manager in core that manages the permissions table and exposes a public php api for managing the permissions in there

 pros
 cleaner approach proper data structures

 cons
 extra table the other approaches didnt have one

  use collaborative tags

an app could define a set of collaboratve tags which would define the permissions for everyone

 pros

no core changes needed apps read the tags and decide how to apply restrictions

 cons

restriction is for all users not per user

 frontend approaches

need a way for apps to be able to inject ui components
this would not work on mobile so might need a way in backend to set translatable permission names
an http api needs to be provided for clients to be able to retrieve all possible translated permission names for a given file or folder to be displayed as a list of checkboxes

",Not_TD,Not_TD
750," steps to reproduce
 owncloud is automatically updated via package manager eg rpm
 owncloud stops working and displays a message to all users manual action ocupdate required
 after executing ocupdate everything is working fine

 expected behaviour
owncloud should send an email to a defined admin contact or not stop working and keep running with the old codedatabase until manual intervention can be performed to not be hours or days malfunctional

 actual behaviour
owncloud stops working and displays a message to all users manual action ocupdate required",Not_TD,TD
751,"required for semver

we need the ability to add a parseable string   etc

we currently have version array and versionstring string in versionphp i think we should consolidate these into an actual version string and not an array

then in the version parsing code we extract it as array and cache it there was a cache somewhere

  core version
      consolidate version string in versionphp
      adjust release scripts
      communicate this change im pretty sure there are many scripts out there relying on this
      need backport to  and be careful that all works fine on upgrade
  app manager
      make sure app manager properly parses and understands app versions minversion maxversion containing suffixes

 vicdeo phildavis ",Not_TD,TD
752,for archiving purposes it would be nice if the sharing dialog had a checkbox named bcc me if checked the notification is also sent to the sharer for archiving and registration purposesan admin option to enable this checkbox by default for all users should also be available,Not_TD,TD
753,"see 

there are tests that check the dhref string that is returned in propfind or other api requests if the file path contains special characters then those have been escaped for example a space character is escaped as  a question mark is escaped as  or 

 specifies that this escapingencoding is not casesensitive  and  are both valid representations of 

find the places in the core api test suite where the tests are currently too fussy make those tests caseinsensitive

this will help when testing against other implementations like ocis",Not_TD,TD
754,himodpagespeed on apache is not supported by owncloud   im not sure but the same is probably also valid for the ngxpagespeed module on nginx,Not_TD,Not_TD
755,"we have webdav lock api tests in the apiwebdavlocks test suites

add extra scenarios to cover

  a user receives  shared folders from  different users each folder contains a file with the same name lock one file and make sure the other file is not locked lock both files independently unlock both files independently combinations of this stuff
  a user receives  different shared folders from the same user each folder contains a file with the same name do similar combinations of lockunlock
  a user locks their own files of the same name in different folders
  do some cases where the file or folder is called config that might be somehow special",Not_TD,TD
756,see the sftp backend extends the common storage backend class and hence only uses the default isupdatable method which returns true if the file exists would be great if we could return a value from the file mode retrieved with stat so that things like the editor could enabledisable editing appropriately as currently the ui thinks it can save but the saves end up  xenopathic ,Not_TD,TD
757,for the sake of my server resources it would be great if i can delete the protected calendar contactbirthdayscurrently you can see a delete button to it but everytime you reload it comes back then my cron is already slow and do not want it to compute something unnecessarily i do not needi think this ticket includes two things make it deletable introduce a new option to prevent it from being autogenerated in the cronfor full story see thanks ,Not_TD,TD
758,"after updating the core from  to  the sharing feature in the macos and ios app does not work anymore

when using the web interface sharing works as expected

 expected behaviour

rightclick on a file in my owncloud folder  copy public link  paste the link in the browser  file can be downloaded

 actual behaviour

rightclick on a file in my owncloud folder  copy public link  the window with the sharing options opens displaying “csrf check failed” in red all options for creating shares are greyed out

the ios app displays the same message when trying to create a public link to a file

 steps to reproduce
as described above

 server configuration
operating system linux info   smp tue jan   cest  all gnulinux
web server apache
database mysql 
php version 
owncloud version 

storage backend external storage none

 client configuration

client version desktop  build 
ios  build 

operating system macos  macos  ios 

os language german

installation path of client
applications

 logs


client logfile output of owncloud logwindow or owncloud logfile logtxt
   reply to “get” qurl“ qpair“path”bildschirmfoto  um  qpair“reshares”“true” has unexpected status code  ““ocs”“meta”“status”“failure”“statuscode”“message”“csrf check failed”“totalitems””“itemsperpage”“data”
   share fetchcreate error  “csrf check failed”


 web server error log

ipadressdeleted    “get  ”   urldeletedforprivacy “” “ macintosh  build  owncloud  clientarchitecture  osarchitecture ” “”
ipadressdeleted    “get  ”   urldeletedforprivacy “” “ macintosh  build  owncloud  clientarchitecture  osarchitecture ” “”
ipadressdeleted    “propfind  ”   urldeletedforprivacy “” “ macintosh  build  owncloud  clientarchitecture  osarchitecture ” “”
ipadressdeleted    “get  ”   urldeletedforprivacy “” “ macintosh  build  owncloud  clientarchitecture  osarchitecture ” “”
ipadressdeleted    “get  ”   urldeletedforprivacy “” “ macintosh  build  owncloud  clientarchitecture  osarchitecture ” “”


 server logfile owncloud log dataowncloudlog
can’t find unusual messages

updated from an older owncloud or fresh install
update from 

where did you install owncloud from
initially installed owncloud  from the zip archive provided at owncloudcom years ago and used the update function ever since

signing status owncloud  and above


no errors have been found



the content of configconfigphp


can be provided on request


list of activated apps


only standard apps


are you using external storage if yes which one localsmbsftp
no

are you using encryption yesno
no

are you using an external userbackend if yes which one ldapactivedirectorywebdav
no


img  altbildschirmfoto  um    src

",Not_TD,Not_TD
759, steps to  using a custom script such as the following where the storage variable is a storage implementation         printrstoragestatpath      printrstoragestatpath    run the script and modify the path file in the backend during the sleep time actual behaviourthe storage will return the cached information this means that both printr will show the same information contextcache in the storage works fine for very short running scripts where there is a very high probability that the result of both stat calls in this case will be the same because the time difference between the calls is minimal in addition the result its acceptable even if the file changed between those two calls because next run when the page is reloaded for example it will get the updated infohowever this isnt the case for long running scripts because all the calls will always return the same cached result which isnt acceptablewe need to decouple the cache from the storage in order to allow direct access to the backend without caching there should be another additional option to clear the cache on demand so the script can choose when it want fresh databutonic   ,Not_TD,TD
760,"parent issue  
  split provisioning api acceptance tests into a sensible set of features
  review the test scenarios in each feature and expand them to cover a basic set of test cases

eg for each feature consider what an admin subadmin ordinary user can and cannot do to createdeleteedit other users and groups",Not_TD,TD
761,the dav app should send email alarms configured by the usercc  ,Not_TD,Not_TD
762," steps to reproduce
 create a group noshare and put  in the group
 admin settings sharing  check exclude groups from sharing and enter group noshare
 login as 
 feel the urge to add a comment or tag to a file

 expected behaviour
there is a button somewhere on each file row that would open the tagscomments panel that also used to do sharing

 actual behaviour
there is no button icon visible
but if you click blindly in the empty space of the file row the panel opens for you to add tagscomments

 server configuration

or current ",Not_TD,TD
763,pr  has a single bump,Not_TD,Not_TD
764," onlyoffice  federation

current state
 when editing a document shared via federation between two oc instances that connect to the same onlyoffice instance every user gets their own session  collaborative editing does not work simultaneous editing overwrites changes from others by the last user closing onlyoffice
 when editing a document shared via federation between two oc instances that do not connect to the same onlyoffice instance or use another collaborative editing solution  same issue as above but different case in terms of finding a solution

 approach  all federated instances connect to one onlyoffice instance

 unique shared file identifier

 issue  only solves the scenario when federated instances are connected to the same onlyoffice instance
 issue  does not cover other collaborative editing solutions

 approach  generalized approach
 find a solution that works for all collaborative editing solutions collabora online  office online
 find a solution that works when federated instances use different instances of the same collaborative editing solution
 find a solution that works when federated instances use different collaborative editing solutions

 use coediting solution of the owners oc instance

 importing public links as federated shares from the same instance they originate from
 approach  convert to user share
 how to handle permissions
 how to handle links with expiration datepassword
 will the public link be removed after conversion
 do we need to ask the owner for permission before conversion
 old ticket about the case ",Not_TD,TD
765,hiif i on my tabled or  more heavy on my handy have i am en serious problem for selecting the text from the webdavlink for copy in the the clipboard  this mus work more easy maby with an button by side of the webdavlink  into the contacts and into the calender this webdav links  i mean where you can klick by mouse copy to clipboard in firefox it is impossible with the fad fingers  also with the galaxy  tablet and galaxy  mini samsung pen it is also impossiblefor this is maybe not bad an to have an button for use the links into carddav  caldav or other applications for android or other padshandysbest regardsblacky,Not_TD,Not_TD
766,it might be worth assessing sessionvalidatetoken  ji had a short look at it and might be possible to save an unnecessary sql update query because there are two code paths that do it  and  both short succession  this is not an issue for small instances but on large instances it might halve the number of updates to that table ,Not_TD,TD
767, it will be easy to see what is  if we add sharing functionality from there it will be easy to share the folder you’re currently incurrently there is no way to share a folder from inside it you have to move outside of it find it in the list again and then share it from theresolution proposal add a »share« button only with icon in the breadcrumb next to the name of the current folder when that is clicked open the share modal that button should also reflect the state of the folder just like the action button for example showing a world when the folder is shared by public linkmtgap what do you think also cc ownclouddesigners ,Not_TD,TD
768,hardening that we should consider doing,Not_TD,Not_TD
769,it would be nice to be able to set a limit on users on how much data they use not diskspace  and that would also show total transfered and monthly usage  for themand for admins and also sort to see who uses the most etc being able to set it individually on each user or have groups that have predefined would be nice as well ,Not_TD,TD
770,like for the old fileslocking app we might want to add a wait loop  delay when acquiring a lockbasically if the lock is not available wait a few milliseconds and try againa bit like   nickvergessen ,Not_TD,TD
771," steps to reproduce
 lock a folder curl x lock u adminadmin   d  
 share this folder via public link
 upload new files or overwrite existing files in that folder via new public webdav api curl x put  d 

 expected behaviour
upload does not work

 actual behaviour
files can be uploaded and overwritten

cc  ",Not_TD,Not_TD
772,"when running occ encryptionrecreatemasterkey which recreates the encryption master key the console output is as follows

console
warning in order to recreate master key the entire owncloud filesystem will be decrypted and then encrypted using new master key do you want to continue yny
decryption started

     prepare encryption modules
 done


 fetch list of users finished 
 


 starting to decrypt files finished 
 


all files could be decrypted successfully
     
decryption completed

encryption started

waiting for creating new masterkey

new masterkey created successfully



encrypt all files with the default encryption module



use master key to encrypt all files


start to encrypt users files




 all files encrypted 
 


encryption completed successfully


while this contains all of the required information its quite verbose and distracting i suggest the following more concise output it still shows the same information yet in a much more compact way

console
occ encryptionrecreatemasterkey
warning in order to recreate master key the entire owncloud filesystem will be decrypted and then encrypted using new master key do you want to continue yn y

stage  decrypting files
  preparing encryption modulesdone
  fetching list of usersfinished
  decrypting filesfinished

all files decrypted successfully

stage  reencrypting files
  waiting for creation of new masterkey
  new masterkey created successfully
  encrypting all files with the default encryption module
  using master key to encrypt all files
  reencrypting users filesfinished
  all files reencrypted

encryption completed successfully


 relates to 

",Not_TD,TD
773,"following the discussion in  

 i think a switch to enabledisable this config in the admin  user authentication pane when    apps are enabled would be desirable additionally to the obscure occ configsystemset tokenauthenforced type boolean value true",Not_TD,Not_TD
774,"
",Not_TD,Not_TD
775,"

php warning  declaration of pageloginpagewaittillpageisloadedbehatminksession session int timeoutmsec  pagestandarduiwaittimeoutmillisec void should be compatible with pageowncloudpagewaittillpageisloadedbehatminksession session timeoutmsec  pagestandarduiwaittimeoutmillisec in dronesrctestsacceptancefeatureslibloginpagephp on line 


i noticed this in the ci output it did not cause the code to fail this will have been reported now that various acceptance tests have parameter and return types declared
",Not_TD,TD
776,"the goal is to have an app that contains the frontend for the sharing app
currently the filessharing app and some pieces of core contain the following components

 sharing sidebar
 sharing file lists shared with others shared with you and shared with link

considering that were already reworking the ui of the sharing sidebar as part of the  project wed like to provide a way to reuse said effort and make it available in  as well

to do so we need to move the components in question into a separate app which will be based partly on the existing  sharing mock ups and part of the old code to wire it up to the backend

having this as an app is important to be able to update this independently from the oc platform

 plan

 phoenix sharing sidebar panel must become an own app  the app will register its own sharing sidebar tab

 make sure that uikit doesnt conflict with the current css  this is important because without this the uikit css from the new sharing frontend will look broken

 remove the sidebar panel code in filessharing  core to make sure there is only one sharing tab one alternative would be to have the core code detect if there is already another tab registered and skip it if the app is not installed it could fall back to the old code to be discussed
",Not_TD,Not_TD
777,  create two users  and  use the same  login as  create a folder  create a share using ocs api but specify the target user as  with lower case curl x post  data  login as  check ocshare table  can see the shareocshare table contains  in sharewith column  cannot see the shareocshare table contains  in sharewith column versionsobserved in  is following the fact that we discovered issues with user casings here  possible approacheseither the ocs share api should deny the share by validating the user name in a casesensitive manner or it should write the correct user id in the database ,Not_TD,TD
778,"pr  adds a feature to allow groups of users to be lock breakers

add api acceptance test scenarios to cover the behavior

the feature also has some ui
 adminsettingsgeneral manual file locking section has allow users in the following groups to unlock files they have access to 
 the file locked ui element can be clicked like now if the user has authority to unlock the file then it gets unlocked otherwise a message is displayed

but for this issue first add api tests we should be able to set config app core lockbreakergroups with the api and then lock a file share the fileparent folder then check who can unlock the file

until pr  is merged please branch from that pr branch featurelockbreakergroup and make a pr from a new branch with the tests",Not_TD,Not_TD
779,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 steps to reproduce
 using gdrive
 overwriting a file creates at the google drive backend a new file with the same name
 owcloud can´t handle identical filenames and rejects the files completely

 expected behaviour
the duplicate file with the same name but latest timestamp should be used for owncloud

referencing the pr updating the gdrive library 

the question i am asking is there a possibility for duplicate files at gdrive that only the latest can be taken this would change the behaviour from gone from owncloud to latest taken and visible

phildavis jvillafanez your input is welcomed smile

 actual behaviour
duplicate files cant be seen anymore
",Not_TD,Not_TD
780," steps to reproduce
 have already some data in owncloud uploaded
 encrypt files i used user keys
first problem occurs here
 decrypt files
another problem occurs here

 expected behaviour
the encrypteddecrypted files have the same modification time as the source ones 

 actual behaviour
the modification times are changed to the encryptiondecryption time

 server configuration
raspbian 

web server
apache 

database
mariadb 

php version
php 

owncloud version see owncloud admin page
owncloud  but i havent tested it on previous versions however i am pretty sure the problem was there as well

updated from an older owncloud or fresh install
fresh

it seems that the modification time preserving was supported in the past 

however current source code does not support it as the preservemtime is never used  

in my case adding   to the copy method helped but it is not a generic solution at all",Not_TD,Not_TD
781,it means it´s a feature like thisurlalso for a faster handling in the structure,Not_TD,Not_TD
782,every files manager has more than one view the current list view doesnt fill all use cases some people will prefer to have a detailed view while others will want to see large visual representations of their filesyou might think that gallery is the files thumbnail view but thats wrong gallery will not show all possible media types and focuses on visual media its currently being misused as a poor mans thumbnails view for filesso its high time the files app introduces its thumbnails view next steps create css and methods to be able to render the files list as a grid the process could be sped up by retrieving  thumbnails shrunk to  for the list view keep title under the thumbnail keep all actions next to the title add info button which would reveal size date etc move result of actions to the new right sidebar its a logical place since everything about sharing will be shown there already as well as tagging info virtual groups etcjancborchardt  as discussedinput welcome   georgehrke lukasreschke bernhardposselt schiesbn nickvergessen libasys demattin setnes ,Not_TD,Not_TD
783,in shared folders there is no way to tell who uploaded a filethe history of a file should include the timestamp and the uploader of every revision,Not_TD,TD
784,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
expected behaviour

hi
i’m missing an option to easy share filesfolders with guest type users creating them on fly when typing email address into share field it’s possible in web interface but i’m missing it from desktop client level
actual behaviour

currently can’t put unknown email address and create guest user on fly from desktop client
steps to reproduce

    try to share file from desktop client
    in share field type new email address
    there should be information like in web interface “add emailaddress”
",Not_TD,Not_TD
785,"add some acceptance test scenarios to cover restoring a version and check that the version author is preserved

this will be test coverage for  and whatever other combinations we think of testing
",Not_TD,TD
786,"port all external storage backends from filesexternal to be separate apps
  storage backends
      ftp 
      sftp
      dropbox 
      gdrive  and 
      swift  deprecate focus on  now
        
      local move the backend to core as the storage class is there as well
      smb
      dav  owncloud separate app or move to core 

  authentication backends
       move to core or part of external app 
       move to core or part of external app 
      openstack  deprecate focus on  now
      rackspace  deprecate focus on  now
       make it part of the  app

 fyi",Not_TD,TD
787,quite often users have a broken install due to some  app if the advice is given to disable  via occ quite often the question which are  arisesmaybe adding the state of shipped or  apps in the occ appslist could be useful here,Not_TD,Not_TD
788,hi i hope this fits in hereessentially what id like to do is something like this for linuxchallenged users like myself this learningcurve is a little steep as such an androidapp that does the job would be wonderful is there a chance that this may happen   at any time in the futurecheersrobert,Not_TD,Not_TD
789,it says on wikipedia that synchronization between different owncloud servers is being worked on and not supported by now i am actually surprised this isnt implemented yet as this feature would justify the term cloud imo any status on thatin my case i have two different lans linked via vpn however bandwidth between them ishorrible so in each offices runs a nas that rsyncs every n minutes now this is working for two server but is not satisfying in terms of revision control and adding more servers in the future lately we are testing   which keeps track of file changes sqlite and allows multiple hosts nevertheless it has not got that dropboxfeeling because you have to be logged in to the network via vpn in order to remotely access your filesi would not be here if i was happy with the current configuration so i am hoping to find some people to help check out conditions on this project to implement such a feature so owncloud servers async between each other to accomplish a redundant owncloud service for you and your friends support this issue on bountysource ,Not_TD,Not_TD
790,helloi am currently developing for our android app the posibility to only download reduced images instead of the full sized imagestherefore i use the following url address to download the image filethe problem is that a landscape oriented image will get cropped as the xparameter is smaller than y but on the client i do not know whether it is landscape or portraitso the best for me would be that i specify a max x and max y with the url and get an image that fits these requirementson portrait this would be the sameon landscape the thumbnail generation system must obey the x size and scale the image to the requirementsi have looked into it but unfortunately i could not solve itcan someone help me of course i can try any patchthank you,Not_TD,TD
791,"hi

dmitry from owncloud community suggested me to open an issue here about this original post here 

so i’m trying to do something on owncloud

when a file is shared using a public url using the site interface there is a button to copy the url to the clipboard which gives you something like this when you paste it 

only when you visit the page there is another button to the direct url which adds download to the end of that url 

i have searched for solutions to avoid that unnecessary step and to get that direct url when clicking at the clipboard button or to avoid adding it manually

so i have been searching the code and found out that  does this giving you the direct url to download the file i’m not sure if it’s that simple i suppose it would just be a matter of replacing whatever the clipboard is using

if it’s that simple does anyone know where do i find this code to replace

if it’s not that simple any suggestions sharing a folder with a bunch of files it’s not a solution at all for this particular use case 

i would appreciate a lot if anyone could help me on this",Not_TD,Not_TD
792,the current upload dialog works looks good however we have had some users ask for more descriptive update to the message on the upload dialogcurrently it says thiscould we say something after if you select both versions the copied file will have a number added to its namethen add if you select new files these files will be versioned if the versions app is enabled or if you senect new files the existing files will be removed if the versions app is not enabledbutonic jancborchardt ,Not_TD,TD
793,category uiadminquick summary use case as an admin i want to be able to sort user accounts according to the criteria in the user interface eg last loginproblem it solves  why i think this is important admins get a better overview on their userbase and have the ability to separate out users by sorting according to the criteriaim aware that this should probably be done via occ commands for larger instances but i think it would be nice to have in the uicore feature please share your thoughts on this,Not_TD,TD
794,see ,Not_TD,Not_TD
795,ocpiimagesave is acting on a regular fs path ie varwww in ocimageoutput instead of the internal owncloud viewthis makes it potentially insecure against directory traversals and other issues when used incorrectly with the internal views of owncloud the builtin security functions would prevent   karlitschek this public api has been introduced with  by nickvergessen i dont see any usage thus i vote to remove the public api for  to allow us to fix this in the future without breaking public api  thoughts objections,Not_TD,TD
796,"issue  pr  added api tests to cover the backend operation of this feature that is being developed in pr  

add a couple of webui scenarios to cover

 that the file locked ui element can be clicked like now if the user has authority to unlock the file then it gets unlocked otherwise a message is displayed add test cases for when the user is in a lockbreaker group and when they are not

 adminsettingsgeneral manual file locking section has allow users in the following groups to unlock files they have access to  fill in that box with some groups and confirm that the lockbreaker groups have been set in the server",Not_TD,TD
797,"see issue  and pr 

the code for  new chunking ng was changed so that maximumlength file names can be uploaded with this chunking previously filenames that reached the limit of about  characters would fail to upload with chunking because the the internal implementation of storing the chunks would make longer filenames for the chunking parts

 make an extra scenario that demonstrates uploading the maximumlength filename possible the scenario can probably go in 

 also make a scenario for old  chunking that demonstrates uploading the maximumlength filename possible fpr  chunking the scenario can probably go in 

this will prevent regressions of the max filename length
",Not_TD,TD
798, steps to  a shares file with  file is shown in the root of bs  b creates folder  b creates folder  b shares folder  in my case both internally and via  b moves file to  expected behaviourthe file should be moved to  actual behaviouri get a could not move error messageif i move file to  it works thoughand if i move another file to  it also worksso for some reason files shared with me cannot be moved to folders i share server configurationowncloud version   ,Not_TD,TD
799, the client show the error message server does not support xocmtime if the http reply does not have a header xocmtime header with the value accepted make sure that the headers are not removed out of the http traffic from might be useful to add another check for the two headers xocmtime and ocetag which might be stripped off on various environmentsedit another ref ,Not_TD,TD
800,when you try to upload a file with a name already in use conflict dialog pops up this popup is confusing two options are shown but they are not clear enough for memaybe overwrite keep both and cancel could be better,Not_TD,TD
801,for reference this is fixing an old item as an owncloud user i want to be able to share my files with other users using groups regardless of the state of encryption so that i can use owncloud to collaborate with other users in that group  even when that group membership changesacceptance criteria user can share a file with encryption enabled even with groups as group memberships change the users will be able to access the files appropriately so even if a user is added to a group the file can be opened by the new group member  removal already works because of the presentation layer if a recovery key is enabled this could be used  but also need to handle the no recovery key situation,Not_TD,TD
802," owncloud version  

 app appsfiles

 file appsfilestemplateslistphp line 

 request please make the following values configurable 


 


so that the people can decide the size of generated thumbnails in filesgrid",Not_TD,TD
803,"we want to run the acceptance tests with the common supported databases to verify that all is well

mysql    passed

mariadb   that is the default already run in regular ci

mariadb    passed

mariadb    passed

mariadb    passed

mariadb    passed

pgsql    passed

pgsql    passed

oracle   all scenarios that fail have related issues see comments in the pr

",Not_TD,Not_TD
804,it would be nice to have an occ command to verify that all keys are available at the correct place this is helpful for example when a backup is restored and allows the admin to check that each file has at least a corresponding keyschiesbn does this make sensemtrichards  karlitschek for the vision and architecture stand pointcc felixboehm  we just have a case where it is unclear if all files also have the keys available,Not_TD,TD
805,i work with a lot of executable files mostly shell scripts that get modified or added to each day i would like to use owncloud to sync these files across clients but it does not propagate the executable permissions which means i have to manually chmod x various files when i move between clientsid love to see this capability added to owncloud,Not_TD,TD
806,himy systemowncloud   ldap users and file sharesowncloud with  ldap users and groups plugin  external storage pluginhow it currently worksuser logs in with his ldap credentials and sees the files and static configured samba shares projects until here everything works finewhat i know needthe user should see his private home share serverhomeusername remote subfolder the remote subfolder inside the samba share to mount optional defaults to  to assign the owncloud logon username automatically to the subfolder use user instead of a particular subfolder nameso i setup a share with session credentials to serverhomeuserthe problem is now that in user is not the login username like jdoe stored in this variable is the ldap username  if the user logs in the system tries to mount  which will not workit would be nice if there where extra variables or ldap attributes samaccountname which i can use,Not_TD,TD
807,"when we make a federated share the notification displays a similar text in the title and the body maybe can create confusions





proposal title should be something like you received a new share invitation

design is here maybe we need to adjust  designnotificationsmdnotificationspecificinformation





tested with oc  

pmaier fyi",Not_TD,TD
808,hello everyonethe intent of this ticket is to elaborate on some issues that are possibly adminrelated not sure at this point and to encourage the opening of a new ticket which will aim to provide better if any at all documentation regarding the preparation and implementation of a successful reverse proxy configuration when using owncloud i hope that this ticket will save hours of troubleshooting for future apache reverse proxy usersi can say with at least some assurance that the issues presented may be simply a matter of extended mapping and lack thereof reading  was not helpful even after applying appropriate parameters i could not find any other specific literature related to preparing a reverse proxy for owncloud with apache a simple proxypass  does not work at this point in time steps to  setup reverse proxy   internet       also aliasd   internet     login to  expected behaviouridentical functionality to a nonreverseproxyd owncloud instance actual behaviourwfirefox  log in button stays inactive unable to login see browser log belowwfirefox  tor browser  some font spacing and icon placement varies in position for no explicable reasonfiles direct connectionfiles reverse proxybookmarks direct connectionbookmarks reverse  in documents app when creating new document or clicking on already uploaded document the top left clouds url drops owncloud so it now directs to  instead of  server configurationoperating systemarchweb serverapache  modules enabled in addition to those required by owncloud  vhost configuration excerpt for  apache    proxypass owncloud   proxypassreverse owncloud   proxypass indexphp   proxypassreverse indexphp   proxypass core   proxypassreverse core   proxypass apps   proxypassreverse apps       proxypassreverse     proxyhtmlenable on    proxyhtmlurlmap  owncloud    proxyhtmlurlmap  owncloud    proxyhtmlurlmap owncloud owncloud    proxyhtmlurlmap indexphp indexphp    proxyhtmlurlmap core core    proxyhtmlurlmap apps apps    apache vhost configuration excerpt for  apache  alias owncloud usrsharewebappsowncloud  options followsymlinks  allowoverride all  require all granted  phpadminvalue openbasedir srvhttptmpusrsharepearusrsharewebappsowncloudetcwebappsownclouddevurandom    documentroot usrsharewebappsowncloud  note removing any one or more of the previous proxypass rules in  reduces ownclouds functionality or renders certain aspects of owncloud to be nonfunctional see the end of the ticket this was discovered only after hours of troubleshootingdatabasemariadb   version see owncloud admin  from an older owncloud or fresh installfreshlist of activated appsenabled  bookmarks   calendar   contacts   directmenu   documents   files   filesarchive   fileslocking   filesodfviewer   filespdfviewer   filessharing   filestexteditor   filestrashbin   filesversions   filesvideoviewer   galleryplus   provisioningapi   templateeditor   updater   usermigrate  content of configconfigphpdefaultare you using external storage if yes which one localsmbsftpnoare you using encryption yesnonoare you using an external userbackend if yes which one ldapactivedirectorywebdavno client configurationbrowsers testedfirefox   tor browser  systemarch logs web server error logno errors reported owncloud log dataowncloudlogno errors reported browser logwfirefox  missing  after property list  moment is not defined   tor browser  errors reported when core apps and indexphp are not proxypassd and proxyhtmlurlmapdwfirefox  as above wfirefox  tor browser  cant establish a connection to the server at   resultdata is undefined  remote is undefined  in web console when clicking on documents appget  xhr   get   and eternal spinners of death for documents and gallery contacts apps web server error log when core apps and indexphp are not proxypassd and  scanphp is never called owncloud is not prepended in url so files are never shown  other urls without prepended owncloud these returned  though never made it to  apacheexternaltld  get      useragentexternaltld  get indexphpappsdocumentsajaxmimesphp     useragentexternaltld  get      useragentexternaltld  get      useragentexternaltld  get indexphpappsfilessharingapiexternalshares     useragentexternaltld  get      useragentexternaltld  get      useragentnotable error in  logs apacheinternalowncloudserver  get coreimgplaceshomesvg     useragent notesthese results are also returned with an https reverse proxy even though ssl apache rules are omitted above current  a solid example of extended mapping is  when core apps and indexphp are not applied  urls are not prepended with owncloud  every other asset appears to have owncloud successfully  even with core apps and indexphp applied perhaps  is a  issue if thats the case and internationalization is the problem then i could start looking at packet dumps to rule out that scenario i hope the solution is easier than staring at dumps though ive already spent too many hours on these issues as it is sob,Not_TD,Not_TD
809,this is so that js code from any app can find out inside what app they are runningthe settings page could be returned as settingsadmin settingsuser and the public page as filessharingpubliccc butonic ,Not_TD,Not_TD
810,all administrative changes eg create a user or delete it should require the user to verify his identity by providing the password again if the backend supports this this verification is then cached for a sensible period of time eg  minutesimportant points to remember has also to work with our api needs to work with different backendsin reference to  where i also proposed this for the change mail address form,Not_TD,TD
811,"enhancement for the list of link shares

  display private link at the top of the list instead of the anchor
  foreach link
      first row must contain the actual link in blue ellipsized clickable followed by clipboard icons
      add a second row below with the following info
         permissions rorwdrop
         link creator for 
         edit button delete button 
         email address  link name

felixheidecke  ",Not_TD,TD
812,"hello

the change  causes my mail server to refuse sending mail
in fact i use an authenticated smtp server which does not allow using envelope mail from address different from account one this prevent smtp spoofing
is it possible to apply one of the following
 add the possibility to avoid this change on smtp server settings 
 use from headers instead of mail from envelope 
 permit each users ton configure their smtp settings to override default server one 

as workaround i commented the line below in appsdavlibcaldavscheduleimippluginphp
                         setfrom

regards

 steps to reproduce
invite someone to calendar event

 expected behaviour
email is sent from email address configured as authenticated user in settings  admin  general email serverfrom address

 actual behaviour
email is sent from user address and refused by mail server prevent spoofing issues

 server configuration
operating system
rasbian 
web server
apache 
database
mariadb 
php version
php 
owncloud version see owncloud admin page
owncloud  stable 
updated from an older owncloud or fresh install
updated from an older owncloud
where did you install owncloud from
debian repository  
signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here

no errors have been found

the content of configconfigphp


log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems

binocc configlist system                                                                                                                   

    system    
        instanceid 
        passwordsalt removed sensitive value
        datadirectory homeownclouddata
        dbtype mysql
        version 
        dbname owncloud
        dbhost localhost
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        installed true
        maxzipinputsize 
        allowzipdownload true
        forcessl true
        logfile varlogowncloudowncloudlog
        loglevel 
        logtimezone europeparis
        theme 
        maintenance false
        trusteddomains 
            removed sensitive value
        
        mailsmtpmode smtp
        previewlibreofficepath usrbinlibreoffice
        mailsmtphost removed sensitive value
        mailsmtpport 
        mailfromaddress removed sensitive value
        maildomain removed sensitive value
        secret removed sensitive value
        mailsmtpauth 
        trashbinretentionobligation auto
        updatechecker false
        mailsmtpname removed sensitive value
        mailsmtppassword removed sensitive value
        mailsmtpsecure tls
        mailsmtpauthtype login
        filelockingenabled true
        memcachelocal ocmemcacheapcu
        memcachelocking ocmemcacheredis
        redis 
            host localhost
            port 
        
    


list of activated apps


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder

binocc applist
enabled
   activity 
   calendar 
   configreport 
   contacts 
   dav 
   federatedfilesharing 
   files 
   filesexternal 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   firstrunwizard 
   gallery 
   market 
   notifications 
   twofactortotp 
   updatenotification 
disabled
   comments
   encryption
   external
   federation
   provisioningapi
   security
   systemtags
   userexternal

are you using external storage if yes which one localsmbsftp
no
are you using encryption yesno
no
are you using an external userbackend if yes which one ldapactivedirectorywebdav
no

 client configuration
browser
any
operating system
any
 logs
 web server error log

insert your webserver log here

na
 owncloud log dataowncloudlog

insert your owncloud log here

na
 browser log

na",Not_TD,Not_TD
813,according tothe apache module could stop large uploads from completing on ubunutu  its not enabled by default anymore but it could be still useful to add a check similar to  and the htaccess approach is probably recommended as the apachegetmodules approach is not working on php cgi,Not_TD,TD
814,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 steps to reproduce
 log in as a group administrator and enter the user panel
 create a new user by setting the email address
 click the envelope to resend the invitation mail
 the notfication the invitation email for this user could not be resent is shown
 the post request results in logged in user must be an admin

 expected behaviour
in the docs at  it reads
  group administrators have the rights to create edit and delete users in their assigned groups

so it is expected that the invitation email can be resent

 actual behaviour
the email is not sent an error notification is shown

 server configuration
operating system
ubuntu 

web server
apache 

database

php version
php 

owncloud version see owncloud admin page


 client configuration
irrelevant

 owncloud log dataowncloudlog

 app in  in user must be an admin


 browser log

post   forbidden

edit reference ",Not_TD,Not_TD
815," steps to reproduce
 take a propfind of documents from admindemoowncloudcom before sharing documentsexampleodt
 share documentsexampleodt with demo
 take another propfind of documents
 compare etags for documents
 compare permissions for documentsexampleodt

 expected behaviour
 the etag for at least documents should change after sharing the file
 the permissions for documentsexampleodt should include an s after sharing the file

 actual behaviour
 no etags change
 no permissions change

you can see that the share was actually added by the addition of  in the logs below

 server configuration
demoowncloudcom as of march  

owncloud version 

 logs
propfind of documents before sharing documentsexampleodt


dmultistatus xmlnsddav xmlnss xmlnsoc

    remotephpdavfilesadmindocuments
    
        
            
                
            
            mon  mar   gmt
            
            
            
            rdnvck
            
            
            admin
        
          ok
    
    
        
            
            
        
          not found
    


    remotephpdavfilesadmindocumentsexampleodt
    
        
            
            mon  mar   gmt
            
            applicationvndoasisopendocumenttext
            
            
            
            rdnvw
            
            
            admin
        
          ok
    




propfind of documents after sharing documentsexampleodt


dmultistatus xmlnsddav xmlnss xmlnsoc

    remotephpdavfilesadmindocuments
    
        
            
                
            
            mon  mar   gmt
            
            
            
            rdnvck
            
            
            admin
        
          ok
    
    
        
            
            
        
          not found
    


    remotephpdavfilesadmindocumentsexampleodt
    
        
            
            mon  mar   gmt
            
            applicationvndoasisopendocumenttext
            
            
            
            rdnvw
            
            
                
            
            admin
        
          ok
    


",Not_TD,Not_TD
816,owncloud shares kinda suck for large images this results in issues like  where users want direct links as you can see from that issue we cant have direct links because of security issueshowever looking at how other services handle this they seem to use some lightboxytype thing with zoom controlsto demonstrate this issue heres how owncloud handles a screenshot of my desktop  not good because the image is scaled down so much that you cant really see anything and the only option you have is to download the file and open it outside ownclouddropbox handles it similarlyhowever when you click on the image you get this lightboxtype thing with zoom supportwhich can make the image shares a lot more useful id love to see something similar in owncloud so that we can share large photosimages without having to download themfor reference here is the dropbox link for the large image and the owncloud link for the same large image ,Not_TD,TD
817,"there are some webui acceptance test scenarios that fail intermittently for example see issue  

in ci any webui scenarios that fail are automatically rerun once if the rerun passes then ci passes so we often do not notice scenarios that have intermittent fails

run the webui drone ci pipelines without the autorerun run it a few times report any failing scenarios here investigate",Not_TD,TD
818,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 create a folder as user e g testshare and share it with a group or user who have permission to see all groups and users the item is shared with e g admin and give permission to share
 create a subfolder e g testsubshare in that shared folder and share it with other groupsusers
 log out as user and log back in as admin
 open the shared folder and open details on the subfolder of that share

 expected behaviour
the details page should show who the subfolder is shared with at least the users and groups the current user is allowed to share with just as it does for the user who owns and shared the parent folder

 actual behaviour
the details page of the subfolder is empty when you try to share it with a group it is already shared with you get the error path already shared with this group this is the only way you know it is shared with this group

 server configuration
operating system ubuntu  server

web server  ubuntu

database mariadb 

php version php 

owncloud version 

updated from an older owncloud or fresh install updated

where did you install owncloud from official owncloud from  archive

signing status owncloud  and above all checks passed

integrity report

no errors have been found



the content of configconfigphp

config  array 
  instanceid  removed
  passwordsalt  removed
  secret  removed
  trusteddomains  
  array 
      removed
  
  datadirectory  varwwwownclouddata
  overwritecliurl  removed
  dbtype  mysql
  version  
  dbname  owncloud
  dbhost  localhost
  dbtableprefix  oc
  dbuser  owncloud
  dbpassword  removed
  logtimezone  utc
  installed  true
  theme  
  loglevel  
  maintenance  false
  trashbinretentionobligation  auto
  mailsmtpmode  smtp
  mailsmtpsecure  ssl
  mailsmtptimeout  
  mailfromaddress  removed
  maildomain  removed
  mailsmtphost  removed
  mailsmtpport  
  mailsmtpauth  
  mailsmtpname  removed
  mailsmtppassword  removed
  mailsmtpauthtype  login
  memcachelocal  ocmemcacheapcu
  memcachelocking  ocmemcacheredis
  redis  
  array 
    host  localhost
    port  
  



list of activated apps

enabled
   configreport 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   gallery 
   market 
   notifications 
   provisioningapi 
   systemtags 
   updatenotification 
   customtheme 
disabled
   comments
   encryption
   external
   templateeditor
   themeexample
   userexternal



are you using external storage if yes which one no

are you using encryption no

are you using an external userbackend if yes which one no

 client configuration
browser mozilla firefox  

operating system ubuntu  desktop

 logs
 web server error log

     ubuntu  configured  resuming normal operations
    command line 
     negotiation discovered files matching request varwwwowncloudsettingsusers none could be negotiated
     negotiation discovered files matching request varwwwowncloudsettingsusers none could be negotiated
     negotiation discovered files matching request varwwwowncloudsettingsusers none could be negotiated
     negotiation discovered files matching request varwwwowncloudsettingsusers none could be negotiated
     negotiation discovered files matching request varwwwowncloudsettingsusers none could be negotiated
     negotiation discovered files matching request varwwwowncloudsettingsusers none could be negotiated
     client denied by server configuration varwwwownclouddatahtaccesstesttxt



 owncloud log dataowncloudlog

no error messages related to this issue only usual login fails
",Not_TD,Not_TD
819,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 expected behaviour
i have to see files

 actual behaviour
i didnt see files when i log in my cloud

 server configuration
operating system linux


php version

owncloud version 


php
config  array 
  instanceid  
  passwordsalt  
  secret  
  trusteddomains  
  array 
      
  
  datadirectory  webhtdocs
  overwritecliurl  
  dbtype  mysql
  version  
  dbname  
  dbhost  
  dbtableprefix  oc
    true
  dbuser  
  dbpassword  
  logtimezone  utc
  installed  true



 client configuration
browser google chrome

operating system macos
",Not_TD,Not_TD
820," steps to reproduce
 user  share a folder to user 
 user  unshare the folder
 folder is still shared in user  but user  don´t see the shared folder

 expected behaviour
if user  unshare the folder user  should see the same action reflected

 actual behaviour


 server configuration
operating system
  smp debian    gnulinux

web server
apache 

database
mysql 

php version
 and 

owncloud version see owncloud admin page


updated from an older owncloud or fresh install
updated

list of activated apps
activity pdf viewer text editor and default apps

are you using encryption yesno
yes

are you using an external userbackend if yes which one ldapactivedirectorywebdav
no

 client configuration
browser
several this is not related to browser issues

operating system
not relevant

",Not_TD,Not_TD
821,it would be helpful to have a tool which verifies the contactscalendar objects in the database for rfc compliance and notify the user if there is something broken in the databasesome possible  occ cli comand  which should be part of the upgrade process as most often broken cards where created in previous  contacts  calendar app could notify the user if there is a broken  a warning should be part of the administration page like those integrity check and similarof course in normal processing broken cards should be handled gracefully and dont leave the carddav caldav or web app in an undefined state,Not_TD,TD
822,"from 

add cli acceptance tests for occ sharing commands

ref
",Not_TD,Not_TD
823,we had some issues lately and even one in    where a function is overridden but with differentincomplete parameter list besides being bad practise this leads to a lot of log messagesthe app checker could come to the rescue once again,Not_TD,TD
824,oc  setup oc  as wellreproduce  disable sharing  go to adminpageexpected result no settings of the sharing should be possible  or settings are available but a warning that sharing app must be enabled to use sharing or button to do socurrent situation full configuration of the sharing app is possible as if sharing was available and working users might be wondering why sharing is not possible in the file app,Not_TD,TD
825,hithere is a apache config option called limitrequestbody  which can be set to either  for unlimited or a max of  default for this is unlimited  but some howtos  tutorials are recommending to limit this because of security reasons this can cause various issues like     i dont know if it is possible to check this value from within php but if this is possible it is really recommended to add a check for this into owncloud to avoid such problems in the future,Not_TD,TD
826,"seen on   while testing  

 create two machines  and 
 all as admin users
   prepare a folder  on server 
   prepare a folder  on server 
 connect a desktop client to both accounts wait for sync to complete
 mutually share the folders to the other server and accept the shares there
 put server  in maintenance mode
 on server  try to access the folder  via web ui an error occurs ok



 within the desktop sync folder navigate to the folder  and add a testtxt file an error occurs ok


 on server  unshare the folder 
 on server  switch off maintenance mode
 on server  try to access the folder  via web ui the same error still occurs bad


 on server  visit inbound shares the folder  is gone without a notice bad



expected behaviour
 share  should reconnect when  comes back online
 to be done items from  should be visible
    eg provide most basic notification

",Not_TD,Not_TD
827,"right now repair steps can be executed whilst in production with occ maintenancerepair and relies on the individual repair step to protect itself from maintenance mode etc

we could extend the maintenancerepair command to have a runtime or production command to run only those that can run in production without maintenance mode and protect all others with a maintenance mode check

cc  ",Not_TD,TD
828,in the config we have php  location of the cache folder defaults to datausercache where  user is the current user when specified the format will change to  cachepathuser where cachepath is the configured cache directory  and user is the user cachepath  the name is misleading as it actually only affects the location of the user specific cache furthermore it would be nice to be able to put the global cache onto a ramdisk while leaving temp files on disk i propose  introduce separate config vars usercachepath and globalcachepath  migrate the cachepath setting to usercachepath  in the global cache use globalcachepath to prefix the instance cache folder if it is empty use the temp foldersmall task not critical adding junior job,Not_TD,TD
829,lots of text fields in owncloud don’t have any immediately obvious way of what needs to be done nextsome examples are new  text file  folder you need to press enter password field in the share dialog and in the user management sharing dialog user input field …for each of these fields we should have a small arrow button as a confirm mechanism on the right inside the field similar to the password reset mechanism or add to owncloud text field in sharing right now it should not be a separate button but integrated in the input fieldcc ownclouddesigners ,Not_TD,TD
830,"make a branch on top of pr   and add acceptance test coverage

",Not_TD,Not_TD
831,would be nice to have logs rotation enabled by default  logs often get too large to send or open in any normal viewer  if log rotation was enabled they wouldnt get so large and be more manageable,Not_TD,TD
832," passed on the early morning of 

 failed on the early morning of  and all pipelines have failed in every nightly ci since then


 php occ up
owncloud or one of the apps require upgrade  only a limited number of commands are available
you may use your browser or the occ upgrade command to do the upgrade
 set log level to debug
 turned on maintenance mode
 repair step upgrade app code from the marketplace
 repair info enabling market app to assist with update
 repair info using market to update existing apps
 repair info attempting to update the following existing compatible apps from market dav federatedfilesharing files filesexternal filessharing filestrashbin filesversions firstrunwizard notifications provisioningapi
 repair info fetching app from market dav
 repair info app dav is not installed
 repair info fetching app from market federatedfilesharing
 repair info app federatedfilesharing is not installed
 repair info fetching app from market files
 repair info app files is not known at the marketplace
 repair info fetching app from market filesexternal
 repair info app filesexternal is not installed
 repair info fetching app from market filessharing
 repair info app filessharing is not known at the marketplace
 repair info fetching app from market filestrashbin
 repair info app filestrashbin is not known at the marketplace
 repair info fetching app from market filesversions
 repair info app filesversions is not known at the marketplace
 repair info fetching app from market firstrunwizard
 repair info app firstrunwizard is not known at the marketplace
 repair info fetching app from market notifications
 repair info app notifications is not known at the marketplace
 repair info fetching app from market provisioningapi
 repair info app provisioningapi is not known at the marketplace
 repair info app was not updated dav
 repair info app was not updated federatedfilesharing
 repair info app was not updated files
 repair info app was not updated filesexternal
 repair info app was not updated filessharing
 repair info app was not updated filestrashbin
 repair info app was not updated filesversions
 repair info app was not updated firstrunwizard
 repair info app was not updated notifications
 repair info app was not updated provisioningapi
 repair step repair mysql database engine
 repair step repair mysql collation
 repair info all tables already have the correct collation  nothing to do
 repair step repair sqlite autoincrement
 repair step repair orphaned reshare
 repair step repair duplicate entries in oclucenestatus
 repair info lucenestatus table does not exist  nothing to do
 updating database schema
 updated database
 updating  
 updated  to 
 updating  
 updated  to 
 updating  
 updated  to 
 updating  
 updated  to 
 updating  
 updated  to 
 updating  
 updated  to 
 updating  
 updated  to 
 ocneedsupdateexception 
 update failed
 maintenance mode is kept active
 reset log level


investigate  probably it will be caused by something that was merged to core on ",Not_TD,Not_TD
833,when you use occ little handy scritp this is great i believe that if owncloud it is at the latest version it shouldt exit  it is not an error for me so it should exit  do you thinkif not people like me need to do aweful stuff like thiswhich i just discover is wrong because next time there is a real update my code will fail  thanks,Not_TD,TD
834,"currently transfer ownership doesnt transfer trashbin files

when transferring we should create a subfolder in the target users trashbin using the same naming scheme then put all trashed files there

this only applies when not using the path option

some challenges as we know the trashbin has background jobs to automatically discard older entries when space is getting low less than  of the storage space so when transferring the trashbin of one user to another it could reach such threshold and cause files to be cleared more quickly in some situations retention rules could also affect such files to some extent

i currently dont see a way around this so this should at most be a documented limitation an admin could make sure that there is enough storage space before doing the transfer

  sharidas ",Not_TD,TD
835,"add to

resourcesconfigmimetypealiasesdistjson
resourcesconfigmimetypemappingdistjson

following

applicationgzip similar of  ",Not_TD,TD
836, steps to  have a user x with a folder have a second user which is part of  different  share a folder with a group a with just the right to  share this folder with group b with all rights expected behaviourexpected behavior is that this user can editshare all of those shared files actual behaviouracutual the user is not allowed to editshare just the right to view is given server configurationowncloud  as well as  of the applications is in an sports club there are members and there are photographer but some of them are botha member should see all photos a photographer should upload and share photosif a photographer is both a member and a photographer he should be able to uploadshare photos as well but actually the smaller rights of the member is stronger if there is a  group video or a administrativ group just clubadministrator not webadministrator it is a lot more complicatedin some wikisites those rights are easy to understand ,Not_TD,TD
837,"because currently app developers need to have a valid owncloud instance just to be able to run occ integritysignapp this doesnt integrate well with automated tools

cc  ",Not_TD,TD
838,currently the file picker always starts in the root folder this is very annoying when selecting multiple attachments for example in the mail app cause there is no multiselect possible on mobileif the filepicker just remembers the last folder this would be much easier,Not_TD,TD
839,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 

 

visit settings  personal  security

we can see the allowed domains for cors and addremove domains
but to make easy for developers that which all domains have been requesting access lets introduce another table below whitelisted domains having  collumns domain timestamp allow button about the domains which have been requesting access

thoughts
any ui suggestions are welcome 

 peterprochaska 
",Not_TD,Not_TD
840,currently eval is allowed with our csp policy we should evaluate whether disabling it causes any problems,Not_TD,TD
841,"for 
we would need a webdav property that tells if a given folder has subfolders to know if we should show the expend symbol for it",Not_TD,TD
842," steps to reproduce

 set up owncloud without using ssl
 as an admin user go to settings and to admingeneral


 expected behaviour
in the warning message there is a link to the security tips in documentation

 actual behaviour
the link doesnt follow





 server configuration

operating system
ubuntu 

web server
apache

database
mysql

php version


owncloud version see owncloud admin page
current master
 


updated from an older owncloud or fresh install
fresh

the content of configconfigphp





are you using external storage if yes which one localsmbsftp
no

are you using encryption 
no

logs

 client configuration

browser
chrome

logs

",Not_TD,Not_TD
843,"i would like to hide tabs from the right popup sidebar activitycommentsshareversions or at least change the order of them by default the activitytab is opened first
is there a way to only show the commenttab and hide all other tabs or at least show the commentstab first",Not_TD,TD
844,currently if you try to access a public route of an app only enabled for specific users you get an authentication failure and redirected to the logic screenthis is because the security middleware uses ocappisenabled which fails because that method calls ocappappmanagerisenabledforuser with null user value which fails    so what we need to do here is adjust the logic here  such that if the route has the  publicpage annotation check if the appconfig values for enabled  no meaning its either yes or the json group string rather than calling isenabledforuseris this a correct understanding and suitable fix my head hurts then can we add tests for thislukasreschke nickvergessen  schiesbn ,Not_TD,TD
845,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 use owncloud with a ftp external storage with login credentials save in session and with ldap login
 add some files using other methods than owncloud

 expected behaviour
new files should appear on my owncloud external storage refresh list

 actual behaviour
there are no files update on owncloud even when ajax cron is used

 server configuration
operating system 

centos linux release  core

web server

apache

database

mysql  ver  distrib 

php version

php 

owncloud version see owncloud admin page

 stable

updated from an older owncloud or fresh install

fresh install

where did you install owncloud from

centos packages

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results here


list of activated apps

enabled
   activity 
   comments 
   dav 
   documents 
   federatedfilesharing 
   federation 
   files 
   filesclipboard 
   filesexternal 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filesversions 
   filesvideoplayer 
   firstrunwizard 
   gallery 
   notifications 
   provisioningapi 
   systemtags 
   templateeditor 
   updatenotification 
   userldap 
disabled
   encryption
   external
   filesantivirus
   filestrashbin
   userexternal

the content of configconfigphp



    system 
        updatechecker false
        instanceid 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            dataaccesscesgoorg
        
        datadirectory vardata
        overwritecliurl httpdataaccesscesgoorg
        dbtype mysql
        version 
        dbname owncloud
        dbhost localhost
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        logtimezone utc
        installed true
        theme genouest
        ldapignorenamingrules false
        memcachelocal ocmemcacheredis
        redis 
            host localhost
            port 
        
        memcachelocking ocmemcacheredis
        mailsmtpmode smtp
        mailfromaddress noreply
        maildomain dataaccesscesgoorg
        mailsmtphost genogrid
    



are you using external storage if yes which one localsmbsftp

ftp

are you using encryption yesno

no

are you using an external userbackend if yes which one ldapactivedirectorywebdav

ldap

 ldap configuration delete this part if not used



 configuration                                                             

 hasmemberoffiltersupport                                                  
 haspagedresultsupport                                                     
 homefoldernamingrule                                                      
 lastjpegphotolookup                                                      
 ldapagentname                                                             
 ldapagentpassword                                                      
 ldapattributesforgroupsearch                                              
 ldapattributesforusersearch                                               
 ldapbackuphost                                                            
 ldapbackupport                                                            
 ldapbase                       dcgenouestdcorg                         
 ldapbasegroups                 dcgenouestdcorg                         
 ldapbaseusers                  dcgenouestdcorg                         
 ldapcachettl                                                           
 ldapconfigurationactive                                                  
 ldapdynamicgroupmemberurl                                                 
 ldapemailattribute             mail                                       
 ldapexperiencedadmin                                                     
 ldapexpertuuidgroupattr                                                   
 ldapexpertuuiduserattr                                                    
 ldapexpertusernameattr         uid                                        
 ldapgroupdisplayname           cn                                         
 ldapgroupfilter                cnrapsodyncnbrassica              
 ldapgroupfiltergroups          rapsodynbrassica                          
 ldapgroupfiltermode                                                      
 ldapgroupfilterobjectclass                                                
 ldapgroupmemberassocattr       memberuid                                  
 ldaphost                       dsldap                                     
 ldapignorenamingrules                                                     
 ldaploginfilter                objectclassposixaccountuiduid 
 ldaploginfilterattributes                                                 
 ldaploginfilteremail                                                     
 ldaploginfiltermode                                                      
 ldaploginfilterusername                                                  
 ldapnestedgroups                                                         
 ldapoverridemainserver                                                    
 ldappagingsize                                                         
 ldapport                                                               
 ldapquotaattribute                                                        
 ldapquotadefault                                                          
 ldaptls                                                                  
 ldapuserdisplayname            cn                                         
            uid                                        
 ldapuserfilter                 objectclassposixaccount              
 ldapuserfiltergroups                                                      
 ldapuserfiltermode                                                       
 ldapuserfilterobjectclass      posixaccount                               
 ldapuuidgroupattribute         auto                                       
 ldapuuiduserattribute          auto                                       
 turnoffcertcheck                                                         
 usememberoftodetectmembership                                            


 client configuration
browser

chrome

operating system

windows 


",Not_TD,Not_TD
846,"steps to reproduce
 login into the owncloud instance
 do nothing on the opened tab for  minutes

expected behaviour
 auto sessionout should be done
 login page should be displayed

actual behaviour
no auto sessionout is there after  minutes

server configuration
operating system centos   bit
web server apache
database mysql
php version 
owncloud version see owncloud admin page 
updated from an older owncloud or fresh install fresh
where did you install owncloud from bitnami stack
signing status owncloud  and above valid

client configuration
browser firefox quantum  
operating system windows  pro 

ive configured following in htdocsconfigconfigphp
 rememberlogincookielifetime   sessionlifetime   sessionkeepalive  false",Not_TD,Not_TD
847,the current installation process of owncloud  requires creation of a new database this is documented in  you will need the root database login or any administrator login that has permissions to create and modify databases and then enter any name you want for your owncloud databaseas this is a safe and secure default for hosts you have full access to it should be possible to avoid this extra redirection and directly use an existing database usecase my provider wont let me create new databases my plan includes  databases postgres or mysql with fixed names create database and create user always fail  server configurationowncloud version   from an older owncloud or fresh install fresh install impossiblewhere did you install owncloud from  from owncloudorg problem exists for install using occ as as as using install wizard via browser owncloud log  app in contextmessageerror occurred while checking postgresql version assuming   app in contextmessageexception exceptiondoctrinedbaldbalexceptionmessagefailed to connect to the database an exception occured in driver could not find             ocdbconnectionconstructarray objectdoctrinedbaldriverpdopgsqldriver objectdoctrinedbalconfiguration   doctrinedbaldrivermanagergetconnectionarray objectdoctrinedbalconfiguration   ocdbconnectionfactorygetconnectionpgsql             ocdbprepareshow serverver null   ocdbexecuteauditedshow          ,Not_TD,TD
848," steps to reproduce
 as an admin in settingsadminstorage create some local storage that makes some folder on the local server available  eg localfolder
 set available for to some user anne or group that anne is a member of
 select the enable sharing and set readonly options
 as user anne try to share localfolder with bob

 expected behaviour
the share should be created with just the allowed read permissions

 actual behaviour
notification is displayed

cannot set the requested share permissions for localfolder

and the share is not created

there is no way to get to the sharing permissions checkboxes and turn off edit

note it works fine when sharing a subfolder or file inside localfolder in that case it knows to make the share readonly

 server configuration
current core master

the set readonly option for storage was added by pr  and issue ",Not_TD,Not_TD
849," steps to reproduce

 set up owncloud without using ssl
 as an admin user go to settings and to admingeneral


 expected behaviour
in the warning message there is a link to the security tips in documentation

 actual behaviour
the link doesnt follow





 server configuration

operating system
ubuntu 

web server
apache

database
mysql

php version


owncloud version see owncloud admin page
current master
 


updated from an older owncloud or fresh install
fresh

the content of configconfigphp





are you using external storage if yes which one localsmbsftp
no

are you using encryption 
no

logs

 client configuration

browser
chrome

logs

",Not_TD,Not_TD
850,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 steps to reproduce
 map webdav drive
 create ms visio file testvsdx
 save updated version of visio file

 expected behaviour
the file testvsdx should appear in the folder fileversions like 

 actual behaviour
there are no versions of file testvsdx in the folder fileversions but other files like docxvnnnn
if i rename the file testvsdx to testtvsdx the file appears under fileversions but is not useable by ms visio

 server configuration
operating system

web server

database

php version

owncloud version see owncloud admin page

updated from an older owncloud or fresh install

where did you install owncloud from

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here



the content of configconfigphp


log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder


are you using external storage if yes which one localsmbsftp

are you using encryption yesno

are you using an external userbackend if yes which one ldapactivedirectorywebdav

 ldap configuration delete this part if not used


with access to your command line run eg
sudo u wwwdata php occ ldapshowconfig
from within your owncloud installation folder

without access to your command line download the dataownclouddb to your local
computer or access your sql server remotely and run the select query
select  from ocappconfig where appid  userldap


eventually replace sensitive data as the nameipaddress of your ldap server or groups


 client configuration
browser

operating system

 logs
 web server error log

insert your webserver log here


 owncloud log dataowncloudlog

insert your owncloud log here


 browser log

insert your browser log here this could for example include

a the javascript console log
b the network log 
c 

",Not_TD,Not_TD
851,"seen in  

in  phildavis reported that quota details are missing when unexpected upper case is used on a username
this is still reproduced in  
",Not_TD,Not_TD
852,add config option for serve static files from other domain,Not_TD,Not_TD
853,current behaviouri can share only one file or folder at a time if i want to share multiple filesfolders i have to create sharing links seperately and send multiple email messagesdesired behaviourwhen i check multiple files folders or a combination thereof a share link appears at the top of the page like it does with download allowing me to share all the selected files and folders at oncenot necessarily  in one link but possibly several links in one sharing notification email or optionally one link that creates a zip download when clicked  containing all the selected files and folders,Not_TD,TD
854,every time we enter a folder a request is made to appsfilesajaxlistphp in order to get data to build the viewit can take between  and  to get that information on top of the time it takes to connect on a fast server depending on the folders content probably much more on a raspberryit turns out that even a  delay is noticeable when you do a ab comparisoni propose the following change cache the data structures which are built after receiving fresh data it might not be possible to cache everything because of the memory it would require i guess send the folders etag to listphp the server returns an empty files array if the etag is the same as the current one the client uses either the cache or the fresh data depending on if theres been an etag change or notletting the files experts decide if thats feasible and worth itschiesbn  butonic lukasreschke   ,Not_TD,TD
855,this ticket  will add a new helper for translations in handlebars templatesthese should also be parsed properly by the  script at least once that pr is  ,Not_TD,Not_TD
856,"updating to 

ocrepairexception upgrade is not possible
repair warning you have incompatible or missing apps enabled that could not be found or updated via the marketplace
repair warning please install or update the following apps manually or disable them with occ appdisable filesreader occ appdisable passman
repair warning for manually updating see 
detailed logs 
preparing update
set log level to debug
turned on maintenance mode
repair warning you have incompatible or missing apps enabled that could not be found or updated via the marketplace
repair warning please install or update the following apps manually or disable them with occ appdisable filesreader occ appdisable passman
repair warning for manually updating see 
ocrepairexception upgrade is not possible
the update was unsuccessful please report this issue to the owncloud community


thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 steps to reproduce




 expected behaviour
tell us what should happen

 actual behaviour
tell us what happens instead

 server configuration
operating system

web server

database

php version

owncloud version see owncloud admin page

updated from an older owncloud or fresh install

where did you install owncloud from

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here



the content of configconfigphp


log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder


are you using external storage if yes which one localsmbsftp

are you using encryption yesno

are you using an external userbackend if yes which one ldapactivedirectorywebdav

 ldap configuration delete this part if not used


with access to your command line run eg
sudo u wwwdata php occ ldapshowconfig
from within your owncloud installation folder

without access to your command line download the dataownclouddb to your local
computer or access your sql server remotely and run the select query
select  from ocappconfig where appid  userldap


eventually replace sensitive data as the nameipaddress of your ldap server or groups


 client configuration
browser

operating system

 logs
 web server error log

insert your webserver log here


 owncloud log dataowncloudlog

insert your owncloud log here


 browser log

insert your browser log here this could for example include

a the javascript console log
b the network log 
c 

",Not_TD,TD
857,whenever  mounts a remote share from  they should both get access to the list of versionsnote this might require adding new apis for versions to make it possible to remotely get the list of versions to display them in the dropdown download a specific version revert to a specific versionalso operations like moving a local file into the share should also preserve  copy the versions to the owners owncloud since versions are always stored at the owners placeownclouddesigners schiesbn  ,Not_TD,TD
858," steps to reproduce
 create a user called 
 share a file via api with 
 as  check if you received the file

similar to 
related to  was reverted because of  

tests for this case were snake oildrum 

 expected behaviour
sender should see the file as shared
receive should receive the file

 actual behaviour
api replies to the sender that everything is fine
sender sees the file as shared
receiver cannot access the file

 server configuration
operating system
ubuntu 
web server

database
sqlite
php version

owncloud version see owncloud admin page
 prealpha
updated from an older owncloud or fresh install
fresh
where did you install owncloud from
git
 logs
 curl

curl u adminadmin  d 


 
  ok
  
  
  
  
 
 
  
  
  admin
  admin
  
  
  
  
  
  admin
  admin
  loremtxt
  file
  textplain
  homeadmin
  
  
  
  
  loremtxt
  
  
  
  
  
 



",Not_TD,TD
859," steps to reproduce
 mounting an admin mountpoint
 no possibility to share a subfolder only the complete mount
 this is bad when you have external drives like gd dp ect
 as an admin you cant share a subfolder even admin mount with yourself
 if possible this mount would then be also for the admin visible in the client for syncing if shared

 tell us what should happen
sharing of a subfolder

 actual behaviour
only full mountpoint sharing

 server configuration
operating system ubuntu 

web server nginx

database maria

php version 

owncloud version 
",Not_TD,TD
860,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 modify settingsjsusersusersjs page to include some code to messure time

    add the following code in lines  and  of the file
    
                    get
                        ocgenerateurlsettingsusersusers
                         offset userlistoffset limit limit gid gid pattern pattern 
                        function result 
    consolelogdatenow   new line added  
                                var loadedusers  
                                var trs  
    
    
                                    else 
                                        userlistnomoreentries  true
                                        userlistsiblingsloadingremove
                                
                                userlistoffset  limit
    consolelogdatenow   new line added  
                        alwaysfunction 
                                userlistupdating  false
                        
    
 make sure you have more than  accounts in the system
 go to the users page check you get  timestamps in the developer console of the browser
 scroll down until new accounts are requested and check again the new timestamps
 keep on  some more times

 expected behaviour
the difference between those  timestamps remains almost constant depending on the number of accounts being loaded

 actual behaviour
the difference increases each time we request new accounts this means that although the number of users to be loaded is the same each time will take longer to show those users in addition the the interface will be blocked until the users are shown causing really bad ux if the number of users is high

 server configuration
operating system ubuntu 

web server apache 

database mysql

php version 

owncloud version 

updated from an older owncloud or fresh install fresh

  ",Not_TD,Not_TD
861,"emails sent by owncloud has a specific from header that can be set in the general settings for the admin email server section you can specify the email address owncloud will use to send emails

email servers usually allow to include a displayname probably more userfriendly along with the email address this is usually displayed in the email server as my friendly name  instead of 
i guess this displayname should be associated with the email although i dont know how the email servers will behave if multiple displaynames are used with the same email


from a technical perspective the owncloud mailing component automatically set the from header with the one set in the configuration only if that header hasnt been set in the email in this case the from header will just use the email address set in the configuration
if we want to include a displayname there are a couple of things to be considered
 should the displayname be part of the email configuration should this be used as part of the default email address
 do we want to include specific support in some parts of owncloud notifications for example to use a different displayname and  or email address other than the default

in addition while custom email headers can be added well likely need to rely on the underlying library used by the ownclouds email component or add support on owncloud note that these headers might not be visible to the user in whatever email client he might use

some additional research is in ",Not_TD,Not_TD
862,its fine to have ratings for apps coming from the app store but we should be able to trust some apps just like we can trust pgp keyscurrently privates apps are shown as experimental and dangerousid like to be able to put my trusted apps in a folder and get them recognized as such in the settings a blue label would look nice appspaths  array    array        path varwwwowncloudcorporateapps        url  corporateapps        writable  false        trusted  true    ,Not_TD,TD
863,when a external storage is disconnected eg network issue the favorites are not displayed this was made in  as a quick solution its better to hide one then to have an exception which blocks the complete favorite listhowever better ux would be to either still list the file and display a warning on the row or at least put a warning at the top of the page that some files are not listed due to  agreed on this ,Not_TD,TD
864,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 steps to reproduce
 started update in browser
 update hanged
 edited file configphp
 reload owncloud in browser
 pressed button update
 got errormessage
 update vorbereiten
loglevel auf debug gesetzt
wartungsmodus eingeschaltet
reparaturwarnungyou have incompatible or missing apps enabled that could not be found or updated via the marketplace
reparaturwarnungplease install or update the following apps manually or disable them with occ appdisable templateeditor
reparaturwarnungfor manually updating see 
ocrepairexception upgrade is not possible
 cannot login to owncloud anymore
 
 expected behaviour
i want to get access to my data

 actual behaviour
cannot login to owncloud anymore

 server configuration
operating system

web server

database

php version

owncloud version see owncloud admin page

updated from an older owncloud or fresh install
tried update to aktualisierung auf   but failed
where did you install owncloud from
goneo clickstart

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here

cannot login


the content of configconfigphp
php
config  array 
  instanceid  
  passwordsalt  
  secret  someletters
  trusteddomains  
  array 
      
  
  datadirectory  
  overwritecliurl  
  dbtype  mysql
  version  
  dbname  dbname
  dbhost  localhost
  dbtableprefix  oc
  dbuser  dbuser
  dbpassword  secret
  logtimezone  utc
  installed  true
  updatersecret  
  loglevel  
  maintenance  false



log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps
i remember only standard installation

if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder




 client configuration
browser
firefox  

operating system
ubuntu mate 
 logs
 web server error log


insert your webserver log here


 owncloud log dataowncloudlog

insert your owncloud log here
where do i get this without login


",Not_TD,Not_TD
865,as an owncloud user i would like to be able to select a shared folder root that is nonstandard so that all files and folders that are shared with me go where i want them in my account rather than where the admin default has been setacceptance criteria admin can still set the default for the entire server in configphp for the shared root user that gets a share simply gets the share placed in the default location for the system user may set a tab in the personal page labeled shared file path that allows the user to select one of their folders in the existing owncloud filesystem as the root for all files shared with them  personal setting can be changed at any time and the user can opt to automatically migrate all files shared with me  this moves only the shared folders and files inside the old personal setting to the new personal setting not folders that were dragged manually somewhere else personal setting can also be removed so that the system default is once again applied  this also prompts the user if they want to migrate the files already shared with them user can still decide to drag around a shared folder at any time and put it anywhere this default is just to set the mount for when a file is shared with you,Not_TD,TD
866," steps to reproduce
 use the sharing api to share welcometxt with permissions  create and delete

see example scenarios in 

 expected behaviour
who knows

 actual behaviour
share has permissions   read

 server configuration
operating system
ubuntu 

web server
apache

database
mysql

php version


owncloud version see owncloud admin page
current core master

create  and delete  permissions are not relevant when sharing a file 

if you ask for readupdatecreatedelete  you get readupdate  and success status that seems reasonable

if you ask for just update  then you get readupdate  and success status that also seems reasonable but maybe there is a use case for giving someone update access without read  they can write a new version of the file but are not allowed to read what is currently in the file

if you ask for createdelete  then that seems a really invalid dumb thing to do you get read access  and success status but maybe a request like this should return an error ",Not_TD,Not_TD
867, steps to  share  page  open share  switch to shared with  open share   switch to all  open share  share  switch to shared with  open share sidebar expectedthe share sidebar shows the share actuallyit does not intermediate problemwhen you perform the unshare and share operation from the shared with others section skip  the item is added a second time to the list maybe that is part of a hidden problem which just causes the othercc  ,Not_TD,TD
868,helloi like to recommend an enhencement i would be great to use the user variable in the display name field in external storage directory in  setting the display name to user in the admin section leads to a folder called user instead of the usernamefor our home directories i would like to set the display name of the folder home to the username like its shown for the windows network share ,Not_TD,Not_TD
869, steps to  added federation or owncloud id of a friend expected behaviourtell us what should happen actual behaviourtell us what happens insteadsince adding and later on deleting the owncloud id of a friend my owncloud log is filling with lots of error messages twice a second server configurationoperating systemarch linux arm for ordidxweb servernginxdatabasemysqld   version see owncloud admin  from an older owncloud or fresh installfresh install after it crashed beforewhere did you install owncloud fromarch aursigning status owncloud  and abovelogin as admin user into your owncloud and access integrity checker has been disabled integrity cannot be verifiedpaste the results herelist of activated appsenabled   adminmigrate    calendar    comments    contacts    dav    federatedfilesharing    federation    files    filesodfviewer    filespdfviewer    filessharing    filestexteditor    filestrashbin    filesversions    filesvideoviewer    firstrunwizard    news    provisioningapi    systemtags    templateeditor    updatenotification    usermigrate    activity   apptemplate   djangoauth   emoji   encryption   encryptiondummy   external   filesarchive   filesexternal   filessgfviewer   filessvgedit   fluxxcompensator   impress   imprint   ownpadlite   pong   pushnotifications   reader   search   tattoo   testing   userexternal   userldap   useroauth   useropenidprovider   userpersona   usersaml   uservd   userwebfingerthe content of configconfigphp    system         instanceid         passwordsalt removed sensitive value        secret removed sensitive value        trusteddomains             owncloudmnethomede                datadirectory         overwritecliurl httpsowncloudmnethomede        dbtype mysql        version         dbname ownclouddb        dbhost localhost        dbtableprefix oc        dbuser removed sensitive value        dbpassword removed sensitive value        logtimezone utc        installed true        mailsmtpmode smtp        mailfromaddress tobiasmasiak        maildomain mnethomede        mailsmtpsecure ssl        mailsmtphost smtpvariomediade        mailsmtpport         mailsmtpauthtype login        mailsmtpauth         mailsmtpname removed sensitive value        mailsmtppassword removed sensitive value        theme         loglevel         maintenance false    are you using external storage if yes which one localsmbsftpnoare you using encryption yesnonoare you using an external userbackend if yes which one ldapactivedirectorywebdavno ldap configuration delete this part if not usedwith access to your command line run egsudo u wwwdata php occ ldapshowconfigfrom within your owncloud installation folderwithout access to your command line download the dataownclouddb to your localcomputer or access your sql server remotely and run the select queryselect  from ocappconfig where appid  userldapeventually replace sensitive data as the nameipaddress of your ldap server or groups client configurationbrowserfirfoxoperating systemwindows  antergos logs web server error logno logs regarding the error described aboveinsert your webserver log hereno logs regarding the error described above owncloud log dataowncloudlogthese line were written two times per second into the  error  ssl no alternative certificate subject name matches target host name  error  ssl no alternative certificate subject name matches target host name  browser loginsert your browser log here this could for example includea b c,Not_TD,Not_TD
870,as the app catalogue grows were bound to see several apps trying to tackle the same problems and there will be incompatibilitieswhat do you think about introducing a conflicts entry in infoxml        it could become a pain for app devs to track every app which conflicts with their own but changing one line in one file will probably take less time than having to reply to the same support issues over and overraydiation ,Not_TD,TD
871,"sergiobertolinsg we should add this to drone in the db matrix working on documenting a nice setup but essentially we need the following containers
   mariadb containers with an injected config
   maxscale container with an injected config

we then install owncloud and point it at the maxscale db port maxscale must have a network connection to the other three nodes

in testing i have been playing with  for the db containers and  for maxscale i then mounted in confetcmysqlconfd to provide my own mariadb conf at the moment i was using the default maxscale configuration we can hardcode the hostnames of the db servers if they are always created in a network and can resolve each other likewise username and password and db name is passed in to the database container both maxscale and maraidb need this",Not_TD,TD
872," steps to reproduce
 login into the owncloud instance
 open any file  logout the session
 click the back button repeatedly

 expected behaviour
login page should be displayed

 actual behaviour
previously used login instance is being shown

 server configuration
operating system centos   bit

web server apache

database mysql

php version 

owncloud version see owncloud admin page 

updated from an older owncloud or fresh install fresh

where did you install owncloud from bitnami stack

signing status owncloud  and above valid


",Not_TD,Not_TD
873,when deleting a huge folder with subfolders it can take a long time to move it to trash especially if from external storageone idea would be to first rename the folder test to testpart to make it invisible to regular file operations at this point neither web ui nor sync client will see it so it will appear as deleted while the testpart folder is still being moved to trashsuch idea could in some way also be applied to crossstorage renames the ones where copy is not avoidable the target folder could first be written as targetpart on the target storage and once all files are there rename it to the final onewhat do you think  schiesbn  karlitschek  ,Not_TD,TD
874,"when the systemwide sharefolder is defined for example to shares then users see a folder called shares and their received shares are inside that

a user can try to share the shares folder add api tests that try to do that and document the current behaviour 

then someone can decide what is the desired behaviour
",Not_TD,TD
875,when opening the owncloud files list in a browser on a mobile device file and folder names are not readable the affected mobile has a screen width of  inches and a resolution of  x  screenshot can found in this i would be great if the layout would be improved for small devices,Not_TD,TD
876,this is a solution proposal for feature request ability to exclude external storage mounts from being synced by sync client  and external storage  all files and client sync hide  in the current situation we can create groups assign this groups to users and assign these groups to mountsfolders to share repectively give them access tofeaturethis fr is about to be able to create groups which can be treated slightly differently that the default procedure and therefor used to exclude mountsfolders from beeing syncedsstandard nnew s create groups via the standard process n assign these groups to be special however we call that  admin page or  user page s assign the group to a mount point n at folder sharing create a new entry called exclude sync and only use the special groups n  user administration define default groups to be assigned when user is beeing setup n occ command for group management occ usergroup      processwhenever a dav client accesses the instance we check if the dav client is the owncloud sync client eg checking if mirall is in the header see log examples below if no proceed as usual if yes additionally check if a special group exists for the accessing user this is just an extension of the current procedure as it must check that anyway but in case a special group exists it overrides any access given and returns the the calling procedure like you have no access this is like no sharing and therefore no change is needed in the sync clientbonus admin driven  no changes needed in the owncloud sync client other dav clients can see and process data as usual  this is explicitly wanted  easy extension of existing methods  exclusion can be made everywhere in the shared tree the first one triggers works with all user backendsowncloud sync clientwwxxyyzz  userx  get       windows  build   userx  propfind remotephpwebdav      windows  build   userx  propfind remotephpwebdav      windows  build  dav client carotdavwwxxyyzz    propfind remotephpwebdav       userx  propfind remotephpwebdav       userx  get remotephpwebdavfaviconico         get faviconico       userx  propfind remotephpwebdavdocuments       ,Not_TD,TD
877,would be nice to have an option to disable a storage or set if offline without deleting it,Not_TD,TD
878," description
with pr  previews of text files that have unicode characters have been improved after we make test scenarios for previews with ordinary text add some examples with nepali characters",Not_TD,Not_TD
879,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 steps to reproduce
 log in as a group administrator of a group with at least one member and enter the user panel
 change a users email address
 the circle next to the email address is spinning endlessly
 the put request results in logged in user must be an admin

 expected behaviour
in the docs at  it reads
  group administrators have the rights to create edit and delete users in their assigned groups

so it is expected that the email address can be changed

 actual behaviour
after having changed an email address the circle next to the email address is spinning endlessly

 server configuration
operating system
ubuntu 

web server
apache 

database

php version
php 

owncloud version see owncloud admin page


 client configuration
irrelevant

 owncloud log dataowncloudlog

 app in contextmethodputurlowncloudindexphpsettingsadmintestmailaddressmessagelogged in user must be an admin


 browser log

put   forbidden
uncaught typeerror resultresponsejson is undefined



edit reference ",Not_TD,Not_TD
880,"  add the previous exception in  and other locations in remotephp
  extend loglogexception to also log the first level of recursion of exceptiongetprevious also with sanitized args

this could help debugging errors that happen early in the initialization process related to dav
normally id expect the exceptions to happen much later and have a better stack trace

 butonic tomneedham as discussed",Not_TD,TD
881,"hi
i am trying to name a file in owncloud with a tilde  in it every time i do it changes to an underscore or dash i was just wondering if there was anyway to get pass this
thanks",Not_TD,Not_TD
882,"this test does not have a then step what should the outcome be
link to test 
added by  
",Not_TD,Not_TD
883,"pr  reported some years ago that there was a problem that app passwords disappeared when a user changed their ordinary password i dont think that we cover this sequence of events

a a test scenarios to cover a sequence like
 a user adds an app password
 the user uses the app password successfully
 the user changes their ordinary password
 the changed ordinary password works
 the app password still works

add for
 basic auth
 ldap might need to add a scenario in the api tests of the userldap app",Not_TD,TD
884,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 

same as 
fixed by 

 steps to reproduce

 create a calendar as admin
 create a user  that is part of  and 
 share calendar with 
 share calendar with 
 tick the can edit box for 

 expected behaviour
user  should be able to create events and see the calendar in the normal list

 actual behaviour
user  sees the calendar in the subscription list and therefor can not add events

 server configuration
operating system freebsd

web server apache 

database mysql 

php version 

owncloud version 

updated from an older owncloud or fresh install updated

where did you install owncloud from github source tar ball

signing status owncloud  and above htaccess is modified some headers are set in the apache config




    system 
        instanceid 
        passwordsalt removed sensitive value
        trusteddomains 
            webmailiprode
            cloudiprode
        
        datadirectory usrlocalwwwownclouddata
        dbtype mysql
        version 
        dbname owncloud
        dbhost removed sensitive value
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        installed true
        forcessl true
        mailfromaddress removed sensitive value
        mailsmtpmode smtp
        maildomain removed sensitive value
        mailsmtpauthtype login
        mailsmtpauth 
        mailsmtphost removed sensitive value
        mailsmtpport 
        mailsmtpname removed sensitive value
        mailsmtppassword removed sensitive value
        defaultlanguage de
        defaultapp calendar
        theme 
        maintenance false
        secret removed sensitive value
        logtype owncloud
        loglevel 
        logfile usrlocalownclouddataowncloudlog
        trashbinretentionobligation auto
        hasinternetconnection true
        memcachelocal ocmemcacheapcu
        overwritecliurl owncloud
        appspaths 
            
                path usrlocalwwwowncloudapps
                url apps
                writable true
            
        
    



list of activated apps
enabled
   activity 
   announcementcenter 
   calendar 
   comments 
   configreport 
   contacts 
   customgroups 
   dav 
   directmenu 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   gallery 
   guests 
   market 
   notifications 
   provisioningapi 
   systemtags 
   templateeditor 
   updatenotification 

disabled
   encryption
   external
   filesvideoplayer
   firstrunwizard
   userexternal



are you using external storage if yes which one no

are you using encryption no

are you using an external userbackend if yes which one no



 client configuration
browser firefox 

operating system windows 

",Not_TD,Not_TD
885,its common to have a little cross at the end of the search field to be able to clear the current search without having to delete everything first owncloud should have itjancborchardt ,Not_TD,TD
886,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
this was reported first as 

my workaround was to keep using  which used to work just fine with all clients

however the  now forces you to upgrade the server to  as it flags all older versions as unsupported and automatically pauses synchronization

the issue when synchronizing a folder on an ios device with the readdle documents webdav client all folders and files show up in the first level of the synced folder files are fine but files in any subfolder show up as empty folders not documents the document contents can never be accessed

say you sync this folder structure

mydocs

sub



then  would be ok but  would show up as an empty folder the name 

all other features including owncloud desktop client sync works fine the same ios device syncs files and folders from an  or  just fine


 steps to reproduce
 create a folder structure with subfolders
 sync to readdle documents on ios
 check any document in a subfolder

 expected behaviour
documents should be documents

 actual behaviour
documents show up as empty folders

 server configuration
operating system
ubuntu  lts

web server
apache 

database
mariadb 

php version
php 

owncloud version see owncloud admin page
owncloud  stable

updated from an older owncloud or fresh install
fresh install

where did you install owncloud from


signing status owncloud  and above
no errors have been found

the content of configconfigphp


list of activated apps


   activity 
   calendar 
   comments 
   configreport 
   contacts 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   firstrunwizard 
   gallery 
   market 
   notifications 
   provisioningapi 
   systemtags 
   templateeditor 
   updatenotification 
   userldap 
disabled
   encryption
   external
   userexternal


are you using external storage if yes which one localsmbsftp
no

are you using encryption yesno
luks

 browser client configuration
browser
 official build built on ubuntu

operating system
ubuntu 

 ios client configuration
client
 

operating system
ios 

 logs
 web server error log
no errors were logged when syncing the folder

 owncloud log dataowncloudlog
no entries were logged when syncing the folder

 browser log
no issue with the browser
",Not_TD,Not_TD
887,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 log in to owncloud as a regular user
 go to settings  security

 expected behaviour
cors setting should not be displayed for a regular user maybe only an admin option

 actual behaviour
every user can configure it





 server configuration
operating system

web server

database

php version

owncloud version see owncloud admin page


pmaier  
fyi michaelstingl ",Not_TD,Not_TD
888,  create a folder  upload some pictures into it for  share test with  log  open link expectedno errors in log   is not a valid directory resource at   is not a valid directory resource at   is not a valid directory resource at  versionsowncloud  and masterthe log entries only appear the first time the public thumbnails are creatednote i opened the link in chromium  georgehrke ,Not_TD,TD
889," steps to reproduce
 create a filedrop link
 follow the link
 upload some files

 expected behaviour
you should see immediately that something has changed in the ui after the first file is completely uploaded so that you are not tempted to upload files twice

 actual behaviour
the text is small and not much highlighted

img  altimage src

 server configuration
owncloud version
",Not_TD,Not_TD
890,in some apps like the notes app you might have typed in stuff that hasnt been saved yetif the session times out as per  you will be redirected to the login page and would lose the notesinstead of the redirect what should happen is that an overlay grays out the page and a popup dialog appears to prompt for the credentials for relogin some trickery might be needed in case of sso like reauthing inside an iframeafter logging in again the overlay disappears and work can resumejancborchardt bernhardposselt morrisjobke  lukasreschke karlitschek ,Not_TD,TD
891," steps to reproduce
 i have no idea why this error popped up

 expected behaviour
no php error message

 actual behaviour
trying to access array offset on value of type bool at 

this is the erroring line is
nextversion  firstversion  step

 server configuration
operating system ubuntu 

web server nginx

database mariadb

php version 

owncloud version  stable

updated from an older owncloud or fresh install updated

where did you install owncloud from tar

signing status owncloud  and above


all green



the content of configconfigphp



list of activated apps


enabled
   activity 
   audioplayer 
   comments 
   configreport 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesclipboard 
   filesexternal 
   filesexternaldropbox 
   filesexternalftp 
   filesmediaviewer 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   firstrunwizard 
   market 
   notifications 
   provisioningapi 
   systemtags 
   templateeditor 
   updatenotification 
disabled
   encryption
   external
   guests
   userexternal


are you using external storage if yes which one localsmbgd

are you using encryption no

are you using an external userbackend if yes which one none

 client configuration
browser opera

operating system 

 logs
 web server error log

no relevant entry


 owncloud log dataowncloudlog

trying to access array offset on value of type bool at 
",Not_TD,Not_TD
892,if the underlying file system local or external supports extended attributes how about storing the owncloud fileid there this would make it possible to discover remote renamesmoves  restore ocfilecache entries when rescanning files in case of db crash  and still be able to remap them to the correct  morrisjobke  xenopathic ,Not_TD,TD
893,in this situationif i want to rename file in favorite pagethere will be something wrongso i thinkmaybe we should modify this,Not_TD,TD
894,"

 changed files 

 appsdavlibcommandcleanupchunksphp   

 check if disallowed file was changed 

  no file disallowed to be skipped was changed


tests should be run when source code changes in apps directories",Not_TD,Not_TD
895,devs have no choice but use some private apis which have no ocp equivalent and by doing so their apps are being flagged as being not compliant those methods should be listed but have no impact on the apps compliance statusalso the app checker should treat code located in the vendor folders differentlyissues should still be reported so that an admin can estimate the quality of the libs chosen to support the app but it shouldnt have an impact on the apps compliance status,Not_TD,TD
896,current situationevery message has the same style black color on yellow backgroundcolor its very hard to distinguish between different message types example if i write an email with the mail app i get the same message style when the email was sent without errors or if the email could not be sentsuggestionthere should be a difference between the message types success green info blue warning yellow error redsee for example the atlassian design guidelinescc ownclouddesigners cc jancborchardt ,Not_TD,TD
897,when clicking through the navigation menu in the top left the icon is replaced with a loading gifif a user is uploading a file and attempts to move pages a pop up warning appears saying there is a file upload in progress at that stage if the user stays on the page to complete the upload the navigation icon should be restored to the defaultat the moment if the user stays on the same page the loading gif still continues to display in the navigationthis is in the main files section windows  chrome ,Not_TD,TD
898,right now user provisioning api  doesnt allow to set or get the avatar of a user it should be great  if the api can handle avatar to be able to manage users externallythankscedric ,Not_TD,TD
899,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 create a public link with upload only permission
 upload a file to the public link eg testtxt
 using the old public webdav api try to upload another file with same name testtxt
bash
curl  u  x put h contenttype textplain dataraw hello world v


 expected behaviour
the file should be uploaded with new name eg test  that is the current behavior when using the new public webdav api 

edit  looks like the renaming is only possible when setting header ocautorename  but since it is a default behavior in the new public webdav api shouldnt it be the same in the old one

 actual behaviour
we get http  and the file is not uploaded
the user gets following response and the file is not created
 xml

derror xmlnsddav xmlnss
  sabredavexceptionforbidden
  



 server configuration
operating system ubuntu 

web server apache

database mysql

php version 

owncloud version see owncloud admin page owncloud  git

updated from an older owncloud or fresh install fresh

where did you install owncloud from git
",Not_TD,Not_TD
900,for the maps app for sure and maybe for calendar it would be very cool if the app can specify to hide the left navigation by default this is similar to how google maps worksideally this would be exposed as a parameter in core cc henni djaeger stefanniedermann as discussed in ,Not_TD,Not_TD
901,the »activity« tab replaces the existing activity tab and merges the activities versions and comments into a single chronological streamit works as follows activity app registers timeline plugin which provides a timeline collectionaccessor must return ungrouped activities comments module registers timepline plugin which provides a timeline collectionaccessor versions app registers timeline plugin the timeline tab queries all the timeline plugins and merges the results together based on their date fieldone idea would be to provide a base collection implementation that can be extended by plugins to point to the correct endpoint and also transform the results if neededill take care of writing the timeline related stuffsupersedes older ticket nickvergessen blizzz  jancborchardt ,Not_TD,Not_TD
902,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
we currently have as of 

      configappdelete
      configappget
      configappset


      configsystemdelete
      configsystemget
      configsystemset

but there is no configapplist command for a given app name provided
this fr would list all config names available for a particular app
if not possible for all apps this can be done eg for core and be documented

true in the same way also for configsystem configsystemlist

how does an admin know which names are available in eg the core app or in system
this also would relieve documentation needs

 vicdeo  
",Not_TD,Not_TD
903,itd be great if you could disable internal storage or at least remap it to use external smb storagethis would mean you could keep your owncloud server as a web server and use your standard smb file storage for all files one less place to backup and one less file server running a web app,Not_TD,TD
904,when user selected the echo typed characters function click onto the eye symbol the typed characters become visibleimg srci proposed to immediately automatically disable this echo function when user leaves the new password input element currently it has no id but name attribute namepersonalpasswordclone‒ or if you find my above action too strict ‒ disable the echo function when user clicked the change password button at the latest when user leaves the password form element form idpasswordform,Not_TD,TD
905," steps to reproduce
 login with ldap account local accounts are working fine
 create file on builtin storage where owncloudmanualpdf and  folders are located at by default using the web browser firefox in my case
 share the file create a public link and try to send an email 

 expected behaviour
email should be sent

 actual behaviour
an error occurs details from the log file

 offset  at 
 send mail with public link to userdomaincom address in mailbox given  does not comply with rfc  

i have already seen issue  but on owncloud  there seems nothing to do regarding modifying those two files also this is not a general error it only affects ldapusers

 server configuration
operating system linux ubuntu  lts

web server apache 

database mysql

php version 

owncloud version see owncloud admin page 

updated from an older owncloud or fresh install updated from  to  then os update ubuntu  lts to  lts and owncloud update to 

where did you install owncloud from official installer on owncloudorg

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here

no errors have been found
",Not_TD,Not_TD
906, minutesqueriesselect                                                                                                                                                                                                               log see ,Not_TD,Not_TD
907,"see  relates to  tested with 

when using the chunked uploading codepath for deltauploads the final move of filezsync does not succeed instead an  locked error is returned

background normally chunked uploads are complete ie all data gets uploaded and the its assembled when the file file is moved to the final location for deltasynczsync chunked uploads only some of the data is uploaded and then a filezsync file is moved to the final location this move should use parts of the existing data and the new data that was uploaded to generate the final file and uses a new and so far rarely used codepath going through appsdavlibuploadassemblystreamzsyncphp

server trace



messageexception   file is locked exceptionocadavconnectorsabreexceptionfilelockedmessagefile is 
trace
  ocadavconnectorsabrefileget
  ocadavuploadassemblystreamgetstreamobjectocadavconnectorsabrefile
  
  freadresource id  
  ochelperstreamcopyresource id  resource id 
  ocadavconnectorsabrefileputresource id 
  ocadavconnectorsabredirectorycreatefilefile resource id 
  sabredavtreecopynodeobjectocadavuploadfuturefilezsync objectocadavconnectorsabredirectory file
   filesadminwis
   filesadminwis
   filesadminwis
   filesadminwis
   filesadminwis
  sabredavserveremitbeforemove array
  sabredavcorepluginhttpmoveobjectsabrehttprequest objectsabrehttpresponse
  sabredavserveremitmethodmove array
  sabredavserverinvokemethodobjectsabrehttprequest objectsabrehttpresponse
  sabredavserverstart
  sabredavserverexec
  ocadavserverexec
  requireoncevarwwwownclo
 


i guess that the assemblystreamzsync cant open the original file for reading because its locked

to reproduce with a client see  otherwise follow the script in 
 upload a  file full of zeroes
 create a chunked upload
 upload a  append to the file
 upload the new zsync file
 trigger the final move
  locked",Not_TD,TD
908,use  user a shares a file with user  user b downloads the file via webdesktop  user a is notified that user b has downloaded the file and via which method  web desktop client or mobileit would also be desired to have this tracked in an audit trail like the activity or via a reporting mechanismmtrichards ,Not_TD,Not_TD
909,"i have an error on a fresh installation  via installation wizard

 exception exceptiondoctrinedbalexceptiondriverexceptionmessagean exception occurred while executing create table ocactivity activityid int autoincrement not null timestamp int default  not null priority int default  not null type  default null user  default null affecteduser  not null app  not null subject  not null subjectparams  not null message  default null messageparams  default null file  default null link  default null objecttype  default null objectid int default  not null index activitytime timestamp index activityusertime affecteduser timestamp index activityfilterby affecteduser user timestamp index activityfilterapp affecteduser app timestamp index activityobject objecttype objectid primary keyactivityid default character set  collate  engine  innodb rowformat  compressednnsqlstate syntax error or access violation  row size too large the maximum row size for the used table type not counting blobs is  this includes storage overhead check the manual you have to change some columns to text or blobs 

our system at our provider
 freebsd 
 apache 
 php 
 

to reproduce
 upload and extract  to webroot
 create database and user set filepermissions 
 browse to folder owncloud
 define adminuser datafolder dbsettings in wizard
 run wizard
 error

there are quite similar issues here  and  but since i am not a coder nor an sysadmin i cannot follow the instructions there 

any help for a dummyinstaller ",Not_TD,Not_TD
910,"seen in  without enabling encryption

 user admin creates a text file in his documents folder and does a few edits i used a file called eicarcomtxt  stressing the virus scanner a bit
 versions get saved
 user admin shares the documents folder with user 
 we add filestoragesaveversionauthor  true to configphp
  and admin alternatingly edit the file admin uses both filestexteditor and a desktop client
 the activities look like this




 the versions log looks like this



at ca  min in the past saveversionsauthor was set to true
thus it is correct that there is no author information on older versions
but newer versions never mention  his edits appear anonymous while the edits of user admin are correctly attributed
the corresponding json files are missing


 find varwwwownclouddata name eicar
varwwwownclouddataadminfilesdocumentseicarcomtxt
varwwwownclouddataadminfilesversionsdocuments 










varwwwownclouddataadminfilesversionsdocumentseicarcomtxtcurrentjson

















",Not_TD,Not_TD
911,feature request the ability to symlink files in the owncloud synced folder on the local computeras per this discussion at githubowncloudmirall this is possible in dropbox see purpose to allow a more unified collection in the owncloud sync folder and including files from other directories this is standard feature in dropbox and users accustomed to working under this paradigm might expect the same functionality heres a few comments from users in that thread requesting this supportthe moderator danimo in that thread responded its impossible and to open a feature request in core danimo commented  the main problem is that the sever is not capable of storing symlinks feel free to open an issue in core about thatthanks for your hard work devs and will appreciate any consideration of this idea awesome application,Not_TD,Not_TD
912,"i noticedwhen trying announcementcenter that announcements are only shipped when cron is run tomneedham 

which is every  minutes when you configure according to documentation but maybe more when webcron or ajax cron is used 
so when using system cron the magic  minute value is also in cronphp  

my gut feeling would say that background jobs should be run much more often once per minute then my announcement notification would have showed up much earlier

but butonic would disagree as jobs could take ages 
although we support concurrent cronphp invocations though so maybe its not an issue as a job would get locked while it is executed so in the next minute would run another job

thanks  for the chat

maybe this issue is a duplicateoverlap with 

",Not_TD,TD
913," steps to reproduce
 in your account go to settings
 reduce the browser window width under  menu on the left disappears and a menu burger appears

 actual behaviour
the headline and content are covered by the menu burger





 expected behaviour
the headlines and content are not covered by the menu burger 
in the files view section everything looks good



 server configuration
owncloud version see owncloud admin page
tested in   

 client configuration
browser
chrome version 
operating system
macos ",Not_TD,Not_TD
914,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
i honestly dont really know what the steps to reproduce are it happens very randomly

 expected behaviour
every file should sync as usual

 actual behaviour
some files are not synced instead owncloud client on mac and windows report a  move error

 server configuration
operating system
linux ubuntu 

web server
apache

database
mysql
php version

owncloud version see owncloud admin page


updated from an older owncloud or fresh install
fresh install

where did you install owncloud from
download the production targz uploaded to our server via ftp

signing status owncloud  and above





are you using external storage if yes which one localsmbsftp
no

are you using encryption yesno
not sure

are you using an external userbackend if yes which one ldapactivedirectorywebdav
no

 client configuration
browser
using the latest native client on macos  macos  and windows  all report the same problem

operating system
see above

 logs

 owncloud log dataowncloudlog
just posting the relevant data here

 a session is active you cannot change the session modules ini settings at this time at 
 index permissions at 
 exceptionerrormessagecall to a member function getid on 
  ocfilesfileinfoissharedn
  ocfilesfileinfogetpermissionsn
  
  ocfilesfileinfoisupdateablen
  ocadavconnectorsabrefileputresource id 
  ocadavconnectorsabredirectorycreatefileimmobilienbild resource id 
  sabredavtreecopynodeobjectocadavuploadfuturefile objectocadavconnectorsabredirectory immobilienbildn
   
   
   
   
  calluserfuncarrayarray arrayn
  sabreeventeventemitteremitbeforemove arrayn
  sabredavcorepluginhttpmoveobjectsabrehttprequest objectsabrehttpresponsen
  calluserfuncarrayarray arrayn
  sabreeventeventemitteremitmethodmove arrayn
  sabredavserverinvokemethodobjectsabrehttprequest objectsabrehttpresponsen
  sabredavserverexecn
  ocadavserverexecn
  
 

",Not_TD,Not_TD
915,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 owncloud  with a customer theme installed containing an appphp
 deploy a new version of the theme with a higher version number

 expected behaviour
upgrade required run occ ugrade and all is shiny

 actual behaviour

occ an occ upgrade throw this 


ocneedsupdateexception in 
stack trace
  ocapploadappthememytheme
  ocapploadappsarray
  ocinit
  requireonceuserstomneedh
  requireonceuserstomneedh
 main


blocked here ",Not_TD,Not_TD
916," steps to reproduce
 create a public link with rw permissions
 access that link with a browser
 try to delete a file that is just visible in the browser window

 expected behaviour
the file list should scroll up so that the file action menu is visible

 actual behaviour
the file action menu stays hidden user needs to scroll manually
if other menus are opened they partly overlap


there was a very similar bug in the normal filelist of the user a long time ago i just cannot find it now

 server configuration
operating system
ubuntu 
web server

database
sqlite
php version

owncloud version see owncloud admin page
 git
updated from an older owncloud or fresh install
fresh
where did you install owncloud from
git
 client configuration
browser
ff   chrome 
operating system
ubuntu 
",Not_TD,Not_TD
917,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 configure password policy app like this

 set englisch as your default language
 create a public link

 expected behaviour
the error message that appears if i´m not compliant with the password policy apps ruleset should be in englisch

 actual behaviour



 server configuration

owncloud version 

updated from an older owncloud or fresh install fresh

where did you install owncloud from docker 


",Not_TD,Not_TD
918,something for the next release the current solution is probably good enoughthe problems with that x  smaller that the other ui elements hard to see in some circumstances a border would really help but theyve been removed everywhere maybe go all in and add a proper plain chevron button the image is a preview i think its ok if there is a button hiding a tiny bit of it can be confused with something which hides the preview doesnt seem like it belongs to the sidebarjancborchardt and crewschiesbn  morrisjobke  ,Not_TD,TD
919, requirementswe should send some events via mail to the user to give them the fluffy warm feeling of “your owncloud is secure and there for you”  ux example technical implementationif we want to give a fluffy warm feeling to the user the easiest way to do this is from my understanding to send them an email if an unknown device has been used to login the problem being here that using webdav without tokens any heuristic has either to be very dumb or not really reliable this is something that i’d like to avoid thus this is kind of coupled to the “get device specific token” thingywe can then send notifications to the user in case  a new device has been added basically is a new token has been generated on some  a new browser has been used to login basically by adding another cookie to the browser that is longliving and correlates within the userdatabase to which accounts the user has at least loggedin once successfullysuch a notification should  operating system can be read from user  type browser  mobile app   location  ip   a a location lookup is not really possible considering the license problematic we can however implement maxmind as a fallback and let users configure the path to maxmind themselves  a link to a “security” part of owncloud basically the settings part of owncloud where tokens  password  etc are managed as well as some documentation reference for it  recommendationfrom my point of view implementing something like this would give the fluffy warm feeling that users may want and should not be too hard if the prerequisites are done basically once we have overhauled the login logic a bit as required for devicebased token auth we can add something like this pretty easy and completely unittested,Not_TD,TD
920,"tested with docker run rm ti v datamntdata  

 in the admin gui the log level is set to warnings errors and fatal issues per default
 admin user can change it there to eg everything fatal issues errors warnings info debug
 no confirmation message appears bad
 there is no save button on the admin page okayish
 when navigating away and returning to the admin page the setting is back at warnings errors and fatal issues bad

expected behaviour the settings are saved automagically user gets a confirmation message about the save
  eg when changing the update channel the user gets a confirmation message in green


",Not_TD,TD
921," steps to reproduce
see  commented test cases in testscorecommanduseraddtestphp contain interactive input remove comments and push code to drone

 expected behaviour
tests should pass

 actual behaviour
drone failed in interactive test cases i used commandtesters setinputs function for interactive dialog answers and it passed in my local and travis however drone is giving this error
stty standard input inappropriate ioctl for device

database
myql sqlite psql

php version
  
",Not_TD,Not_TD
922,"hi i was enable to login because it said took long time to login
so i decided to do a fresh installation
after restore all the database and retry the login now the log files said 

 loginname is not a valid attribute",Not_TD,Not_TD
923," steps to reproduce
 upload file testtxt to your root dir
 create an empty folder folder in your root dir
 draganddrop testtxt from your computers explorerfinder onto folder resulting in a new upload

 expected behaviour
the file should be uploaded without any issues

 actual behaviour
the ui shows the fileconflict dialog saying the file already exists which is not true as folder is empty",Not_TD,Not_TD
924,currently the sabre lockedexception is thrown as isit needs to be extended to contain proper locking   ,Not_TD,TD
925,an idea  hadin the files sidebar there could be an entry called »file conflicts« that should of course only show if there are conflictsthat way people could quickly see that there are problems and directly fix themownclouddesigners karlitschek ,Not_TD,TD
926,"when sharing a calendar with a group sharing works but it is impossible to disable notifications from users of calendars on macos
the deactivation is possible but the notifications come back after a few hours

if i share a calendar with a user no problem it works as expected

steps to reproduce
    sharing a calendar with a group
    ignore alerts on the osx calendars app
    after a few hours the alerts come back

expected behaviour
alerts must remain disabled

actual behaviour
after a few hours the alerts come back or a few days later

operating system
ubuntu linux 

web server
apache version 

database
mysql version 

php version


owncloud version
owncloud  stable

calendar version
calendar  same problem with 

ldap configuration

 configuration  

 hasmemberoffiltersupport   
 haspagedresultsupport  
 homefoldernamingrule  
 lastjpegphotolookup   
 ldapagentname  uidrootcnusersdcldapdccustomerdclan 
 ldapagentpassword   
 ldapattributesforgroupsearch  
 ldapattributesforusersearch  uidgecosmail 
 ldapbackuphost  
 ldapbackupport  
 ldapbase  dcldapdccustomerdclan 
 ldapbasegroups  cngroupsdcldapdccustomerdclan 
 ldapbaseusers  cnusersdcldapdccustomerdclan 
 ldapcachettl   
 ldapconfigurationactive   
 ldapdynamicgroupmemberurl  
 ldapemailattribute  mail 
 ldapexperiencedadmin   
 ldapexpertuuidgroupattr  
 ldapexpertuuiduserattr  
 ldapexpertusernameattr  uid 
 ldapgroupdisplayname  cn 
 ldapgroupfilter  objectclassposixgroupcnagendaall 
 ldapgroupfiltergroups  agendaall 
 ldapgroupfiltermode   
 ldapgroupfilterobjectclass  posixgroup 
 ldapgroupmemberassocattr  member 
 ldaphost   
 ldapignorenamingrules  
 ldaploginfilter  objectclassposixaccountuiduid 
 ldaploginfilterattributes  
 ldaploginfilteremail   
 ldaploginfiltermode   
 ldaploginfilterusername   
 ldapnestedgroups   
 ldapoverridemainserver  
 ldappagingsize   
 ldapport   
 ldapquotaattribute  
 ldapquotadefault   
 ldaptls   
 ldapuserdisplayname  gecos 
   
 ldapuserfilter  objectclassposixaccount 
 ldapuserfiltergroups  agendaall 
 ldapuserfiltermode   
 ldapuserfilterobjectclass  posixaccount 
 ldapusername  samaccountname 
 ldapuuidgroupattribute  auto 
 ldapuuiduserattribute  auto 
 turnoffcertcheck   
 usememberoftodetectmembership   


hosting on synology  with dsm   and ldap server version 

operating system
macos     

caldavclients
osx calendars 

i can not understand whats going on has anyone ever had this problem
",Not_TD,Not_TD
927," steps to reproduce
 open latest version of apples calendar program
 file  new calendar subscription  paste url  click subscribe
  on the next popup under location choose the caldav account  hit ok

 expected behaviour
the new calendar subscription should be proliferated to the server

 actual behaviour
the server responded with an error
the request for account “remotephpdavprincipalsusers” failed

the server responded with
“”
to operation caldavaddsubscriptioncalendarqueueableoperation

 server configuration
operating system debian stretch 

web server apache 

database postgres 

php version  

owncloud version 

updated from an older owncloud or fresh install updated

where did you install owncloud from deb  

signing status owncloud  and above

just says no errors have been found


the content of configconfigphp

    system 
        instanceid 
        passwordsalt removed sensitive value
        datadirectory varwwwownclouddata
        dbtype pgsql
        version 
        appstoreenabled true
        appstoreurl 
        appspaths 
            
                path varwwwowncloudapps
                url apps
                writable true
            
        
        dbname owncloud
        dbhost localhost
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        installed true
        loglevel 
        theme 
        maintenance false
        trusteddomains 
            fogmjollnirorg
        
        secret removed sensitive value
        updatechecker false
        trashbinretentionobligation auto
    


list of activated apps

enabled
   calendar 
   comments 
   configreport 
   contacts 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filessharing 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   firstrunwizard 
   market 
   notes 
   notifications 
   provisioningapi 
   systemtags 
   updatenotification 
disabled
   encryption
   external
   userexternal

are you using external storage if yes which one just local disk

are you using encryption no other than ssl

are you using an external userbackend if yes which one no


 client configuration
browser apple calendar  

operating system  mac os  

 logs
 web server error log

nothing in apaches error log but in access log the following is generated

  penny  mkcalendar        

 owncloud log dataowncloudlog


 browser log
just the error above in apples calendar




note during the process of doing this i see the error is that the subscription url is too long for the field in the db and its a blackbaud redirect anyway so i followed the redirect and got the real url and added that as a subscription that bit works however even having deleting the errorcausing subscription from apple calendar im still getting the error presumably because its queued somewhere  i will continue to investigate

however i dont think  is long enough for subscription calendars these things can be really long
",Not_TD,TD
928,current state better icon  improve styling of filter box wording jancborchardt ownclouddesigners ,Not_TD,Not_TD
929,provide a hook to let apps cancel public link creation an exception  error message in case this needs to be blocked ex due to permissions,Not_TD,TD
930," background
i have read the background on this topic through the github repo issues and prs and this seems to be a point of conjecture about how subadmins and groups work  at a highlevel we want to be able to have subadmins create and manage groups in a dynamic fashion creating groups adding and removing users to these groups by the subadmin or deleting groups  in our system users do not have any files in their own personal space and we do not support impersonation for security reasons  i am not sure how custom groups work internally but cannot see them appear as normal groups via the owncloudsdk

there appear to be business rules in place so that users created by a subadmin implicitly get added to the groups the creator is a subadmin of  they can be added and removed to groups at least in the  ui freely but cannot be detached from every group the subadmin is a subadmin of

further reading here




 steps to reproduce
  from a default oc  instance login as admin and a user x add a group y and make user x a subadmin of group y
  in the  php ui login as user x create a new user z then add user z as a member of group y  successful
  attempt the same as user x calling the owncloudsdk method eg clientusersaddtogroupz y which fails with a  unauthorised

this is inconsistent behaviour  subadmins are currently consistently allowed to remove users from their groups but not add them  this means they effectively cannot manage the group which is the purpose of being a subadmin of a group  if a subadmin accidently removed a user from a group they could not readd

 expected behaviour
correct behaviour should be to allow subadministrators to add users to groups they are a subadmin of  aarnet needs this feature to properly implement group management policies for delegation of group management

 actual behaviour
fails with a  unauthorised

 related issues
this relates to an old issue and pr that was merged here  however it seems iljan made a commit on  may  that broke this feature see  and this has left the system in an inconsistent state

subadmins need to be able to add users to groups they are subadmins of

 server configuration
owncloud version owncloud 

updated from an older owncloud or fresh install
fresh install

where did you install owncloud from
docker image

no other settings have any relationship to this raised issue the issue is in the code for the provisioning api",Not_TD,TD
931,as an owncloud admin i want to be able to enable a custom help url in the top right web interface for each user so that my users can get customized help documentationacceptance criteria user sees an entry in the menu that replaces the existing knowledgebase with this admin can set this in the config file along side knowledgebaseenabled  true with a url that can be editedthoughtscaptionf please add  update requirementsschiesbn jancborchardt cmonteroluque ,Not_TD,TD
932,it can be desired to intercept emails before they are send for example when an app wants to encryptsign outgoing emailsright now this is not possible but nice hooks in the imailer would make this possible,Not_TD,TD
933, expected behaviorsend emails with html format when this events happens password reset registration user activity actual behaviorsent only text format emails when this events happens password reset registration user activitycraigpg markviens ,Not_TD,TD
934,this does not concern the activity feature but the main files section on the browseritd be useful to see straight up if there are any comments on a particular file or folder at present a user has to click on  to even realize there is comments capability built into owncloud or click on the white space between the filename and the  to open up details pane the latter is not intuitive and users might not even be aware of itan attractive bubble icon next to share and   icons would both notify of new comments and expand the details pane to the comments section directlyperhaps it could be coloured differently if there are new commentsexcuse the very crude screenshot attached for illustration purposes i think having the bubble on all items would actually be best as with the share and  cases ,Not_TD,TD
935,"follow up of 

might require activity for renames ",Not_TD,Not_TD
936,"hi and thanks in advance for participate

 steps to reproduce
 share a big folder with another user or group
 unshare a big folder with another user or group

 expected behaviour
no impact for the users to access the cloud

 actual behaviour
after some time the cloud gets unavailable for the users givin the error bad gateway

monitoring the operation i can see that owncloud touches every userencryptionkey from every file while adding or removing a usergroup from a folder with big folders meaning many files and subfolders the operation takes very long and uses up all the phpfpm processes until no further process is available and from there all future access terminates in the bad gateway error waiting long enough up to hours the operation finishes and releases the phpfpm processes and users can access the cloud again 
i dont understand why this operation is eating up all phpfpm processes
also problematic is that the user who starts the operation addingremoving share does not get any feedback when the operation is completed regardless if the server hits the bad gateway state or not

 server configuration
operating system debian 

web server 

database mariadb 

php version php 

owncloud version 

updated from an older owncloud or fresh install updated

where did you install owncloud from command line source downloaded from owncloudorg

signing status owncloud  and above no errors have been found

the content of configconfigphp

system 
        instanceid 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            removed sensitive value
            removed sensitive value
        
        datadirectory removed sensitive value
        overwritecliurl removed sensitive value
        dbtype mysql
        version 
        dbname removed sensitive value
        dbhost localhost
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        logtimezone removed sensitive valueh
        installed true
        mailsmtpmode php
        mailsmtphost removed sensitive value
        theme removed sensitive value
        loglevel 
        maintenance false
        trashbinretentionobligation auto
        activityexpiredays 
        logrotatesize 
        mailsmtpport 
        skeletondirectory 
        memcachelocal ocmemcacheapcu
        memcachelocking ocmemcacheredis
        filelockingenabled true
        redis 
            host varrunredisredissock
            port 
            timeout 
        
        mailfromaddress removed sensitive value
        maildomain removed sensitive value
        appstoreexperimentalenabled false
        singleuser false
    


list of activated apps


enabled
   activity 
   configreport 
   dav 
   encryption 
   federatedfilesharing 
   files 
   filesexternal 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   gallery 
   market 
   notifications 
   templateeditor 
   updatenotification 
disabled
   comments
   external
   federation
   filesvideoplayer
   firstrunwizard
   provisioningapi
   systemtags
   userexternal


are you using external storage if yes which one nfs

are you using encryption yes

are you using an external userbackend if yes which one no

 logs
 web server error log
repeatedly    upstream timed out  connection timed out while reading response header from upstream client removed sensitive value server removed sensitive value request get   upstream fastcgiunixvarrunphpremoved sensitive valuesock host removed sensitive value

 owncloud log dataowncloudlog
no log entries concerning this action


",Not_TD,Not_TD
937,with  we will add proper conflict handling back to oc but that is only a fallback mechanism that triggers when a conflict ariseswe can do better  if uploading to the filelist check for conflicts before uploading on conflict show a simple dialog like  showing only the number of conflicting files and allowing the user to choose a general resolution skip all conflicts overwrite all files choose which files to keep and show the conflicts dialog or cancel upload  when file versioning is enabled never show any dialog and always overwrite the file on the server if the user made a mistake he can always get back the old version from the file history this is how dropbox does it  use  standard to upload files to meaningful default directories from an upload button in apps like pictures and music   render progress bar in file list row tracked in ,Not_TD,TD
938,"seen while updating from  qa tar to  which is  final

the error is correct it cannot update the testing app i have to disable that one to perform this kind of update


the link in the error message   should be clickable

ps please report this issue to the owncloud community feels a bit out of place here maybe add   if you need assistance",Not_TD,TD
939,"the default was changed in pr  which has been merged to core master the existing tests are all passing and some of those explicitly check that infinite depth propfind works when it is enabled

add some tests for
 infinite depth propfind is disabled check doing various propfind requests that ask for depth infinity and check the response they should give some  http status
 review the coverage of tests that have infinite depth propfind enabled add a few tests so that there is reasonable coverage to avoid accidental regression of the infinite depth propfind behavior in future",Not_TD,Not_TD
940,following up the discussion during nuehackweek one interesting usecase for delivering client settings on the fly would be to transmit emailtemplates for eg public link shares see related ,Not_TD,Not_TD
941," steps to reproduce
na

 expected behaviour
i shouldnt see nonbirthdays in the birthdays calendar and i shouldnt see birthdays for contacts that have been deleted

 actual behaviour
i have a completely noncontactbirthday related item in my birthdays calendar  i also have birthdays for contacts that have been deleted

 server configuration
operating system centos 

web server apache

database mysql

php version 

owncloud version  but really relevant  would upgrading remove the errant entries

updated from an older owncloud or fresh install updated but also not really relevant

where did you install owncloud from epel

signing status owncloud  and above 


not found
the requested url indexphpsettingsintegrityfailed was not found on this server



the content of configconfigphp


is configphp really relevant in this case


list of activated apps


again relevant


are you using external storage if yes which one no

are you using encryption no

are you using an external userbackend if yes which one no

 client configuration
browser chrome

operating system fedora 

i just want to remove the bad calendar entries  i am a software developer so i am quite familiar with commandline tools databases sql etc  i just need guidance on what to edit",Not_TD,TD
942,because moving the data folder can be tricky and require some db adjustments it would be a good idea to have this be done with an occ commandocc maintenancemigratedatafolder targetfolderas an additional precaution the current data folder should be saved into the database if the admin manually changes the folder location in configphp without running the occ command an error will be displayed in the web uinow you might ask why not have this old value in the database already and do the migration on the fly the next time the web ui is opened  php timeouts could occurtflidd realrancor carlaschroeder  butonic thoughts ,Not_TD,TD
943,as an admin i want to have preset filters for standard users and groups these would include external users – shows all users that are using ldap  ad  shibboleth or some sort of external user authentication internal users – shows all users that are authenticated only by the internal owncloud auth mechanisms not grouped – shows all users that are not assigned to a group in the case a group is deleted or they are not part of a group this is possible disabled –  shows all users that have been disabled in the system this is for all users not just local users this should refer to users that are enabled or disabled as discussed in the ldap cleanup app there is a state for “disabled” prior to deletion of a user want to use that here too a user that is disabled in owncloud should not be able to log in although they might very well have credentials that work with the ldap  ad backendacceptance criteriathese predefined filters would be shown in the left sidebar and are only shown if there are actually users in it that meet the criteria disabled users in a group are always shown at the very bottom of the list and grayed outremarks by engineering listing external users requires to store them somewhere into the db when they login the first time disabled users depends upon  ,Not_TD,Not_TD
944,thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out this is the bug tracker for the server component find other components at for reporting potential security issues please see to make it possible for us to help you please fill out below information carefully  steps to  go to a folder containing elements that can be  preview thumbnails get  they can be further optimized by using jpegoptim or zopflipng or pngcrush or optipng expected behaviourimage thumbnails should be crunched as much as possible they are generated only once and then served many times actual behaviourthumbnails are only created using default image php functions server configurationoperating system debiantestingweb servernginxdatabasepostgresqlphp  version see owncloud admin  from an older owncloud or fresh installupdatedwhere did you install owncloud fromgitsigning status owncloud  and aboveintegrity checker has been disabled integrity cannot be verifiedlist of activated apps   activity    adminmigrate    bookmarks    comments    dav    documents    external    federatedfilesharing    federation    files    filesexternal    filespdfviewer    filessharing    filestexteditor    filestrashbin    filesversions    filesvideoviewer    gallery    music    notes    notifications    provisioningapi    searchlucene    systemtags    templateeditor    updatenotification    userexternal    usermigrate  content of configconfigphp    system         datadirectory medianasshares        dbtype pgsql        version         installedat         lastupdatedat         dbname owncloud        dbhost localhost        dbtableprefix         dbuser removed sensitive value        dbpassword removed sensitive value        installed true        loglevel         logrotatesize         appspaths                             path varwwwcloudexamplecomowncloudapps                url apps                writable false                                        path varwwwcloudexamplecomowncloudappsrepo                url appsrepo                writable false                                        path varwwwcloudexamplecomowncloudappsother                url appsother                writable true                            instanceid         maintenance false        theme         singleuser false        trusteddomains             cloudexamplecom                mailsmtpmode php        memcachelocal ocmemcacheredis        memcachelocking ocmemcacheredis        assetpipelineenabled true        forcessl true        secret removed sensitive value    are you using external storage if yes which one localsmbsftplocalare you using encryption yesnonoare you using an external userbackend if yes which one ldapactivedirectorywebdavno client configurationbrowseroperating system logs web server error logno log involved owncloud log dataowncloudlogno log involved browser logno log involved,Not_TD,TD
945,there might be new apis that makes it possible to copy stuff into the clipboard through javascriptit would be nice to autocopy links whenever a link field is highlightedsome examples  webdav link in files app sidebar bottom section   public link share links  permalinks also i wonder if it would help somehow with mobile cc oparozgeorgehrke rullzer on github i believe you need to have flash enabled for the copy functions to work but wed likely not want flash optionally due to security reasons can you confirm lukasreschke ,Not_TD,TD
946,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
hi

id like to share with you my point of view for sharing folders and files
its very much missing feature from productivity point of view when we migrated from dropbox

in my opinion when i’m file  folder owner and i enabled resharing i want to see all who’ve been reshared to with rights given to each personfilefolder
all people should see all “members” having access to file without visibility of given permissions it’s just not to share to the same people twice the same filefolder and make communication much easier currently we need to ask our colleagues if they are already sharing certain filesfolders fromwith somebody

if we would like to take care on very high level about privacy maybe we should consider to add an option when sharing “publicly visible” when checked by default person who you share filefolder to will be visible as person having access to filefolder to all sharers if unchecked nobody from sharers excepting filefolder owner not resharer can see this person as shared with this option “publicly visible” should be available only for filefolder owner

resharing to anybody should always be publicly visible

thanks for this discussion anyway 🙂 ",Not_TD,Not_TD
947,"the file expands nicely on macos but there should be a nicer filename 
the folder is not called pagecurl on the cloud

server ",Not_TD,Not_TD
948," steps to reproduce
 launch new docker service
 update configphp to have 
 enablecertificatemanagement  true
 generate key openssl req newkey  nodes keyout keypem  days  out certificatepem
 upload the certificate  i also tried the key with the same results

 expected behaviour
tell us what should happen
you can now access the site with ssl

 actual behaviour
tell us what happens instead
i get a message at the top of the screen and nothing in the logs
an error occurred please upload an asciiencoded pem certificate

 server configuration
operating system docker

web server

database

php version

owncloud version see owncloud admin page
 stable

updated from an older owncloud or fresh install
fresh

where did you install owncloud from
docker

signing status owncloud  and above


login as admin user into your owncloud and access 
 

no errors have been found

",Not_TD,TD
949,see discussion here ,Not_TD,Not_TD
950,helloi would be fantastic to have a way to configure the policy for shared folders i see some different  count on share creator if user a shared folder f with user b no matter who createsmodifies files inside folder f user a quota is  count on file creator if user a shared folder f with user b new files will count on creators  scenarios  and  with limit user a or also b in  can limit the max of its quota usage for the shared folderthe scenario  can be abused to create shared folder quota that does not count on either users for this the admin or a new dedicated user can define its own quota to be unlimited or large enough to fit all shared folder now admin adds a new folder and share it with usersgroup and opt for count all new files on its quota and limit this usage at some value this would solve plenty of groupfolder quota requeststhe problem is that other users even others from admin group would not have access to change the sharing settings however this could be workaround creating multiple dedicated account for every admin domain or sharing the folder with a group and using the group admins to authorize new users anyway it would still depend on sharing a password strategy which is not ideal for large systemsif we got a login as user feature  we could avoid the shared password strategy letting admin users login as the sharingfolderuserim going on with the idea another idea would be to have something like a group account with normal quota this account will never login but it would be managed by the group admin users those users could login as the group account again  create folders and share them with other usersgroups,Not_TD,Not_TD
951," steps to reproduce
 favourite a file or folder
 send a report request  curl u adminadmin x report  d       xmllint format 

 expected behaviour
dstatus should have a useful output

 actual behaviour
  im a teapot

 further information
adding  to the request gives   ok

 server configuration
operating system
ubuntu 
web server

database
mysql
php version

owncloud version see owncloud admin page
 git 
updated from an older owncloud or fresh install
fresh
where did you install owncloud from
git

the content of configconfigphp



    system 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            localhost
            
        
        datadirectory homearturwwwowncloudcoredata
        overwritecliurl httplocalhostowncloudcore
        version 
        logtimezone utc
        htaccessrewritebase owncloudcore
        loglevel 
        logtype owncloud
        theme 
        sharingfederationallowhttpfallback true
        filesexternalallowcreatenewlocal true
        licensekey removed sensitive value
        instanceid 
        enablepreviews true
        appspaths 
            
                path homearturwwwowncloudcoreapps
                url apps
                writable true
            
            
                path 
                url 
                writable true
            
        
        csrfdisabled true
        maintenance false
        corsalloweddomains 
            httplocalhostowncloudwebdist
            
            
        
        maildomain removed sensitive value
        mailfromaddress removed sensitive value
        mailsmtpmode smtp
        mailsmtphost removed sensitive value
        mailsmtpport 
        defaultlanguage en
        davenabletechpreview true
        dbtype mysql
        dbname 
        dbhost localhost
        dbtableprefix oc
         true
        dbuser removed sensitive value
        dbpassword removed sensitive value
        installed true
        graceperioddemokeyshowpopup false
        openidconnect 
            providerurl 
            clientid web
            loginbuttonname openid connect  konnectd
            insecure true
        
        memcachelocal ocmemcacheapcu
        debug true
        skeletondirectory homearturwwwowncloudcoreappstestingdatawebuiskeleton
    



list of activated apps


enabled
   comments
     version 
     path homearturwwwowncloudcoreappscomments
   dav
     version 
     path homearturwwwowncloudcoreappsdav
   diagnostics
     version 
     path homearturwwwowncloudcoreappsdiagnostics
   enterprisekey
     version 
     path homearturwwwowncloudcoreappsenterprisekey
   federatedfilesharing
     version 
     path homearturwwwowncloudcoreappsfederatedfilesharing
   federation
     version 
     path homearturwwwowncloudcoreappsfederation
   files
     version 
     path homearturwwwowncloudcoreappsfiles
   filesexternal
     version 
     path homearturwwwowncloudcoreappsfilesexternal
   filessharing
     version 
     path homearturwwwowncloudcoreappsfilessharing
   filestexteditor
     version 
     path homearturwwwowncloudcoreappsfilestexteditor
   filestrashbin
     version 
     path homearturwwwowncloudcoreappsfilestrashbin
   filesversions
     version 
     path homearturwwwowncloudcoreappsfilesversions
   firstrunwizard
     version 
     path homearturwwwowncloudcoreappsfirstrunwizard
   graphapi
     version 
     path homearturwwwowncloudcoreappsgraphapi
   notifications
     version 
     path homearturwwwowncloudcoreappsnotifications
   
     version 
     path 
   provisioningapi
     version 
     path homearturwwwowncloudcoreappsprovisioningapi
   systemtags
     version 
     path homearturwwwowncloudcoreappssystemtags
   testing
     version 
     path homearturwwwowncloudcoreappstesting
   updatenotification
     version 
     path homearturwwwowncloudcoreappsupdatenotification
disabled
   activity
     path homearturwwwowncloudcoreappsactivity
   adminaudit
     path homearturwwwowncloudcoreappsadminaudit
   bruteforceprotection
     path homearturwwwowncloudcoreappsbruteforceprotection
   customgroups
     path homearturwwwowncloudcoreappscustomgroups
   dataexporter
     path homearturwwwowncloudcoreappsdataexporter
   filesantivirus
     path homearturwwwowncloudcoreappsfilesantivirus
   filesclassifier
     path homearturwwwowncloudcoreappsfilesclassifier
   fileslifecycle
     path homearturwwwowncloudcoreappsfileslifecycle
   
     path 
   firewall
     path homearturwwwowncloudcoreappsfirewall
   guests
     path homearturwwwowncloudcoreappsguests
   openidconnect
     path homearturwwwowncloudcoreappsopenidconnect
   passwordpolicy
     path homearturwwwowncloudcoreappspasswordpolicy
   ransomwareprotection
     path homearturwwwowncloudcoreappsransomwareprotection
   richdocuments
     path homearturwwwowncloudcoreappsrichdocuments
   sharepoint
     path homearturwwwowncloudcoreappssharepoint
   systemtagsmanagement
     path homearturwwwowncloudcoreappssystemtagsmanagement
   twofactortotp
     path homearturwwwowncloudcoreappstwofactortotp
   userldap
     path homearturwwwowncloudcoreappsuserldap
   windowsnetworkdrive
     path homearturwwwowncloudcoreappswindowsnetworkdrive
   wopi
     path homearturwwwowncloudcoreappswopi
   workflow
     path homearturwwwowncloudcoreappsworkflow


are you using external storage if yes which one localsmbsftp
no
are you using encryption yesno
no
are you using an external userbackend if yes which one ldapactivedirectorywebdav
no

 logs
 web server error log

  admin  report owncloudcoreremotephpdavfilesadmin     


 owncloud log dataowncloudlog
no output",Not_TD,Not_TD
952, either we add our own wrapper for unserialize or we do an if check for the version everywhere,Not_TD,TD
953," steps to reproduce

 upload a dark picture
 open sidebar

 expected behaviour
a clear x visible that you can see and click

 observed behaviour

the x closing button is not visible



owncloud version


browser
chrome


cc felixheidecke ",Not_TD,TD
954,"there is an installed owncloud in the form of a univention corporate server which was deployed from a vmware appliance the docker image  owncloud works in it
it is necessary to prohibit listing of files in the owncloud directory files should be opened only by direct links and there should be write access to this directory
i think that this is configured via htaccess or the virtualhost configuration file
version owncloud	 stable
apache 



",Not_TD,TD
955,"just attempting to complete migrating an owncloud instance running occ upgrade fails with the following message 


doctrinedbalschemaschemaexception the table with name owncloudocpersistentlocks already exists
update failed


 steps to reproduce




 expected behaviour
tell us what should happen

 actual behaviour
tell us what happens instead

 server configuration
operating system ubuntu 

web server 

database mysql 

php version 

owncloud version  on the old server  on the new one

updated from an older owncloud or fresh install fresh install on new server

where did you install owncloud from owncloudorg

signing status owncloud  and above

cannot log into owncloud because it requires running the manual occ upgrade

the content of configconfigphp



    system 
        maintenance false
        instanceid 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            externalcortexcom
        
        datadirectory varwwwownclouddata
        overwritecliurl 
        dbtype mysql
        version 
        dbname owncloud
        dbhost localhost
        dbtableprefix oc
         true
        dbuser removed sensitive value
        dbpassword removed sensitive value
        logtimezone utc
        installed true
        mailsmtpmode smtp
        mailsmtpsecure ssl
        mailfromaddress removed sensitive value
        maildomain removed sensitive value
        mailsmtpauthtype login
        mailsmtpauth 
        mailsmtphost removed sensitive value
        mailsmtpport 
        mailsmtpname removed sensitive value
        mailsmtppassword removed sensitive value
        memcachelocal ocmemcacheapcu
        filelockingenabled true
        memcachelocking ocmemcacheredis
        redis 
            host localhost
            port 
            timeout 
        
        loglevel 
    




list of activated apps


apps folder deleted


are you using external storage if yes which one no

are you using encryption no

are you using an external userbackend if yes which one no


 client configuration
browser safari

operating system macos mojave

",Not_TD,Not_TD
956," steps to reproduce
 upload a file 
 create a public share link with an expiry date
 replace the file by uploading the same file once again 
 create a new public share link with a modified expiry date further than the initial onewe have a default expiry date of  days
 when the first share link expires check the ones on the share panel 

 expected behavior
the first share link will expire since its expiry date has passed the second share link will be available on the share panel because it will only expire in the future

 actual behavior
both links expired on the expiry date of the first link which was created before the file got replaced
 server configuration
operating system ubuntu 

web server 

database mysql 

php version 

owncloud version 

updated from an older owncloud or fresh install updated from owncloud 

where did you install owncloud from by downloading archive from 

signing status owncloud  and above


no errors have been found



the content of configconfigphp



    system 
        memcachelocal 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            removed sensitive value
        
        datadirectory varwwwmyownclouddata
        overwritecliurl httplocalhost
        dbtype mysql
        version 
        dbname owncloud
        dbhost localhost
        dbtableprefix eyb
        dbuser removed sensitive value
        dbpassword removed sensitive value
        logtimezone americanewyork
        installed true
        instanceid removed sensitive value
        mailsmtpmode smtp
        mailsmtpsecure ssl
        mailfromaddress removed sensitive value
        maildomain removed sensitive value
        loglevel 
        logrotatesize 
        maintenance false
        theme 
        updatechecker false
        mailsmtpauthtype login
        mailsmtpauth 
        mailsmtpname removed sensitive value
        mailsmtppassword removed sensitive value
        mailsmtphost removed sensitive value
        mailsmtpport 
        trashbinretentionobligation auto 
        versionsretentionobligation auto 
    



list of activated apps


enabled
   activity 
   comments 
   configreport 
   dav 
   encryption 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filesmediaviewer 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   firstrunwizard 
   gallery 
   market 
   notifications 
   provisioningapi 
   systemtags 
   templateeditor 
   updatenotification 
disabled
   external
   userexternal


are you using external storage if yes which one no


are you using an external userbackend if yes which one no

 client configuration
browser chrome

operating system ubuntu 

",Not_TD,Not_TD
957,"idea

add a route in core that is used for oauth callbacks receives the tokens and stores them using the filesexternal code then redirects the user to the settings page

context


",Not_TD,Not_TD
958, steps to reproducehaving an admin  go to  activate send email address to new users expected behaviourall textboxes are long enough actual behaviourtext is sliced because textboxes are short server configurationoperating systemubuntu  ltsweb serverapachedatabasemysqlphp  version see owncloud admin  beta  from an older owncloud or fresh installfreshlist of activated appsnonethe content of configconfigphpinsert your configphp content herewithout the database password and passwordsaltare you using external storage if yes which one localsmbsftpnoare you using encryption no client configurationbrowserchrome,Not_TD,Not_TD
959,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
note this issue replaces  where the steps to reproduce havent been clear this is now a fresh install which shows the problem

looks quite similar to  which however should be fixed it happens after i updated from php  to  as forced to by my hoster strato so upgrading owncloud seems not to be the problem but upgrading the php version

 steps to reproduce
 fresh install of  on a shared hoster via web install no problems
 sync some files on computer  which are then uploaded
 sync on computer  files are downloaded

 expected behaviour
downloaded files should have same modification files on comuter  as they had on computer 

 actual behaviour
downloaded files have  as creation and modification date

when inspecting the taböe ocfilecache on the server the mtime column for all files is  only entries for directories show a nonzero mtime

 server configuration
operating system 

operating system sunos 

web server apache

database mysql 

php version 

owncloud version see owncloud admin page 

updated from an older owncloud or fresh install fresh install

where did you install owncloud from owncloud web page

signing status owncloud  and above
no errors have been found



the content of configconfigphp

config report


are you using external storage if yes which one no

are you using encryption no

are you using an external userbackend if yes which one no

 client configuration
browser firefox 

operating system opensuse leap 

 logs
 web server error log

no errors


 owncloud log dataowncloudlog

no errors


 browser log

insert your browser log here this could for example include

a the javascript console log
b the network log 
c 

",Not_TD,TD
960,"hi all
one single account of  configured is experiencing problems uploading files
all the syncs fails with the message there is insufficient space available on the server for uploads
in the desktop client e in the web interface the are no informations about the space usage and the available space
in the desktop client the message is currently there is no storage usage information available


server configuration  

os  centos 
webserver  apache 
php  
owncloud 
mariadb  

ldap integration  release   is configured to interface owncloud with the active directory who provides authentication
actually quotas are configured   gb default the user experiencing the issue has a quota of  gb

owncloud desktop client version 


log entry 


  
 insufficient storage  
   ocadavconn
 resource id  objectocadavconnectorsabredirectory  
 calluserfuncarrayarray  
 sabreeventeventemitteremitbeforecreatefil  
  resource id    sabredavcoreplugin
httpputobjectsabrehttprequest  
 calluserfuncarrayarray   sabreeventeventemit
teremitmethodput   sabredavserverinvokemethodobjec
tsabrehttprequest   
   
  


thank you and regards
",Not_TD,Not_TD
961,i want to make a group to grantdeny sharing at my willthe problem i have is when a user is a member of only that group it works but when i add them to another group that isnt excluded from sharing that user can share againive observed this issue since before  am currently on ,Not_TD,Not_TD
962,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 open market
 install any app
 go back to files section

 expected behaviour
tell us what should happen
we should be able to see files and use apps installed through market

 actual behaviour
tell us what happens instead
the page failed to load it seems that according to logs owncloud cannot find the app image
tested with calendar and task app



 server configuration
operating system
debian 
web server
nginx 

database
mysql  ver  distrib  for debianlinuxgnu  using readline 

php version
php  cli  nts 
copyright c  the php group
zend engine  copyright c  zend technologies
    with zend opcache  copyright c  by zend technologies

owncloud version see owncloud admin page


updated from an older owncloud or fresh install
update

where did you install owncloud from
debian package manager in accordance to the doc

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here

no errors have been found

the content of configconfigphp


list of activated apps
none currently i removed all since i cant access my files with any app activated

are you using external storage if yes which one localsmbsftp
no
are you using encryption yesno
no
are you using an external userbackend if yes which one ldapactivedirectorywebdav
no

 client configuration
browser
chrome firefox
operating system
windows linux
 logs
 web server error log

 owncloud log dataowncloudlog

 browser log

",Not_TD,Not_TD
963,currently you don’t even notice when you move a filefolder with dragdropafter every move there should be a yellow notification up top saying »moved filefoldername to foldername« with an undo action to the rightcc schiesbn  ownclouddesigners ,Not_TD,TD
964, steps to  have invalid files somewhere within an app in the apps folder or in the root  trigger integrity  check the failed files expected behaviour        invalidhash               indexphp               versionphp       extrafile               testphp appscalendar       exception               ocintegritycheckexceptionsinvalidsignatureexception               signature data not found actual behaviour core       invalidhash               indexphp               versionphp       extrafile               testphp calendar       exception               ocintegritycheckexceptionsinvalidsignatureexception               signature data not foundthe main problem here is that also a core folder exists within the owncloud install folder furthermore its not always clear for a user that the calendar is located within the apps folder cc lukasreschke ,Not_TD,TD
965,"with last changes in core currently the default authentication mechanism is login credentials i think user and password credentials is more generic and should be the default choice



cc  jvillafanez ",Not_TD,TD
966,to improve the performance of syncing data when mounting another owncloud instance how about using csync instead of a direct webdav connection could csync also sync with other providers this would be the equivalent of having mirallcsync or dropbox running on a server along with owncloud and autosyncing inside of datafilesmountpoint directory using their own optimized algorithmif the target server is offline the files could still be accessed and be synced laterlets discuss whether it makes sense at all i know that there might be a few technical challenges like potentially having to port csync to php for providers that dont have itschiesbn karlitschek   dragotin ,Not_TD,TD
967," steps to reproduce
see pr  
 run the appsfilesexternaltestsstorageowncloudtestphp

 expected behaviour
pass

 actual behaviour


phpunit  by sebastian bergmann and contributors

runtime       phpdbg 
configuration dronesrctestsphpunitautotestexternalxml

f     
                                                 

time  minutes memory  mb

there was  failure

 ocafilesexternaltestsstorageowncloudtesttestcheckupdate
no update
failed asserting that true is false



failures
tests  assertions  failures 


 server configuration
ci  see the pr for the configuration
",Not_TD,Not_TD
968, steps to  select some random files as  web interface shows a correct  reloading the browser makes the favourite tags to be showed back checking the database tables will show duplicated entries for the same user in the ocvcategory table see below   after manually removing the duplicated entries in the ocvcategory table and the corresponding ones in ocvcategorytoobject favourite tags are permanently deleted  expected behaviourfavourite tags should be permanently deleted and no duplicated entries for the same user in the ocvcategory table should exist actual behavioursee above server configurationowncloud version  select  from ocvcategory   id  uid  type  category        files         files      rows in set  sec mysql select  from ocvcategorytoobject   objid  categoryid  type        files       files    rows in set  seccc  ,Not_TD,TD
969," steps to reproduce
 set filestoragesaveversionauthor to true
 create a file testtxt as admin user
 share the file with 
 as  edit this file  the current author is  the author of the first version is admin  all good
 as  roll back the first version  current author is admin good however the author of the first version is now admin as well bad

 expected behaviour

the version author should be 
",Not_TD,TD
970, steps to  install   upload the same file in two different  mark each file as a  go to the favorites page expected behaviourshould be able to see location of each file actual behaviourthere is no way to tell where each favorite is stored server host infoubuntu   server configurationowncloud enterprise edition  beta  daily  ,Not_TD,Not_TD
971,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 create  users   and 
 login with  create a folder basesub first the parent folder and then the subfolder and upload some files there
 share base folder with 
 login as 
 as  setup a personal external storage without sharing permissions
 as  go to the base folder shared by  and share sub with 
 login as  and make sure  has access to the contents of the basesub folder
 as  move the basesub folder which is shared with  to the personal external storage

 expected behaviour
the movement is prevented because the file cant be shared in the external storage 

 actual behaviour
the folder in this case is moved to the external storage but the share wont appear in the target users folder  in this case the source folder is still marked as shared


curl x move h destination  u  

derror xmlnsddav xmlnss
  ocpshareexceptionsgenericshareexception
  you are not allowed to share 





 server configuration
operating system ubuntu 

web server apache 

database mysql

php version 

owncloud version 

updated from an older owncloud or fresh install fresh install


",Not_TD,Not_TD
972,"juts like the central accounts table  we should add the same for groups and group memberships

this would avoid having to ping group backends like ldap over and over again for group membership info it could also obsolete ldaps own memcache caching see 

 butonic  ",Not_TD,TD
973,the preview generation should happen using cron preferably only the system cron instead of happening on demand  currently we have a lot of users complaining about the performance just because preview generation is taking agescc georgehrke karlitschek fyi,Not_TD,TD
974,mtime is an important hint when trying to find the right file,Not_TD,Not_TD
975,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 steps to reproduce




 expected behaviour
tell us what should happen

 actual behaviour
tell us what happens instead

 server configuration
operating system

web server

database

php version

owncloud version see owncloud admin page

updated from an older owncloud or fresh install

where did you install owncloud from

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here



the content of configconfigphp


log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder


are you using external storage if yes which one localsmbsftp

are you using encryption yesno

are you using an external userbackend if yes which one ldapactivedirectorywebdav

 ldap configuration delete this part if not used


with access to your command line run eg
sudo u wwwdata php occ ldapshowconfig
from within your owncloud installation folder

without access to your command line download the dataownclouddb to your local
computer or access your sql server remotely and run the select query
select  from ocappconfig where appid  userldap


eventually replace sensitive data as the nameipaddress of your ldap server or groups


 client configuration
browser

operating system

 logs
 web server error log

insert your webserver log here


 owncloud log dataowncloudlog

insert your owncloud log here


 browser log

insert your browser log here this could for example include

a the javascript console log
b the network log 
c 

",Not_TD,Not_TD
976,"seen with server 

 admin enables secure view as default sharing option
  shares folder  with 



  sees


expected behaviour according to documentation jpg and png files should not be visible to  at all",Not_TD,Not_TD
977,"hello everyone

as discussed on the  the errors in the desktop client or in the web interface are sometimes too techy for the average users for example one of my users got this error in its desktop client


  xxxyyyyzzzzpptx
 transferring   server replied an exception occurred while executing select fileid storage path parent name mimetype mimepart size mtime storagemtime encrypted etag permissions checksum from ocfilecache where storage   and pathhash   with params  sqlstate general error  mysql server has gone away


in this case the whole sql statements is kinda overwhelming and only the administrator could fix it

is it possible to make some basic messages for the users  jnweiger as a  regarding this

thanks",Not_TD,Not_TD
978,"refer to  and look at the first tag that first item consistently appears as the latest tag but is a very old release january  this makes it impossible for a conventional api scraper to detect owncloud core updates without implementing workarounds specific to this abnormality

our api scraper has been monitoring owncloudcore for about a year and has yet to notify us of any releases so i suspect that its an issue with the tag perhaps that extra leading v in the name field

i realise this is likely more of a github support type of thing but i didnt know how else this issue should be raised given that it would be kind of surprising for them to fix your repository at my entirely unaffiliated behest",Not_TD,TD
979,i need to track this somewhere so i might just as well do it publicly past and current filecache implementations rely on a path column containing the full path of file currently it is limited to  chars there has been a lot of research on how to store tree like structures in relational databases a good starting point is  another comparison can be found in the most promising approach which i consider superior to eg nested sets are  due to the clear meaning of column values i know few people who actually understand nested sets i already had a rudimentary version of them working in the  file cache  dunno if the code is still in some branch on one of my local machines cc   opinions,Not_TD,TD
980,now that we allow subadmins to get the list of users they have access to via the provisioning api we run into issuesas you can see what we do there is for each group the subadmin is a subadmin of we get the list of users we merge those lists and then slice the array accordinglynow this introduces a few  assume  groups with  members each your system wont be  since we ask the backends to sort it will be hard to write proper pagination testto solve problem  i think we might need to introduce new calls to the groupmanager ie displaynamesingroups and then the additional calls all the way down this will allow us to let the backend handle deduplication which is most likely can do much more efficientlyproblem  is something different but can be solved with integration tests basically we do not quarantee any order on the results so if we fill the database with random users to query all we need to check is if when doing pagination all users get enumerated exactly oncetagging for  since especially problem  could be an issue for large installscc  tomneedham ,Not_TD,TD
981,"clients cannot identify if totp is enabled and the user tries to login with the normal user password but the login expects an app password
we have bad reviews because users cannot remember they enabled totp with a extra app password and they thinks our client has a general login problem

 samples

 totp not enabled login with wrong user password
 user has not enabled totp in settings
 user entered the normal user login with wrong user password for client authentication

 returned error message from server






 totp enabled login with wrong app password
 user has enabled totp in settings and added an app password
 user entered the a wrong app password for client authentication not app password

 returned error message from server





 result
always the same error code was returned

 expected behaviour

if totp is enabled and the user enters a wrong app password the server should return a different status code and error message
clients can show a different error message if totp is enabled and the login expects the app password
",Not_TD,TD
982,  create two users  and  login as  create a folder  share test with  login as  check ocmounts and note the values of storageid and rootid for the test folder for  login as  setup a sftp external storage sftp applicable for   login as  move test to sftp it becomes  login as  check ocmounts expected resultthe value of storageid must change to match the new storage in which the rootid is on actual resultstorageid still points at the home storage of  didnt find any negative sideeffects in regular oc use however if some apps are using apis to reverseresolve storages based on ocmounts they will get wrong results ,Not_TD,TD
983,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 create two users  and 
 login as 
 share a file with local user via federation sharing eg if your domain is serverhttps share with  using 

 expected behaviour
 should get local share instead of federation sharing

 actual behaviour
 gets a federation share 
",Not_TD,Not_TD
984,  set openbasedir to  check out master  and run  open indexphp expectedworks actualwhite page to see the actual error needs this pr i think the reason is because with openbasedir owncloud cannot access devurandom any morenot sure why it worked before maybe an update of the libraries made it more  butonic ,Not_TD,Not_TD
985,whenever the following attributes would change as a result of file metadata change the etag of the parent folder must be changed  ocpermissions  when share permissions changed  ocfavorite  octags  custom properties,Not_TD,TD
986,preliminary targetting for  following up a discussion with karlitschek,Not_TD,Not_TD
987,steps to  two owncloud instances running one with a self signed ssl cert  a folder or file from one to anotherexpected behaviourshare should appear in remote cloud of user shared with or if the share is not possible because the remote server doesnt trust the self signed cert there should be a popup the popup should inform the user that the share is not possible because of the not trusted cert or similaractual behaviourno warning file is not shared,Not_TD,TD
988,adding  to phpdoc class blocks hides these classes in the php documentationthis would allow to generate two different documentations one for core developers and another for app developersalternativelyadditionally the  tag could be used to highlight libpublic classes which may be used by apps,Not_TD,TD
989,"dear community

i have been experiencing problems with my owncloud server when trying to upload large files via webdav  the upload starts completely normal but after a while it interrupts i get the finder errorcode  the finder can’t complete the operation because some data in “filename” can’t be read or written error code  
after i get this message the server disconnects and i have to reconnect to owncloud again 

when i look into the owncloudlog i found the following

 not get node for path  stellen sie sich vor  file with name  stellen sie sich vor could not be located

 expected behaviour
files shows be uploaded to owncloud via webdav

 actual behaviour
upload starts normal burt after a while the server disconnects and the upload aborts

 server configuration
operating system raspberry pi  with debian  stretch

web server apache 

database mysql

php version 

owncloud version 

updated from an older owncloud or fresh install fresh install




owncloud config


    basic 
        license key removed sensitive value
        date wed  aug   
        owncloud version 
        owncloud version string 
        owncloud edition community
        server os linux
        server os version linux raspberrypi   smp wed jun   bst  
        server sapi 
        webserver version  raspbian
        hostname josephsraspberryddnsnet
        user count 
        user directories 
        loggedin user mycloud
    
    config 
        instanceid 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            
            dyndns
            localhost
        
        datadirectory mediaownclouddrive
        overwritecliurl httpjosephsraspberryddnsnet
        dbtype mysql
        version 
        dbname owncloud
        dbhost localhost
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        logtimezone utc
        installed true
        memcachelocal ocmemcacheredis
        filelockingenabled true
        memcachelocking ocmemcacheredis
        redis 
            host localhost
            port 
            timeout 
        
        loglevel 
    
    integritychecker 
        passing true
        enabled true
        result 
    
    core 
        backgroundjobsmode cron
        installedat 
        lastcron 
        lastupdateresult  
        lastupdatedat 
        publicfiles filessharingpublicphp
        publicwebdav 
    

list of activated apps 
   comments 
   configreport 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filessharing 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   firstrunwizard 
   market 
   notifications 
   provisioningapi 
   systemtags 
   updatenotification 
disabled
   encryption
   external
   themeexample
   userexternal



are you using external storage if yes which one no

are you using encryption ssl

are you using an external userbackend if yes which one webdav


 client configuration
browser safari 

operating system mac os 

 owncloud log dataowncloudlog

 not get node for path  stellen sie sich vor  file with name  stellen sie sich vor could not be located

 domain error xxxxxxxxxxxx tried to access using  as host",Not_TD,Not_TD
990,so i was testing the new ui and ran into several issues one of which is the action which is selected based on where we clickif i click on the filename then i get a preview strangenow if i click on the thumbnail i select that row and get the rightsidebareven strangerswitching things around would work nicely for images but are there other cases to considerjancborchardt ,Not_TD,TD
991,"this is not a real owncloud bug but a documentation issue

the github wiki is kinda outdated
   missing maintainers link is dead
   missing version schema

not so important as the version numer is noted but still outdated
 
 

if you dont update it please add a note or better a link where to find the current information now",Not_TD,TD
992,dear owncloud developerswe are trying to build a cloud storage on top of dcache  where we want to be able to share users files directory with nfs the idea is to split the datadirectory into two directories one will contains user files and other will contains all otherfiles created by owncloud the main reason of having such setup is to allow farm nodes to access and update the content of the users data files and let owncloud to sync it with thesyncclients as a typical example  you have a heavyduty job which does some analysis and produces some plots which can be directly synchronized a prototype can be review at this prototype has some limitations currently users data directory and owncloud data directory must have a common parentnow my question is there any work done in this direction is there any suggestions or ideas which i can use before start to modify too muchand the last bit we have updated dcache storage to propagate the files and directory owner ships this allows us to files written by owncloud to be owned by original usersthanks,Not_TD,Not_TD
993," steps to reproduce
 alice creates folders called text and 
 alice creates file textfiletxt
 moves textfiletxt to 

 expected behaviour
it works  alice should have filetxt in folder 

 actual behaviour
http  response

owncloud log

 no such file or directory at 


useralice
appwebdav
methodmove
urlremotephpwebdavtextfiletxt
messageexception strpos expects parameter  to be string int given 
exceptiontypeerrormessagestrpos expects parameter  to be string int given

trace
  strposn
  sabredavtreemarkdirtyn
  sabredavtreemoven
  sabredavcorepluginhttpmoven
  sabredavserveremitn
  sabredavserverinvokemethodn
  sabredavserverstartn
  sabredavserverexecn
  requireoncehomephilgitn
 


 server configuration
current core master

pr  demonstrates the problem",Not_TD,TD
994,"thumbnails are currently created and stored for each user
this has some negative impacts like
 very high space consumption due to duplicates 
 deleting a mount creates orphan thumbs and database entries

example  pictures can create up to  of thumbs
sharing the picture store with  people creates  of space consumption
if you remove the picture mount you have  filespace as file and database orphans 
 
this fr is about to centralize the thumbnail store and make the location configurable

existing issuesfeature requests i found related were

  adding column refstorage in table ocfilecache
 make thumbnail trashbin and version paths configurable
 primary storage  object store and encryption

note could be done in steps 
 step one is deleting all existing user thumbs including db cleanup to eliminate existing orphans and go eg with idea  what would eliminate the orphan topic generally 
 step two is centralisation with an repair procedure deleting all post created user thumbs and setup the central thumb store",Not_TD,TD
995,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 steps to reproduce




 expected behaviour
tell us what should happen

 actual behaviour
tell us what happens instead

 server configuration
operating system

web server

database

php version

owncloud version see owncloud admin page

updated from an older owncloud or fresh install

where did you install owncloud from

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here



the content of configconfigphp


log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder


are you using external storage if yes which one localsmbsftp

are you using encryption yesno

are you using an external userbackend if yes which one ldapactivedirectorywebdav

 ldap configuration delete this part if not used


with access to your command line run eg
sudo u wwwdata php occ ldapshowconfig
from within your owncloud installation folder

without access to your command line download the dataownclouddb to your local
computer or access your sql server remotely and run the select query
select  from ocappconfig where appid  userldap


eventually replace sensitive data as the nameipaddress of your ldap server or groups


 client configuration
browser

operating system

 logs
 web server error log

insert your webserver log here


 owncloud log dataowncloudlog

insert your owncloud log here


 browser log

insert your browser log here this could for example include

a the javascript console log
b the network log 
c 

",Not_TD,Not_TD
996,i would like to suggest adding support for convergent encryption to the encryption app to see my reason for suggesting it consider the following use  you are hosting an instance on owncloud using local storage on the  you are backing the storage with a deduplicated filesystem example zfs btrfs  you are maintaining backup copies of the owncloud data on another cloud providers storagein this scenario enabling encryption would be ideal to secure backup copies of the data from tampering by the third party storage provider but enabling it will negate using deduplication on the primary storage if convergent encryption were available with the ability to separately backup the encryption keys used to another provider or storage location then the data could be encrypted without severely affecting deduplication of the data,Not_TD,Not_TD
997," actual behaviour
we have to migrate about  accounts where we will merging the various departments to only one company all this users will get a new username where we will move the full account include file locations from username a to username b

in the current situation when you migrate a user via filestransferownership all files will end up in a subfolder like  transferred from oldusername on 

 steps to reproduce
 occ filestransferownership oldusername newusername

 expected behaviour
would be nice if the destination path becomes configurable so that a transfer can end up elsewhere for example in a subfolder with custom name or directly in the root for a new account
",Not_TD,TD
998,"the current protocol doesnt allow for early failure detection when starting a new transfer the server doesnt know what the final target will be this means that it is unable to
 detect whether the target folder actually still exists before even continuing
 detect whether there is enough space
 potentially other things

we could pass the expected target path name as an additional header when starting the transfer 

 guruz 

similar concerns here 

ideally we should pass all possible metadata there
 target folder
 mtime xocmtime to set on it
 checksum
 total length
",Not_TD,TD
999,"api tests 





are failing in drone and needs further investigation 

",Not_TD,Not_TD
1000,thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out this is the bug tracker for the server component find other components at for reporting potential security issues please see to make it possible for us to help you please fill out below information carefully  steps to  create a folder test with a file testtxt inside with content  create a file testtxt with content  drag and drop the new file into the folder test within the web frontend expected behaviourthe file conflict dialog should open like he does when you upload a existing file to the folder via the   upload button and you can select which file you want to keep actual behaviouran error message appear could not move testtxt target exists server configurationdemo instance under behaviour is the same for owncloud version  and   client configurationbrowser firefox  system ubuntu ,Not_TD,Not_TD
1001," steps to reproduce
 install postgresql  
 set passwordencryption   in postgresqlconf
 create user with password
 create db with user as owner
 configure pghbaconf to allow connections from remote host with 
 install owncloud on rhel  with php  from softwarecollection
 try to connect owncloud to postgresql

 expected behaviour
the installation wizard should be able to complete or show a correct error message
the owncloud logfile should show a correct error message
connection is not working because  uses pgsql  and  was introduced in pgsql 

 actual behaviour
an error message postgresql username andor password not valid is shown
additionally you find logs in owncloudlog see below

 server configuration
operating system 
red hat enterprise linux server release  maipo

web server
apache  from softwarecollection

database
postgresql 

php version
 from softwarecollection

owncloud version see owncloud admin page


updated from an older owncloud or fresh install
fresh

where did you install owncloud from
owncloudcom  downloaded 


 owncloud log dataowncloudlog

 app in contextmethodposturlindexphpmessageerror occurred while checking postgresql version assuming  
 app in contextmethodposturlindexphpmessageexception exceptiondoctrinedbaldbalexceptionmessagefailed to connect to the database an exception occurred in driver sqlstate  fatal  no postgresql user name specified in startup             ocdbconnectionconstructarray objectdoctrinedbaldriverpdopgsqldriver objectdoctrinedbalconfiguration   doctrinedbaldrivermanagergetconnectionarray objectdoctrinedbalconfiguration   ocdbconnectionfactorygetconnectionpgsql   ocserverocclosure sensitive parameters replaced           ocdbprepareshow serverver null            
 index dbconnectionstring at 

 code

this pgconnect fails first i think but errors are supressed
there should be more meaningful errors here username  password invalid is not always correct

without  the owncloud log showed

 unable to connect to postgresql server scram authentication requires libpq version  or above at 


",Not_TD,Not_TD
1002,if i want to query  users with username displayname email address and quota i have to query first  and than  times  the server must process  requests which is very inperformantif i also want query also the group memberships i have to do additional  requestsif getusers will be extended to return more info how to do thisadd a parameter that must be set to true if more infos should be requestedthe actual data part of the result looks like this            frank       how to extend it and stay compatible to the actual response,Not_TD,TD
1003,"issue from community 

steps
 enter an invalid license key in the admin ui
 see the invalid key error message
 try to get rid of the error message without having a valid key

expected behavior
you can at least send an empty string or have a way to purge an invalid license key

actual behavior
its not possible to get rid of the warning without messing with the db see central ticket",Not_TD,TD
1004," steps to reproduce
 clear the quota default field in the ui by pressing backspace
 refresh to confirm the field is now blank

 expected behaviour
the ocappconfig table contains a row with  and configvalue should now contain 

 actual behaviour
the configvalue retains the previous value

 server configuration
operating system ubuntu 

web server  

database  

php version  

owncloud version 

updated from an older owncloud or fresh install
updated for a number of years

where did you install owncloud from ubuntu package

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and put the link here
no errors found



the content of configconfigphp



    system 
        updatechecker false
        instanceid 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            cloudsafehostcomau
        
        datadirectory varowncloud
        overwritecliurl httpscloudsafehostcomau
        dbtype mysql
        version 
        dbname owncloud
        dbhost 
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        logtimezone utc
        installed true
        ldapignorenamingrules false
        loglevel 
        logfile tmpowncloudlog
        maintenance false
        maildomain removed sensitive value
        mailfromaddress removed sensitive value
        mailsmtpmode smtp
        mailsmtphost removed sensitive value
        memcachelocal ocmemcacheredis
        memcachelocking ocmemcacheredis
        redis 
            host localhost
            port 
            timeout 
            password removed sensitive value
            dbindex 
        
    




list of activated apps


enabled
   comments 
   configreport 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filesmediaviewer 
   filessharing 
   filestrashbin 
   filesversions 
   firstrunwizard 
   market 
   notifications 
   provisioningapi 
   systemtags 
   templateeditor 
   updatenotification 
   userldap 
disabled
   encryption
   external
   userexternal



are you using external storage if yes which one no

are you using encryption no

are you using an external userbackend if yes which one ldap

 ldap configuration delete this part if not used


the ldapquotadefault is now blank here  im not sure what it was before i made the change to the db



 client configuration
browser chrome 

operating system windows 

",Not_TD,Not_TD
1005,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 using the following source
deb  

 running
aptget update

 produces
   inrelease
   release 
   releasegpg 
   releasegpg
  the following signatures were invalid keyexpired   keyexpired   keyexpired   keyexpired   keyexpired   keyexpired   keyexpired   keyexpired   keyexpired 
fetched  kb in   kbs
reading package lists done
w an error occurred during the signature verification the repository is not updated and the previous index files will be used gpg error   release the following signatures were invalid keyexpired   keyexpired   keyexpired   keyexpired   keyexpired   keyexpired   keyexpired   keyexpired   keyexpired 
w failed to fetch   the following signatures were invalid keyexpired   keyexpired   keyexpired   keyexpired   keyexpired   keyexpired   keyexpired   keyexpired   keyexpired 
w some index files failed to download they have been ignored or old ones used instead

 expected behaviour
expected apt to check for updates on repository

 actual behaviour
update displayed key expired errors and did not update

 server configuration
operating system ubuntu 

",Not_TD,Not_TD
1006,"you can create groups with all sorts of names in the webui or with the provisioning api like

curl  x post d groupidqmark
curl  x post d groupidasign
curl  x post d groupidaslash

and other special characters

you can list all groups fine with

curl 


and view individual groups with

curl 

and to get a  through you have to put the escaped value 

curl 


you can delete such groups with

curl  x delete
curl  x delete


the problem comes if you try with groups that have a  in their name a literal slash is never going to work

curl 

and an escaped slash like this is rejected by the server apache or php dev server

curl 


so you cannot manage a group like aslash via the provisioning api but you can manage it through webui",Not_TD,TD
1007,"when syncing  users from ldap on the cli the admin should see some feedback when a user property could not be mapped eg the email could not be determined currently we only log this to the logfile

it should also produce output on the cli so that running the sync command with quiet in a cron job can be used to notify the admin via email when there is a problem cron wont send an email if the output wis empty which is why quiet is important to work correctly",Not_TD,TD
1008, steps to reproducehaving  and  and no tags  using admin share a file filetxt with  using  share it with   as admin assign a tag on filetxt   dont close this browser and open a different one to log in with  edit the tag with  in the browser where admin is logged in move to another view enter a folder and go out  check the tags assigned to filetxt and open the dropdown  expected behaviourboth tag assigned and dropdown are updated actual behaviourdropdown is not updated server configurationoperating systemubuntu  serverapachedatabasemysqlphp  version see owncloud admin pagemaster  pre alphaeditionenterpriseupdated from an older owncloud or fresh installfreshthe content of configconfigphpare you using external storage if yes which one localsmbsftpnoare you using encryption yeslogs client configurationbrowserchrome,Not_TD,Not_TD
1009,"post merging  feat new command to move a users home folder  occ usermovehome

 a users home can now be moved with the occ usermove command
 you can report for a particular user which home he has

sudo uwwwdata occ userlist hugo a home
   hugo varwwwownclouddatahugo

 there are commands missing
 list which homes are present like
userhomes  varwwwownclouddata only unique entries
 list which users belong to a particular home like
userhomes u or users varwwwownclouddata  

reason
after moving a users home you have no knowledge which directories you have to maintain and which users have their home in an particular directory from an admin pov a nightmare except you take a physically look into directories and do a search for  if you know the directory

imho both commands are not a big deal as the data is already present and just needs to be queried only and printed

 as discussed ",Not_TD,Not_TD
1010,"



and maybe 
could be worth a try

phildavis  individualit ",Not_TD,Not_TD
1011,"before trying a decryptall the admin should be able to see which users have not yet agreed to the recovery key

sql
select distinct userid
from ocpreferences
where userid not in 
  select userid
  from ocpreferences
  where appid  encryption
    and configkey  recoveryenabled
    and configvalue  



  occ command
  check button in the admin settings encryption section maybe with a send reminder button
  occ command to check if all files have been correctly reencrypted

cc tomneedham ",Not_TD,TD
1012,"when visiting the shared by me view there is a column for favorites
when clicking on one of the stars in that column a csrf error occurs



expected behaviour favorites can be set or removed by clicking a star or the column is simply not there

damkencloud is at ",Not_TD,Not_TD
1013,"currently persistent locks can only be removed by the lock owners

it would be nice to also allow admins to remove such locks aka breaking the lock
prerequisite would be that admins also have access to the file through sharing

should subadmins also be able to unlock 

  ",Not_TD,TD
1014,currently as far as i can see it is only possible to move a collection of files  folders to another location by dragging them to a folder onscreen or to a folder represented in the navigation breadcrumbmy most common usecase for moving files  folders is to shift files from the instantupload folder to other folders not subfolders in my owncloud install currently it seems this can only be done by cut and pasting them in a synced folder on my local computer running the sync clienti propose  possible solutions both of which could be used in tandem a technically simple and a drag and drop ui  use the cut and paste metaphor ie select multiple files and a cut and possibly a copy button too or move button appears next to the new and upload buttons after clicking that it changes to a paste or move files here button so the user can navigate to the new folder click the button and complete the  drag and drop  when the user drags a selections of filesfolders to a folder  navigation breadcrumb folder after a moment the files app opens the corresponding folder while keeping the users dragged selection this is essentially the same as dolphins option called open folders during drag operations in this case i could move pictures from instant upload to personalkidsaugust picnic by dragging the pictures from instant upload to the home icon in the breadcrumb nav then the personal folder etc,Not_TD,TD
1015," describe the bug

sending put request to another users webdav endpoints as normal user gives different status code for  and ocis

 steps to reproduce

steps to reproduce the behavior

 create user alice and brian 
 as  alice create a folder parent
 as alice create file parentparenttxt and 
 send put request to endpoint    as user brian with body doesnotmatter
 then the http status code should be  this is the same for both  and ocis
 now again sent put request to endpoint remotephpdavfilesaliceparentparenttxt as user brian with body doesnotmatter
 http status code is  for ocis and  for 

 expected behavior
the status code should be  like that in ocis



put remotephpdavfilesaliceparentparenttxt 
host 
useragent 
contentlength 
authorization basic 
ocsapirequest true
xaccesstoken 
xrequestid 
acceptencoding gzip

doesnotmatter

  forbidden
accesscontrolalloworigin 
contentsecuritypolicy defaultsrc none
vary origin
xcontenttypeoptions nosniff
xdownloadoptions noopen
xframeoptions sameorigin
xpermittedcrossdomainpolicies none
xrobotstag none
xxssprotection  modeblock
date wed  dec   gmt
contentlength 


 actual behavior
this is current  behaviour

put coreremotephpdavfilesaliceparentparenttxt 
host 
useragent 
authorization basic 
ocsapirequest true
contentlength 

doesnotmatter

  conflict
date wed  dec   gmt
server  ubuntu
xcontenttypeoptions nosniff
xxssprotection 
xrobotstag none
xframeoptions sameorigin
xdownloadoptions noopen
xpermittedcrossdomainpolicies none
setcookie  pathcore httponly samesitestrict
expires thu  nov   gmt
cachecontrol nostore nocache mustrevalidate
pragma nocache
setcookie  pathcore httponly samesitestrict
contentsecuritypolicy defaultsrc none
setcookie  pathcore httponly samesitestrict
setcookie cookietesttest expireswed   gmt 
contentlength 
contenttype applicationxml 


derror xmlnsddav xmlnss
  sabredavexceptionconflict
  files cannot be created in nonexistent collections


",Not_TD,TD
1016,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 steps to reproduce
 upload a file
 reupload the same file
 open the info sidebar click on the row and check the versions

 expected behaviour
the preview of the previous file should show in versions tab

 actual behaviour
the preview is broken

 server configuration
operating system ubuntu 

web server apache 

database mysql

php version 

owncloud version see owncloud admin page current master  

updated from an older owncloud or fresh install fresh install

where did you install owncloud from

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here



the content of configconfigphp


log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder


are you using external storage if yes which one localsmbsftp

are you using encryption yesno

are you using an external userbackend if yes which one ldapactivedirectorywebdav

 ldap configuration delete this part if not used


with access to your command line run eg
sudo u wwwdata php occ ldapshowconfig
from within your owncloud installation folder

without access to your command line download the dataownclouddb to your local
computer or access your sql server remotely and run the select query
select  from ocappconfig where appid  userldap


eventually replace sensitive data as the nameipaddress of your ldap server or groups


 client configuration
browser

operating system

 logs
 web server error log

insert your webserver log here


 owncloud log dataowncloudlog

   bad request              
 by                        


 browser log

insert your browser log here this could for example include

a the javascript console log
b the network log 
c 



",Not_TD,Not_TD
1017,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 steps to reproduce
 to do a dav request on webdav endpoint with post request

curl  u adminadmin  v xpost 


 expected behaviour
server should not throw any errors and give  not implemented since post is not used in webdav

 actual behaviour
it gives  internal server error with response body


derror xmlnsddav xmlnss
  typeerror
  explode expects parameter  to be string null given


and server log


  reqid 
  level 
  time 
  remoteaddr 
  user admin
  app webdav
  method post
  url remotephpdavfilesadminparentparenttxt
  message exception explode expects parameter  to be string null given exceptiontypeerrormessageexplode expects parameter  to be string null                

 server configuration
operating system ubuntu 

web server  

database mysql

php version 

owncloud version see owncloud admin page latest git master

updated from an older owncloud or fresh install fresh

where did you install owncloud from git


",Not_TD,Not_TD
1018,"hello

the change  causes my mail server to refuse sending mail
in fact i use an authenticated smtp server which does not allow using envelope mail from address different from account one this prevent smtp spoofing
is it possible to apply one of the following
 add the possibility to avoid this change on smtp server settings 
 use from headers instead of mail from envelope 
 permit each users ton configure their smtp settings to override default server one 

as workaround i commented the line below in appsdavlibcaldavscheduleimippluginphp
                         setfrom

regards

 steps to reproduce
invite someone to calendar event

 expected behaviour
email is sent from email address configured as authenticated user in settings  admin  general email serverfrom address

 actual behaviour
email is sent from user address and refused by mail server prevent spoofing issues

 server configuration
operating system
rasbian 
web server
apache 
database
mariadb 
php version
php 
owncloud version see owncloud admin page
owncloud  stable 
updated from an older owncloud or fresh install
updated from an older owncloud
where did you install owncloud from
debian repository  
signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here

no errors have been found

the content of configconfigphp


log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems

binocc configlist system                                                                                                                   

    system    
        instanceid 
        passwordsalt removed sensitive value
        datadirectory homeownclouddata
        dbtype mysql
        version 
        dbname owncloud
        dbhost localhost
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        installed true
        maxzipinputsize 
        allowzipdownload true
        forcessl true
        logfile varlogowncloudowncloudlog
        loglevel 
        logtimezone europeparis
        theme 
        maintenance false
        trusteddomains 
            removed sensitive value
        
        mailsmtpmode smtp
        previewlibreofficepath usrbinlibreoffice
        mailsmtphost removed sensitive value
        mailsmtpport 
        mailfromaddress removed sensitive value
        maildomain removed sensitive value
        secret removed sensitive value
        mailsmtpauth 
        trashbinretentionobligation auto
        updatechecker false
        mailsmtpname removed sensitive value
        mailsmtppassword removed sensitive value
        mailsmtpsecure tls
        mailsmtpauthtype login
        filelockingenabled true
        memcachelocal ocmemcacheapcu
        memcachelocking ocmemcacheredis
        redis 
            host localhost
            port 
        
    


list of activated apps


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder

binocc applist
enabled
   activity 
   calendar 
   configreport 
   contacts 
   dav 
   federatedfilesharing 
   files 
   filesexternal 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   firstrunwizard 
   gallery 
   market 
   notifications 
   twofactortotp 
   updatenotification 
disabled
   comments
   encryption
   external
   federation
   provisioningapi
   security
   systemtags
   userexternal

are you using external storage if yes which one localsmbsftp
no
are you using encryption yesno
no
are you using an external userbackend if yes which one ldapactivedirectorywebdav
no

 client configuration
browser
any
operating system
any
 logs
 web server error log

insert your webserver log here

na
 owncloud log dataowncloudlog

insert your owncloud log here

na
 browser log

na",Not_TD,Not_TD
1019,"hey guys

public links arent displayed anymore when you reopen the share options in the gui with chrome  and osx
same issue for firefox  but i found a workaround  you need to press ctrlr from time to time
browser cache und cookies were deleted before but this didnt help

 steps to reproduce
 create public link share
 close the share options
 open the shape options again
 no public link share displayed

 expected behaviour
public link share should be visible

 actual behaviour
public link share not visible

 server configuration
operating system centos 

web server apache 

database mysql

php version 

owncloud version 

updated from an older owncloud or fresh install updated from 

where did you install owncloud from archive from owncloudorg

signing status owncloud  and above 


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here

no errors have been found

the content of configconfigphp


    config 
        instanceid 
        passwordsalt removed sensitive value
        trusteddomains 
            
            
            ocqadomaincom
        
        logfile varlogowncloudowncloudlog
        loglevel 
        datadirectory appsownclouddata
        dbtype mysql
        version 
        dbname owncloud
        dbhost 
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        installed true
        ldapignorenamingrules false
        theme 
        maintenance false
        forcessl true
        logtimezone europeberlin
        defaultlanguage engb
        secret removed sensitive value
        trashbinretentionobligation auto
        mailsmtpmode php
        mailfromaddress removed sensitive value
        maildomain removed sensitive value
        memcachedistributed ocmemcacheapcu
        memcachelocking ocmemcacheredis
        memcachelocal ocmemcacheapcu
        redis 
            host 
            port 
        
        singleuser false


list of activated apps


enabled
   activity 
   comments 
   configreport 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   gallery 
   market 
   notifications 
   provisioningapi 
   systemtags 
   templateeditor 
   updatenotification 
   userldap 
disabled
   encryption
   external
   firstrunwizard
   userexternal


are you using external storage if yes which one no

are you using encryption no

are you using an external userbackend if yes which one ldap

 ldap configuration delete this part if not used



 configuration                                                                                                                                                    

 hasmemberoffiltersupport                                                                                                                                           
 haspagedresultsupport                                                                                                                                               
 homefoldernamingrule                                                                                                                                                
 lastjpegphotolookup                                                                                                                                                
 ldapagentname                  user                                                                                                                             
 ldapagentpassword                                                                                                                                                
 ldapattributesforgroupsearch                                                                                                                                        
 ldapattributesforusersearch                                                                                                                                         
 ldapbackuphost                                                                                                                                                      
 ldapbackupport                                                                                                                                                      
 ldapbase                       dcdomaindccom                                                                                                                        
 ldapbasegroups                 dcdomaindccom                                                                                                                        
 ldapbaseusers                  dcdomaindccom                                                                                                                        
 ldapcachettl                                                                                                                                                     
 ldapconfigurationactive                                                                                                                                            
 ldapdynamicgroupmemberurl                                                                                                                                           
 ldapemailattribute             mail                                                                                                                                 
 ldapexperiencedadmin                                                                                                                                               
 ldapexpertuuidgroupattr                                                                                                                                             
 ldapexpertuuiduserattr                                                                                                                                              
 ldapexpertusernameattr         samaccountname                                                                                                                       
 ldapgroupdisplayname           cn                                                                                                                                   
 ldapgroupfilter                objectclassgroupcn                                                                                           
 ldapgroupfiltergroups                                                                                                                                           
 ldapgroupfiltermode                                                                                                                                                
 ldapgroupfilterobjectclass     group                                                                                                                                
 ldapgroupmemberassocattr       member                                                                                                                               
 ldaphost                       ldapdcdomaincom                                                                                                                    
 ldapignorenamingrules                                                                                                                                               
 ldaploginfilter                     
 ldaploginfilterattributes                                                                                                                                           
 ldaploginfilteremail                                                                                                                                               
 ldaploginfiltermode                                                                                                                                                
 ldaploginfilterusername                                                                                                                                            
 ldapnestedgroups                                                                                                                                                   
 ldapoverridemainserver                                                                                                                                             
 ldappagingsize                                                                                                                                                   
 ldapport                                                                                                                                                         
 ldapquotaattribute              gb                                                                                                                                 
 ldapquotadefault                                                                                                                                                    
 ldaptls                                                                                                                                                            
 ldapuserdisplayname            displayname                                                                                                                          
                                                                                                                                                 
 ldapuserfilter                  
 ldapuserfiltergroups                                                                                                                                       
 ldapuserfiltermode                                                                                                                                                 
 ldapuserfilterobjectclass      user                                                                                                                                 
 ldapusername                   samaccountname                                                                                                                       
 ldapuuidgroupattribute         auto                                                                                                                                 
 ldapuuiduserattribute          auto                                                                                                                                 
 turnoffcertcheck                                                                                                                                                   
 usememberoftodetectmembership                                                                                                                                      




 client configuration
browser chrome 

operating system macos 

 logs
 web server error log

no errors


 owncloud log dataowncloudlog

no errors


 browser log

no errors

",Not_TD,Not_TD
1020,"pr  adds the ability to share with multiple users at the same time

for example alice could paste briancarol into the sharewith text box and the ui will suggest sharing with both of them

the multiplesharing is only with users to share with groups you can only do one at a time

group names can have a comma in them so it is possible to have a group with the exact name briancarol when that happens then the ui should suggest  options for sharing  share with the group briancarol or share with each of the users brian and carol

if a string in the commaseparated list is not a valid user then it should be omitted from the list of people to share with paste in brianunknowncarol and the ui should suggest sharing with only brian and carol

add some automated webui test scenarios to cover the basic behavior so that we dont get accidental regressions in future",Not_TD,TD
1021," steps to reproduce
 using google drive for one mount

 expected behaviour
when gd reports an error the error should be captured and properly displayed in the log
see first line in owncloud log below

 actual behaviour
the log entry contains debug info because it is not catched

 server configuration
operating system ubuntu 

web server nginx

database mariadb

php version 

owncloud version 

updated from an older owncloud or fresh install updated

where did you install owncloud from tar

signing status owncloud  and above


all ok


are you using external storage if yes which one localsmbgd

are you using encryption no

are you using an external userbackend if yes which one no

 logs
 web server error log

no relevant entry


 owncloud log dataowncloudlog

exception n error n  errors n  code   message user rate limit exceeded rate of requests for user exceed configured project quota you may consider reevaluating expected peruser traffic to the api and adjust project quota limits accordingly you may monitor aggregate quota usage and adjust limits in the api console httpsconsoledevelopersgooglecomapisapidrivegoogleapiscomquotasprojectxyzn nn exceptiongoogleserviceexceptionmessagen error n  errors n  code   message user rate limit exceeded rate of requests for user exceed configured project quota you may consider reevaluating expected peruser traffic to the api and adjust project quota limits accordingly you may monitor aggregate quota usage and adjust limits in the api console httpsconsoledevelopersgooglecomapisapidrivegoogleapiscomquotasprojectxyzn 
    googlehttprestdoexecute
  calluserfuncarray
  googletaskrunnerrun
  googlehttprestexecute
  googleclientexecute
  googleserviceresourcecall
  googleservicedriveresourcefileslistfiles
  ocafilesexternallibstoragegooglegetdrivefile
  ocafilesexternallibstoragegooglefiletype
  ocfilesstoragecommonisfile
  ocafilesexternallibstoragegooglehasupdated
  ocfilesstoragewrapperwrapperhasupdated
  ocfilesstoragewrapperavailabilityhasupdated
  ocfilesstoragewrapperwrapperhasupdated
  ocfilesstoragewrapperwrapperhasupdated
  ocfilesstoragewrapperwrapperhasupdated
  ocfilescachewatcherneedsupdate
  ocfilesviewgetcacheentry
  ocfilesviewgetfileinfo
  ocadavconnectorsabreobjecttreegetnodeforpath
  ocadavtreegetnodeforpath
  sabredavservergetpropertiesiteratorforpath
  sabredavserverwritemultistatus
  sabredavservergeneratemultistatus
  sabredavcorepluginhttppropfind
  sabredavserveremit
  sabredavserverinvokemethod
  sabredavserverstart
  ocadavserverexec
  requireoncevarw
 


micbar jvillafanez ",Not_TD,Not_TD
1022," steps to reproduce
 create users alice and brian
 alice creates folder folder and creates public share for folder
 access publicshare link in incognito mode
 click add to localhost and login as brian
 accept the remote share folder folder is there
 as alice delete folder folder
 as brian folder folder is still there
 asbrian open folder and go back to root dir folder is gone

 expected behaviour
whenever the sharer deletes the publicshared folder the user who has added the publicshare to hisher oc server should not see the shared folder on hisher files list

 actual behaviour
despite the sharer has deleted the shared folder the user who has added the publicshare to hisher oc server can still see the shared folder
but when heshe opens the shared folder and returns back to root directory the shared folder is gone






 server configuration
operating system ubuntu 

web server apache

database mysql

php version 

owncloud version  prealpha git",Not_TD,Not_TD
1023, expected behaviourif i do not want to get mail i expect to have a setting to turn mailing off if turned off i would also expect the mail settings to be hidden or grayed out actual behaviourthere are two new settings about mail in  mail templates email server but there is no preference to turn mailing off server configurationoperating system centos  server nginx  mysql  version  version  alpha ,Not_TD,Not_TD
1024,for  i implemented the sticky footer the same way it was implemented in layoutuserphp for this i moved the footer to layoutbasephp because it needed to be in the wrapperlater i realized the name layoutbasephp probably had a purpose while thinking about a solution for this i thought it might be nice to have a template with header and footer for public access anyway this reduces the code in the publicphp from the apps and certifies a common looki mentioned this to jancborchardt and he asked to open an issue on this matter so here it is   karlitschek ,Not_TD,TD
1025,"no alert is given to second user that the same file is already in use

 steps to reproduce
 alice opens wordfile does some changes
 bob opens same synchronized wordfile
 no alert is given to bob that the same file is already in use

 expected behaviour
alert should be given to bob that the same file is already in use

 actual behaviour
no alert is given to bob that the same file is already in use

 server configuration
owncloud version see owncloud admin page
owncloud 

updated from an older owncloud or fresh install
new installation

where did you install owncloud from
installed on qnap




 client configuration
browser
chrome 
operating system
windows 
",Not_TD,Not_TD
1026," but after after  there might not be one

 steps to reproduce
 on serveras shell the one you want to add as trusted run sudo u wwwdata php occ configsystemset versionhide type boolean value true
 as an admin of some other instance go to indexphpsettingsadminsectionidsharingfederation input  and hit add  or send the equivalent post request


curl indexphpappsfederationtrustedservers

h contenttype applicationxwwwformurlencoded  
h ocsapirequest true 
data url


 expected behavior
proposed 
 server handshake is initiated regardless of the version and will turn out green if at the end the sharedsecret is exchanged 
 expose some public capabilities to rely on in these cases 

 actual behavior
action  returns an  bad request with the message


 remote server version is too low owncloud  is required 


this is not directly related to  but probably can be considered a subtask of that one issue ",Not_TD,Not_TD
1027,"when a remote dav storage is modified it is accessed by token in incognito mode
it would be handy to resolve this token into the user with some kind of core api call 
at least obtain a share object that was used for authorization to call getsharedwith on it

currently it is possible for dav  endpoints only with such an ugly approach 
",Not_TD,TD
1028,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
happened while running acceptance tests in an http environment

testserverurl behatsuiteapifederation testexternaluserbackendsfalse make testacceptanceapi testingremotesystemfalse





 expected behaviour
tests pass no problems found

 actual behaviour
the discovery manager fails to fetch the appropiate endpoint due to an invalid https certificate in the remote server

could not share filefolder message curl error  ssl certificate problem self signed certificate

note that http was requested so there shouldnt be a request made through https although the request is attempted through https there is no retry through http

the problem seems to be in  where the request fails with an ssl exception that isnt catched

 server configuration
operating system ubuntu 

web server apache 

database mysql

php version 

owncloud version  pre alpha 

updated from an older owncloud or fresh install fresh install

where did you install owncloud from

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here



the content of configconfigphp


log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder


are you using external storage if yes which one localsmbsftp

are you using encryption yesno

are you using an external userbackend if yes which one ldapactivedirectorywebdav

 ldap configuration delete this part if not used


with access to your command line run eg
sudo u wwwdata php occ ldapshowconfig
from within your owncloud installation folder

without access to your command line download the dataownclouddb to your local
computer or access your sql server remotely and run the select query
select  from ocappconfig where appid  userldap


eventually replace sensitive data as the nameipaddress of your ldap server or groups


 client configuration
browser

operating system

 logs
 web server error log

insert your webserver log here


 owncloud log dataowncloudlog

insert your owncloud log here


 browser log

insert your browser log here this could for example include

a the javascript console log
b the network log 
c 
",Not_TD,TD
1029,"we mostly have tests that test the existence of each files which sends request to the dav endpoint of each filefolder but we dont have tests that try to get the entire file list with webdav

we need to add tests to get the list of files from webdav
 test getting files list on user files public link trashbin
 use depth header to get the nested filesfolders
",Not_TD,TD
1030,"pr  added code to allow the api acceptance tests to access a users resources filesfolders via their personal space id that is a new way to access resources through webdav that code is running in ocis and there is currently just a single test scenario for it

see commit 

getpersonalspaceidforuser queries  to get the list of spaces for a user and gets the spaceid of the users personal space that works on ocis but that endpoint is not available on reva

the space id of a users personal space is the users uuid

adjust the test code so that getpersonalspaceidforuser returns the users uuid when running on ocis

that will make it possible for the test scenarios to pass on reva",Not_TD,TD
1031," steps to reproduce
 create an app password
 instead of clicking on done button click on trashbin button

 expected behaviour

the info related to the app password should be removed

 actual behaviour

the info is kept shown and it is even possible to click on done button when it wont save nothing

 server configuration

operating system
ubuntu 

web server
apache

database
mysql

php version


owncloud  

updated from an older owncloud or fresh install
fresh

are you using external storage if yes which one 
no

are you using encryption 
no

logs



 client configuration

browser

firefox



",Not_TD,TD
1032,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
the file firewall app allows to create groups that block requests if all rules in that group are matched when an upload is blocked owncloud displays a yellow alert box when a download is blocked the user is being redirected to an ugly forbidden error page the file firewall works as intended it would be nice to have a more userfriendly approach for blocked downloads though another yellow alert box would be perfect in my opinion


 steps to reproduce
 install file firewall app on oc 
 configure group that block requests
 try to open a file with a user that the block applies to

 expected behaviour
yellow alert box similar to the alert shown when an upload is denied by the file firewall

 actual behaviour
forbidden error page




 server configuration
operating system ubuntu  lts owncloud docker container

web server apache 

database

php version 

owncloud version 

updated from an older owncloud or fresh install fresh

where did you install owncloud from univention app center

signing status owncloud  and above


no errors have been found



the content of configconfigphp


php
config  array 
  datadirectory  varlibuniventionappcenterappsownclouddatafiles
  appspaths 
  array 
     
    array 
      path  varwwwowncloudapps
      url  apps
      writable  false
    
     
    array 
      path  varwwwowncloudcustom
      url  custom
      writable  true
    
  
  dbtype  mysql
  dbhost  
  dbname  owncloud
  dbuser  owncloud
  dbpassword  
  dbtableprefix  oc
  trusteddomains 
  array 
      
  
  passwordsalt  
  secret  
  overwritecliurl  
  version  
  logtimezone  utc
  installed  true
  instanceid  
  ldapignorenamingrules  false
  updatechecker  false
  upgradedisableweb  true
  filelockingenabled  true
  memcachelocal  ocmemcacheapcu
  maintenance  false
  loglevel  
  defaultlanguage  en
  htaccessrewritebase  owncloud
  logrotatesize  
  onlyoffice 
  array 
    verifypeeroff  true
  
  firewallrules  



list of activated apps


enabled
   adminaudit 
   comments 
   configreport 
   dav 
   enterprisekey 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filessharing 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   firewall 
   firstrunwizard 
   market 
   notifications 
   provisioningapi 
   ransomwareprotection 
   security 
   systemtags 
   updatenotification 
   userldap 
   workflow 



are you using external storage if yes which one no

are you using encryption no

are you using an external userbackend if yes which one ldap

 ldap configuration delete this part if not used
shouldnt be relevant will gladly supply it if required


with access to your command line run eg
sudo u wwwdata php occ ldapshowconfig
from within your owncloud installation folder

without access to your command line download the dataownclouddb to your local
computer or access your sql server remotely and run the select query
select  from ocappconfig where appid  userldap


eventually replace sensitive data as the nameipaddress of your ldap server or groups


 client configuration
browser firefox  chromium 

operating system linux mint 

 logs
 web server error log

doesnt log anything when i open the page


 owncloud log dataowncloudlog

doesnt log anything when i open the page


 browser log

jqmigrate migrate is installed version 

",Not_TD,Not_TD
1033,we have debated this issue slightly here  yet that pr is to fix purely apps that use publicphpwhat is still an issue is apps such as activity listen for usergenerated hooks for example on file accessdeletion etc if activity is only enabled for a specific set of users in a defined list of groups there is no mechanism to load the backends of activity for the other users meaning activity streams are left incomplete as the hooks have no listeners for users outside of the enable list for the activity appobviously this depends on the app as to whether it is an issue but for activity it seems a user would still be interested in actions performed on their files by other users even if the activity app is not enabled for themfinally to make things clearer this issue does not affect apps using publicphp routes since in these conditions all apps are loaded regardless so hooks can be triggeredthis ticket is purely for discussion of how this issue may be  nickvergessen ,Not_TD,TD
1034,"currently enabling the app filesexternal is not actually enabling it

we need to set a variable using the cli or in the gui enable the checkbox in admin settings


occ configappset core enableexternalstorage valueyes


enabling the app should put that variable to yes automatically",Not_TD,TD
1035,"

 steps to reproduce
 upload a file with more than  characters in the file name
 try to make a public share

 expected behaviour
the share should be autoshorten to  characters

 actual behaviour
sharing not possible have to selfshorten the link

 server configuration
web server

owncloud version see owncloud admin page
 stable

this also is a problem in mobile app like ios 
a good solution would be if the error could be caught directly in the api",Not_TD,TD
1036,as discussed here currently we just check if we can reach the server if it fails and https was used we guess that it was a ssl error and return invalid or untrusted ssl certificate ideally we would parse the return code identify the cause of the problem and return the correct error message,Not_TD,TD
1037," steps to reproduce
 open user management screen
 delete existing group
 open dropdown that is used to add new not yet created users to a group

 expected behaviour
the deleted group is not listed in the dropdown

 actual behaviour
the group is still there

 server configuration
owncloud version owncloud enterprise edition  stable

updated from an older owncloud or fresh install fresh

where did you install owncloud from docker hub",Not_TD,Not_TD
1038,currently marking as favorite only adds an indicator in the list view and you need to manually switch the view to go to all favorited itemsto have favorites more present we could experiment with automatically having the favorite files of the current folder sorted up top in the view subfolders and files immediately in there not recursive of coursecc karlitschek   lukasreschke this is also about the topic of owncloud showing more relevant info to people a bit related to  remember changes to sort order sort by modified date,Not_TD,TD
1039,"often times after occ upgrade failed administrators try to run them again

however the system could be in an unpredictable and nonresumable state and we always urge admins to restore from the backup before trying again

resuming an upgrade could cause the system to go into an unknown state

i suggest we put a check in place that whenever an update has already started it sets a flag in the database that prevents resuming when the flag is set any run of occ upgrade asks the admin to restore from backup

one exception is about errors related to incompatible apps these should be resumable after disabling or manually fixing these apps

thoughts   cdamken  micbar hodyroff  

the other alternative would be investing time into making updates resumable which need more research to be able to guarantee atomicity  reversibility of migrations which we currently dont have",Not_TD,TD
1040,this is a feature required to have reliable upload of big files  sometimes the server might take a while to assemble chunks or to put them in their final destination and the client times out which causes the file to be downloaded again  the solution to this problem is asynchronous put via a poll urlthis is already implemented on the client and will be part of the  releaseit is working successfully in a proprietary deployment with a custom app on the serverthe client send with the put a  header indicating it supports that feature the idea is that for the last chunk if the server has reason to believe that assembling the chunk may take more than a few seconds it may return  try later instead of the usual  created also in the response there is a header ocfinishpoll with a path to the poll urlexample  ocfinishpoll  client will then query this url which can write some spaces on the wire to avoid timeout and when it is finaly finished it can leave the json with etag and fileid property incase of success or an error property in case of failure   etag   fileid   ,Not_TD,TD
1041," description
check  log unsupported memcache by memcachelocking  reads by

 memcached is a reliable oldtimer for shared caching on distributed servers it performs well with owncloud with one exception it is not suitable to use with transactional file locking this is because it does not store locks and data can disappear from the cache at any time

memcached not also working in related issue

 related issue
 
 

 motivation and context
better help to user see

 
",Not_TD,TD
1042," steps to reproduce
 create a tag
 go to file list
 open file details right sidebar
 click on tags
 click in input field
 click on trash bin icon right to a tag

 expected behaviour
the ui suggests that the trash bin icon removes the tag from the file

 actual behaviour
the tag gets deleted completely possibly having huge consequences for example on retention policies

 server configuration
owncloud version 



",Not_TD,TD
1043,currently the webinterface doesn’t poll for changes except when reloading changing apps or folders this can lead to the displayed data being heavily outdated for example when you have the web app open sync some files using the desktop client or the web app open on another computer these changes do not appear in the originally open web appas this is a problem with not only files but all apps it should be a core componentthoughts websockets api postupload hooks cc  karlitschek ,Not_TD,TD
1044,after searching for a specific tag in the tag search it would be great if the files can be selected and downloaded as a zip folder just like in the normal file view it should be possible to select a group of files and also all files,Not_TD,TD
1045,"anne has foldersubfolder
anne shares folder readonly with bob
bob has filetxt in the trashbin
bob uses the trashbin api  to restore filetxt into foldersubfolder

 expected
the attempt to restore fails

 actual
the attempt to restore succeeds bob has written into a subfolder of the readonly share owned by anne

pr  adds the following test scenario that demonstrates the issue

  scenario outline restoring a file to an readonly folder
    given using  dav path
    and these users have been created with default attributes and skeleton files
     username 
         
         
    and user  has created folder sharefolderparent
    and user  has created folder sharefolderparentsharefolderchild
    and user  has shared folder sharefolderparent with user  with permissions 
    and as  folder sharefolderparentsharefolderchild should exist
    and user  has deleted file 
    when user  restores the file with original path  to  using the trashbin api
    then the http status code should be 
    then the http status code should be 
    and as  the file with original path  should not exist in trash
    and as  the file with original path  should exist in trash
    and as  file  should exist
    and as  file  should not exist
    examples
       davpath 
       old      
       new      


",Not_TD,TD
1046, steps to  log in to oc via  log  log in  see the  challenge page expected  should be checked only once actual  is checked on every loginowncloud  owncloudsecurity ideas on how to implement that cookieref ref ,Not_TD,Not_TD
1047,as we have been using the share link with password a lot lately we have discovered that sometimes we forget the password however the password has already been communicated to our  recipients so we cant send out a new password we just want to send the password to an eighth participant the question – can we put an eye on the share link password field so that we can see the password in case we forget itoris the password stored hashed  encrypted and we dont actually know the password once it is stored,Not_TD,TD
1048," steps

 enable calendar app
 create a new event
 add an attendee and use  as email address at first i thought i could specify a direct user id of oc before finding out that only email addresses work
 create event

 expected
event created or error message

 actual
nothing displayed dialog closes no error message
exception from sentry

errorexception undefined offset 
  handleerror
  convertaddresses
  setto
  schedule
  calluserfuncarray
  emit
  deliver
  processicalendarchange
  calendarobjectchange
  calluserfuncarray
  emit
  validateicalendar
  beforecreatefile
  calluserfuncarray
  emit
  createfile
  httpput
  calluserfuncarray
  emit
  invokemethod
  exec
  exec
  requireonce
  null


 version
owncloud  

 fyi",Not_TD,TD
1049,freebusy information allows calendar apps to more intelligently propose dates for events based on the availability of the selected participantsits like sharing your calendar with others however it will only show when you are busy not the details for each eventit would be great if the owncloud calendar app would have an interface to publish this information based on the events data it hasim currently trying to query this information from kontactkorganizerfrom searching a bit through the owncloud code for version  it looks like sabredav has some support for it but i didnt find whether the code also uses it and does publish freebusy information if it does i am only missing the documentation on how to use it if not it would be great to have this implementedthank you,Not_TD,Not_TD
1050," expected behaviour
share a folder containing  files and sent the sharing link to a user and they should but be able to open the folder and see and open any of the  files

 actual behaviour
the user utilizes the shared link to open the folder but they only see  files they can click the button to select all files and it says  files but does not show them on the window scrolling or paging does not show the other  files zooming out on the browser to  shows all the files but the text is too small to be readable 

 steps to reproduce
 share a folder containing  files and sent the sharing link to a user open the link and you will not see the entire list of files and the scroll or page down keys will not advance through the list of files 

 client configuration
client version

operating system  chrome browser

os language english


",Not_TD,Not_TD
1051," steps to reproduce
 create users    and some other users not having an a in their uid
 occ userlist 
 occ userlist a

 expected behaviour
at step  user  is listed
at step  users    are listed

 actual behaviour
no output

 server configuration
owncloud version see owncloud admin page
current core master or 

similar issue with trying to filter the groups list",Not_TD,Not_TD
1052,if users of an instance with a memory limit set to  try to process images taken with a modern smartphone php will regularly die because it doesnt have enough memory to process those large imageswhile we can try to prevent php from dying we still have to notify admins that the limit is set quite low and that it could have unforeseen consequencesi picked  as its the minimum required but  would be betterjancborchardt ,Not_TD,TD
1053,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
cross posting 

 steps to reproduce

 the following bugs started  days ago without warning im not sure what caused it or how to reproduce it

 expected behaviour

  normal owncloud operation in web and desktop client
  external storage locations should appear in main files window

 actual behaviour 

 there are no relevant error messages appearing in apache logs

 for the admin user the main file window is empty usually it shows the toplevel folder for  external storage locations all of them are local type if i click the external storage link then all of them are showing using impersonate app i have checked several users and most dont have this bug only the admin user database user and one other user ldap user are affected

    the missing folders in the main oc files page suggests that the feature settings  external storage  local storage ‘xyz’  available for  groupuser name is not working i give toplevel access of each external storage to the admin user group only so maybe it has to do with the local storage option itself which are actually nfs mounted drives that act like a local filesystem does that ring any bells for you

 error message in settings  security  warnings
 your web server is not yet set up properly to allow file synchronization because the webdav interface seems to be broken  
   i have searched the above error message extensively and tried several  of the solutions recommended none of them worked
   my current theory is that some combination of php modules htaccess apache conf settings are causing webdav support sabre to be blocked somehow looking for suggestions on how to systematically test this

 error message in client



 server configuration
operating system

ubuntu 

web server

apache 

database

mysql

php version



owncloud version see owncloud admin page



updated from an older owncloud or fresh install

where did you install owncloud from

the internet

signing status owncloud  and above


technical information

the following list covers which files have failed the integrity check please read
the previous linked documentation to learn more about the errors and how to fix
them

results

 core
	 invalidhash
		 htaccess
		 coreimgfavicontouchsvg
		 coreimglogopng
	 filemissing
		 coreimgactionslockclosedsvg
		 coreimgactionslockopensvg
	 extrafile
 checksum
	 invalidhash
		 jschecksumtabviewjs

raw output

array

      array
        
              array
                
                      array
                        
                              
                              
                        

                      array
                        
                              
                              
                        

                      array
                        
                              
                              
                        

                

              array
                
                      array
                        
                              
                              
                        

                      array
                        
                              
                              
                        

                

        

      array
        
              array
                
                      array
                        
                              
                              
                        

                

        





the content of configconfigphp



    basic 
        license key removed sensitive value
        date thu  jul   
        owncloud version 
        owncloud version string 
        owncloud edition community
        server os linux
        server os version linux endex   smp thu may   utc  
        server sapi 
        webserver version  ubuntu
        hostname boxbicmnimcgillca
        loggedin user admin
    
    stats 
        users 
            database 
                count 
                seen 
                logged in  days 
            
            ldap 
                count 
                seen 
                logged in  days 
            
        
        groups 
            ocgroupdatabase 
        
    
    config 
        instanceid 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            boxbicmnimcgillca
            endexbicmnimcgillca
        
        corsalloweddomains 
            httpsboxbicmnimcgillca
            httpsendexbicmnimcgillcapiwik
            httpsmcgillca
        
        datadirectory cachedata
        overwritecliurl httpsboxbicmnimcgillca
        htaccessrewritebase 
        dbtype mysql
        version 
        dbname owncloud
        dbhost localhost
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        logtimezone utc
        installed true
        loglevel 
        ldapignorenamingrules false
        filesexternalallowcreatenewlocal true
        memcachelocal ocmemcacheapcu
        memcachelocking ocmemcacheredis
        redis 
            host localhost
            port 
        
        appstoreexperimentalenabled true
        enablepreviews true
        previewlibreofficepath usrbinlibreoffice
        quotaincludeexternalstorage false
        maintenance false
        appcodechecker false
        trashbinretentionobligation 
        enabledpreviewproviders 
            ocpreviewpng
            ocpreviewjpeg
            ocpreviewgif
            ocpreviewbmp
            ocpreviewxbitmap
            
            ocpreviewtxt
            ocpreviewdcm
            ocpreviewmarkdown
            ocpreviewillustrator
            ocpreviewpostscript
            ocpreviewphotoshop
            ocpreviewtiff
        
        mailsmtpmode smtp
        mailsmtphost removed sensitive value
        mailsmtpauth 
        mailsmtpauthtype login
        mailfromaddress removed sensitive value
        maildomain removed sensitive value
        mailsmtpport 
        mailsmtpsecure ssl
        mailsmtpname removed sensitive value
        mailsmtppassword removed sensitive value
        integrityexcludedfiles 
            corecssheadercss
            coreimgfaviconico
            coreimgbackgroundjpg
            coreimglogosvg
            coreimglogoiconsvg
            coreimgfaviconsvg
            updatervendorautoloadphp
            updatervendorcomposerautoloadrealphp
            updatervendorcomposerautoloadstaticphp
        
        debug false
        theme 
        singleuser false
    
    truncated because of character limits


list of activated apps


enabled
   activity 
   announcementcenter 
   audioplayer 
   bookmarks 
   camerarawpreviews 
   checksum 
   comments 
   configreport 
   customgroups 
   dav 
   diagnostics 
   external 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filestextviewer 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   gallery 
   impersonate 
   market 
   notifications 
   ownbackup 
   provisioningapi 
   systemtags 
   updatenotification 
   userexternal 
   userldap 
disabled
   encryption
   firstrunwizard


are you using external storage if yes which one localsmbsftp

local  nfs mounted network drives
webdav

are you using encryption yesno

no

are you using an external userbackend if yes which one ldapactivedirectorywebdav

ldap 

 ldap configuration delete this part if not used



 configuration                                                                                                 

 hasmemberoffiltersupport                                                                                     
 haspagedresultsupport                                                                                         
 homefoldernamingrule                                                                                          
 lastjpegphotolookup                                                                                          
 ldapagentname                                    
 ldapagentpassword                                                                                          
 ldapattributesforgroupsearch                                                                                  
 ldapattributesforusersearch                                                                                   
 ldapbackuphost                                                                                                
 ldapbackupport                                                                                                
 ldapbase                       oufaculty of medicinedccampusdcmcgilldcca                               
 ldapbasegroups                 oufaculty groupsoufaculty of medicinedccampusdcmcgilldcca             
 ldapbaseusers                  dccampusdcmcgilldcca                                                      
 ldapcachettl                                                                                               
 ldapconfigurationactive                                                                                      
 ldapdynamicgroupmemberurl                                                                                     
 ldapemailattribute             mail                                                                           
 ldapexperiencedadmin                                                                                         
 ldapexpertuuidgroupattr        cn                                                                             
 ldapexpertuuiduserattr         displayname                                                                    
 ldapexpertusernameattr         displayname                                                                    
 ldapgroupdisplayname           cn                                                                             
 ldapgroupfilter                objectclassorganizationalunit                                               
 ldapgroupfiltergroups                                                                                         
 ldapgroupfiltermode                                                                                          
 ldapgroupfilterobjectclass                                                                                    
 ldapgroupmemberassocattr       uniquemember                                                                   
 ldaphost                       ldapssensitivemcgillca                                                    
 ldapignorenamingrules                                                                                         
 ldaploginfilter                objectclasspersonobjectclassusercnuidmailuidnameuid 
 ldaploginfilterattributes                                                                                     
 ldaploginfilteremail                                                                                         
 ldaploginfiltermode                                                                                          
 ldaploginfilterusername                                                                                      
 ldapnestedgroups                                                                                             
 ldapoverridemainserver                                                                                        
 ldappagingsize                                                                                               
 ldapport                                                                                                   
 ldapquotaattribute                                                                                            
 ldapquotadefault                                                                                              
 ldaptls                                                                                                       
 ldapuserdisplayname            userprincipalname                                                              
            displayname                                                                    
 ldapuserfilter                 objectcategoryperson                                                        
 ldapuserfiltergroups                                                                                          
 ldapuserfiltermode                                                                                           
 ldapuserfilterobjectclass                                                                                     
 ldapusername                   samaccountname                                                                 
 ldapuuidgroupattribute         auto                                                                           
 ldapuuiduserattribute          auto                                                                           
 turnoffcertcheck                                                                                             
 usememberoftodetectmembership                                                                                




 client configuration
browser

chrome 

operating system

multiple

 logs
 web server error log

no relevant error messages in web server logs 

 owncloud log dataowncloudlog

insert your owncloud log here


 browser log

insert your browser log here this could for example include

a the javascript console log
b the network log 
c 
",Not_TD,TD
1054,"
 
 steps to reproduce
 a file
 the share button for the file
 find a user in the users and groups panel
 click the notify by email button on the user that youre sharing the file with

 expected behaviour
sending a share link email should go to the one guest user that the email was shared to

 actual behaviour
the share link email is sent out to all guest users

 server configuration
operating system ubuntu 

web server apache 

database mysql

php version php 

owncloud version 

updated from an older owncloud or fresh install fresh install

where did you install owncloud from sys admin installed from website files

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here

no errors have been found message

the content of configconfigphp


log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder


are you using external storage if yes which one localsmbsftp

are you using encryption yesno

are you using an external userbackend if yes which one ldapactivedirectorywebdav

 ldap configuration delete this part if not used


with access to your command line run eg
sudo u wwwdata php occ ldapshowconfig
from within your owncloud installation folder

without access to your command line download the dataownclouddb to your local
computer or access your sql server remotely and run the select query
select  from ocappconfig where appid  userldap


eventually replace sensitive data as the nameipaddress of your ldap server or groups


 client configuration
browser google chrome

operating system windows 

 logs
 web server error log

   the resource you tried to create already exists exceptionsabredavexceptionmethodnotallowedmessagethe resource you tried to create already   sabredavservercreatecollectionuploads   sabredavcorepluginhttpmkcolobjectsabrehttprequest   calluserfuncarrayarray   sabreeventeventemitteremitmethodmkcol   sabredavserverinvokemethodobjectsabrehttprequest        

 argument supplied for foreach at 

 offset  at 

 offset  at 

 exceptionsymfonycomponentroutingexceptioninvalidparameterexceptionmessageparameter fileid for route filesviewcontrollershowfile must match   given to generate a corresponding   symfonycomponentroutinggeneratorurlgeneratordogeneratearray array array array array filesviewcontr  array   symfonycomponentroutinggeneratorurlgeneratorgeneratefilesviewcontr array   ocrouteroutergeneratefilesviewcontr   ocurlgeneratorlinktoroutefilesviewcontr   ocurlgeneratorlinktorouteabsolutefilesviewcontr   ocsharemailnotificationssendinternalsharemailarray           
 app in contextmethodputurlindexphpappsguestsusersmessageuser backend ocuserdatabase is returning home varwwwownclouddatacom for user kcarrollgofauxcom which differs from existing value 



 owncloud log dataowncloudlog

insert your owncloud log here


 browser log

insert your browser log here this could for example include

a the javascript console log
b the network log 
c 

",Not_TD,Not_TD
1055," steps to reproduce
 share from  to 
 share form  to 
 as  compare all files page and the shared with you page

 expected behaviour
in both cases the same user should be displayed as the one who shared the filefolder

 actual behaviour
in all files the owner is displayed



in shared with you the initiator is displayed


 server configuration
operating system
ubuntu 
web server

database
sqlite
php version

owncloud version see owncloud admin page
 prealpha
updated from an older owncloud or fresh install
fresh
where did you install owncloud from
git

",Not_TD,Not_TD
1056," steps to reproduce

 having two servers servera and serverb
 using admin user from servera federate share a folder remotefolder with admin user in serverb
 in serverb as admin user accept the federated share
 using admin user in serverb delete stop being sharee remotefolder



 expected behaviour
share is removed no problems

 actual behaviour
there is a failure while deleting the folder stops to being shared but a warning appears and there are exceptions in the logs

 server configuration

operating system
ubuntu 

web server
apache

database
mysql

php version


cache
db

owncloud version see owncloud admin page

 betaeditioncommunityproductnameowncloud



updated from an older owncloud or fresh install
fresh

the content of configconfigphp





are you using external storage if yes which one localsmbsftp
no

are you using encryption 
no

logs

 app in contextmethoddeleteurlremotephpdavfilesadmincosasmessageexception     sabredavclientpropfindhttpdockero     ocfilesstoragedavhasupdated   ocafilessharingexternalstoragehasupdated   ocfilesstoragewrapperwrapperhasupdated   ocfilesstoragewrapperavailabilityhasupdated   ocfilesstoragewrapperwrapperhasupdated   ocfilesstoragewrapperwrapperhasupdated   ocfilescachewatcherneedsupdate   ocfilesviewgetcacheentryobjectocafilestrashbinstorage                calluserfuncarrayarray   sabreeventeventemitteremitafterunbind   sabredavcorepluginhttpdeleteobjectsabrehttprequest   calluserfuncarrayarray   sabreeventeventemitteremitmethoddelete   sabredavserverinvokemethodobjectsabrehttprequest        

 app in contextmethoddeleteurlremotephpdavfilesadmincosasmessageexception exceptionocpfilesstorageinvalidexceptionmessagesabrehttpclienthttpexception   ocfilesstoragedavconvertexceptionobjectsabrehttpclienthttpexception     ocfilesstoragedavhasupdated   ocafilessharingexternalstoragehasupdated   ocfilesstoragewrapperwrapperhasupdated   ocfilesstoragewrapperavailabilityhasupdated   ocfilesstoragewrapperwrapperhasupdated   ocfilesstoragewrapperwrapperhasupdated   ocfilescachewatcherneedsupdate   ocfilesviewgetcacheentryobjectocafilestrashbinstorage                calluserfuncarrayarray   sabreeventeventemitteremitafterunbind   sabredavcorepluginhttpdeleteobjectsabrehttprequest   calluserfuncarrayarray   sabreeventeventemitteremitmethoddelete   sabredavserverinvokemethodobjectsabrehttprequest        
 unauthorized
 app in contextmethoddeleteurlremotephpdavfilesadmincosasmessageexception     sabredavclientpropfindhttpdockero       ocafilessharingexternalstoragehasupdated   ocfilesstoragewrapperwrapperhasupdated   ocfilesstoragewrapperavailabilityhasupdated   ocfilesstoragewrapperwrapperhasupdated   ocfilesstoragewrapperwrapperhasupdated   ocfilescachewatcherneedsupdate   ocfilesviewgetcacheentryobjectocafilestrashbinstorage                calluserfuncarrayarray   sabreeventeventemitteremitafterunbind   sabredavcorepluginhttpdeleteobjectsabrehttprequest   calluserfuncarrayarray   sabreeventeventemitteremitmethoddelete   sabredavserverinvokemethodobjectsabrehttprequest        

 messagecurl error     guzzlehttpexceptionrequestexceptionwrapexceptionobjectguzzlehttpmessagerequest       reactpromisefulfilledpromisethenobjectclosure null   guzzlehttpringfuturecompletedfuturevaluethenobjectclosure null   guzzlehttpmessagefutureresponseproxyobjectguzzlehttpringfuturecompletedfuturearray       guzzlehttpclientgetocsprovider   ochttpclientclientgetocsprovider       ocafilessharingexternalmanagersendfeedbacktoremotenull null null       ocafilessharingexternalstoragehasupdated   ocfilesstoragewrapperwrapperhasupdated   ocfilesstoragewrapperavailabilityhasupdated   ocfilesstoragewrapperwrapperhasupdated   ocfilesstoragewrapperwrapperhasupdated   ocfilescachewatcherneedsupdate   ocfilesviewgetcacheentryobjectocafilestrashbinstorage                calluserfuncarrayarray   sabreeventeventemitteremitafterunbind   sabredavcorepluginhttpdeleteobjectsabrehttprequest   calluserfuncarrayarray   sabreeventeventemitteremitmethoddelete   sabredavserverinvokemethodobjectsabrehttprequest        


 client configuration

browser
chrome",Not_TD,Not_TD
1057," steps to reproduce
 open a browser and log in to owncloud
 create a new folder with name test 
 open the folder and upload one file
 on windows open the windows explorer wine and open the webdav url for your owncloud instance
 click on the new foldername test 


 expected behaviour
the uploaded file should be listed inside the windows explorer

 actual behaviour
an empty folder is shown if you remove the space at the end of the foldername then the file will be shown in the windows explorer

 server configuration
operating system debian 

web server apache 

database mysql 

php version 

owncloud version 

updated from an older owncloud or fresh install updated from 

where did you install owncloud from 

signing status owncloud  and above


the content of configconfigphp


    system 
        maintenance false
        instanceid removed sensitive value
        passwordsalt removed sensitive value
        datadirectory removed sensitive value
        dbtype mysql
        version 
        dbname owncloud
        dbhost localhost
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        installed true
        forcessl true
        logtype owncloud
        logfile removed sensitive value
        loglevel 
        logdateformat ymd his
        defaultlanguage  de
        mailsmtpmode php
        mailsmtphost 
        mailsmtpport 
        mailsmtptimeout 
        mailsmtpauthtype login
        mailsmtpdebug true
        rememberlogincookielifetime 
        sessionlifetime 
        appstoreenabled true
        appcodechecker true
        appspaths 
            
                path removed sensitive value
                url apps
                writable true
            
        
        theme removed sensitive value
        trusteddomains 
            removed sensitive value
            removed sensitive value
        
        secret removed sensitive value
        sharefolder shared
        maildomain removed sensitive value
        mailfromaddress removed sensitive value
        forcesslforsubdomains true
        memcachelocal ocmemcacheapc
        trashbinretentionobligation auto
        appstoreexperimentalenabled true
        activityexpiredays 
    


list of activated apps
   activity 
   comments 
   configreport 
   dav 
   disablerememberlogin 
   external 
   federatedfilesharing 
   federation 
   files 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   firstrunwizard 
   logreader 
   notifications 
   provisioningapi 
   systemtags 
   templateeditor 
   updatenotification 


are you using external storage if yes which one no

are you using encryption no

are you using an external userbackend if yes which one no


 client configuration
browser any

operating system windows 

 logs
 web server error log

  testuser  propfind remotephpwebdavtest     

 owncloud log dataowncloudlog

   file with name test could not be 
  ocadavconnectorsabreobjecttreegetnodeforpathtest
  sabredavservergetpropertiesforpathtest array 
  sabredavcorepluginhttppropfindobjectsabrehttprequest objectsabrehttpresponse
  calluserfuncarrayarray array
  sabreeventeventemitteremitmethodpropfind array
  sabredavserverinvokemethodobjectsabrehttprequest objectsabrehttpresponse
  sabredavserverexec
  requireoncepathtoow
  


 browser log

",Not_TD,TD
1058," steps

 create a public link share
 type in  characters and make sure there are special unicode characters like ü
 save share

 expected
share name is accepted

 actual
share name rejected


 version
 

it seems the limit is  ascii characters and when using unicode it would use more bytes in the database not sure what to do in this case as we cannot predict accurately how many characters would be allowed if all of them were unicode

maybe the php function used for the check needs to account for unicode characters as well but if it does will the database all db types accept them despite the fact that a unicode character will use more bytes  something to try

this issue is likely to happen for other columns as well",Not_TD,TD
1059,"the following scenario should be tested

 add a folder in oc including an external storage that includes some files the users root directly including an external storage should also work
 make the external storage unavailable eg by renaming the folder on the local storage
 do a propfind on the external storage  returns 
 do a propfind with depthinfinite on the parent folder  the local storage should be listed but none if its content thats the current behavior so it seems right
 rename the external storage back again
 do a propfind on the external storage  returns a 
 do a propfind with depthinfinite on the parent folder   the external storage and all its contents should be listed",Not_TD,Not_TD
1060,"currently the settings page allows an admin to prevent users to directly share to remote servers using the share panel autocomplete field and also prevent users to receive remote shares

however the setting doesnt disable the add to owncloud button from the public link page

there are two options here

option  whenever outgoing federated sharing is disabled also disable that button

option  add yet another checkbox to allow disabling this button

in the spirit of keep it simple maybe option  is the best one

 thoughts ",Not_TD,TD
1061,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 as admin share folder bilder with the user 
 as  navigate into the received share
 open the side panel of a file or folder inside of the share

 expected behaviour
the side panel should display the avatar of admin and there should be a note saying shared with you by admin same as in the side panel of the main folder

 actual behaviour
no such note is displayed

main shared folder


subfolder of shared folder



 server configuration
operating system
debian
web server
apache 
database
sqlite
php version

owncloud version see owncloud admin page
 beta git 
updated from an older owncloud or fresh install
fresh
where did you install owncloud from
git
the content of configconfigphp



    system 
        instanceid 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            localhost
        
        datadirectory homearturwwwowncloudcoredata
        overwritecliurl httplocalhostowncloudcore
        dbtype 
        version 
        logtimezone utc
        installed true
        licensekey removed sensitive value
        defaultlanguage en
        filesexternalallowcreatenewlocal true
        theme 
        loglevel 
        logrotatesize 
        maintenance false
        firewalldebug 
        logtype owncloud
        dbname owncloud
        dbhost localhost
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        debug true
        skeletondirectory homearturwwwowncloudcoretestsuiskeleton
    



list of activated apps


enabled
   comments 
   dav 
   diagnostics 
   enterprisekey 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   firewall 
   gallery 
   market 
   provisioningapi 
   systemtags 
   updatenotification 
disabled
   customgroups
   multidirtest
   passwordpolicy
   testing
   themeexample


are you using external storage if yes which one localsmbsftp
local
are you using encryption yesno
no
are you using an external userbackend if yes which one ldapactivedirectorywebdav
no",Not_TD,Not_TD
1062,"seen in damkencloud owncloud server 

ingo tells me he shared a folder with one file only that i should review
the owncloud instance sends me an email 

i click the link and expect to see one file
instead it shows me a folder with multiple files and folders shared by anja not ingo 



this is confusing not matching my expectations

multiple problems 
 i was not aware that setting in owncloud had changed previously shares were autoaccepted and i would have seen ingos folder directly after clicking on the link now i am actually in the shared with me view
 ingos new share is located at the end of the list the scrollto did not scroll
 ingos new share is highlighted by a very light gray only this completeley failed to draw my attention i started reading from top to bottom where i should have focused on the last line to accept or reject that share

enhancement ideas
 really scroll to the one folder that is meant nothing on top 
 if possible only show the one folder to reduce confusion
 make the highlight more visible the light gray is not a good visual clue


is the sort order as intended i find it strange that his documentation folder sorts after all other files and folders that made it worse in my case as i started reading the contents from top to bottom and got distracted by finding anjas name with the shared items while expecting ingos name 

fyi carolinacst  nannabarz davitol ",Not_TD,TD
1063,when dragging a file to the  drag to all files will move the file into the  drag to deleted files will delete the fileideally i think it would make sense to have a more advanced gesture hold over all files that will switch the view to root then drag onto the file list combine this with hold over foldersbut as a first step being able to drag to the sidebar would already be an improvementnote that this will require cleaning up the currently very ugly drag and drop code first to make it easier to extendcc ownclouddesigners ,Not_TD,TD
1064,there is a large number of users with a failed integrity check resolving shouldnt be difficult but small issues like the ftp transfer mode make it a bit trickywhy not provide a button to download the current version and a button to delete additional files,Not_TD,TD
1065,"stumbled over it while doing an audit with chrome
  add to login page
  add to public pages
  theme colors
  link the native apps see relatedapplications section on 

see ",Not_TD,Not_TD
1066,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 description
extra ignore for phpstan in  which is not required
this causes ci to fail shown ",Not_TD,Not_TD
1067," steps to reproduce
 automatically accept new incoming local user shares is off
 anne shares loremtxt with bob
 anne shares desktopappsvg with bob
 bob accepts and then declines the received share of desktopappsvg

 expected behaviour
the files in the shared with you panel should show the appropriate icons that go with the file type

 actual behaviour
the files have folder icons 
the shared file loremtxt that has never been accepted shows a  folder icon with a clock in it
the shared file desktopappsvg that has been accepted then declined shows an ordinary folder icon



 server configuration
operating system
ubuntu 

web server
php dev server

database
mysql

php version


owncloud version see owncloud admin page
current core master
",Not_TD,Not_TD
1068,"we are adding test scenarios examples for the personal space style of dav endpoint those have an extra examples table for davversion set to spaces see pr  for an example

we are running those tests in ocis now which is good

we are starting to run them in  but we want to run them for now just in the edge branch and not in the master branch of reva in future we might want to switch them on and off in different environments

add a feature tag to all the scenarios with davversion set to spaces that will let us easily filterskip those scenarios in ci

i suggest that we tag them personalspace",Not_TD,TD
1069,"some sections have subsections and it would be useful to be able to link against them settingsadminsectionidsomesectionsubsectionid

i seem to remember that we had this before as it was possible to jump to subsections from the sidebar
unfortunately the recent restructuring of the settings page seems to have removed this

tomneedham ",Not_TD,TD
1070,"see pr   

 core is being enhanced to remember the author of each version of a file

add acceptance tests to cover this new feature
 api tests to check that the author of each version can be returned in api requests
 webui tests to check that the author is displayed against each version in the version history
 also have test cases to check what happens when the feature is enabled and there are existing files that are then edited after the feature is enabled
",Not_TD,TD
1071," steps to reproduce
 access webdav endpoint with an extra  before remotephp eg curl u adminadmin    v

 expected behaviour
nice error with some  code returned

 actual behaviour
 internal server error

 server configuration
operating system
ubuntu
web server

database
sqlite
php version

owncloud version see owncloud admin page
 prealpha git 
updated from an older owncloud or fresh install
fresh
where did you install owncloud from
git

the content of configconfigphp



    system 
        instanceid 
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            localhost
            
        
        datadirectory homearturwwwowncloudcoredata
        overwritecliurl httplocalhostowncloudcore
        dbtype 
        version 
        logtimezone utc
        htaccessrewritebase owncloudcore
        ldapignorenamingrules false
        enablepreviews false
        csrfdisabled true
        loglevel 
        theme 
        licensekey removed sensitive value
        maildomain removed sensitive value
        mailfromaddress removed sensitive value
        mailsmtpmode smtp
        mailsmtphost removed sensitive value
        mailsmtpport 
        sharingfederationallowhttpfallback true
        filesexternalallowcreatenewlocal true
        skeletondirectory homearturwwwowncloudcoretestsacceptanceappstestingdataapiskeleton
        logtype owncloud
        firewalldebug 
        maintenance false
        dbname owncloud
        dbhost localhost
        dbtableprefix oc
         true
        dbuser removed sensitive value
        dbpassword removed sensitive value
        installed true
        davenableasync true
    



list of activated apps


enabled
   activity 
   comments 
   dav 
   diagnostics 
   enterprisekey 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   firewall 
   provisioningapi 
   systemtags 
   systemtagsmanagement 
   testing 
   usermanagement 
   windowsnetworkdrive 
   workflow 
disabled
   bruteforceprotection
   filesantivirus
   filesclassifier
   
   guests
   multidirtest
   notifications
   
   passwordpolicy
   ransomwareprotection
   searchelastic
   twofactortotp
   updatenotification
   userldap



are you using external storage if yes which one localsmbsftp
no
are you using encryption yesno
no
are you using an external userbackend if yes which one ldapactivedirectorywebdav
no
 logs
 owncloud log dataowncloudlog
 exceptionsabredavexceptionforbiddenmessagerequested uri owncloudcoreremotephpdavfilesadminwelcometxt is out of base uri         ocadavserverconstructobjectocappframeworkhttprequest   requireoncehomeartur 

",Not_TD,Not_TD
1072,when you have a federated server connected you get at the admin page an entry with the serverthis fr is about to add to the server listed the version this server is runningcan be made relatively easy because you get the info when you call federatedinstancestatusphppls see  as example why this would have been helpfulsuggestion image,Not_TD,Not_TD
1073,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce




 expected behaviour
php session can fail to start we need logs around  in order to know the reason for now there is no error log that can be checked in order to know at least that something happened

 actual behaviour
if the session fails to start we dont know what happened the user might be logged out without apparent reason due to the session not being accesible
link 

 server configuration
operating system ubuntu 

web server apache 

database mysql

php version 

owncloud version see owncloud admin page 

updated from an older owncloud or fresh install fresh install

where did you install owncloud from

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here



the content of configconfigphp


log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder


are you using external storage if yes which one localsmbsftp

are you using encryption yesno

are you using an external userbackend if yes which one ldapactivedirectorywebdav

 ldap configuration delete this part if not used


with access to your command line run eg
sudo u wwwdata php occ ldapshowconfig
from within your owncloud installation folder

without access to your command line download the dataownclouddb to your local
computer or access your sql server remotely and run the select query
select  from ocappconfig where appid  userldap


eventually replace sensitive data as the nameipaddress of your ldap server or groups


 client configuration
browser

operating system

 logs
 web server error log

insert your webserver log here


 owncloud log dataowncloudlog

insert your owncloud log here


 browser log

insert your browser log here this could for example include

a the javascript console log
b the network log 
c 
",Not_TD,Not_TD
1074," steps to reproduce
 disable allow public uploads
 create a public link with permission   curl  x post u adminadmin data 
 do the same with permission 

 expected behaviour
both cases should behave the same

 actual behaviour
with permission  



 
  failure
  
  public upload not allowed
  
  
 
 



with permission  the link is created but the permission defaults to 


",Not_TD,TD
1075,setting up a storage with login credentials in the admin settings results in the storage being attempted to be created with the credentials of the admin bad and then marked either goodbad as appropriate since the admin credentials wont necessarily be those applicable to the storage it should be marked as indeterminate status yellow blob,Not_TD,TD
1076,"pr  adjusted the webui so that tags are properly displayed casesensitive  tags test and test are different and should display as separate tags in the ui


add some ui test scenarios that verify that tags with different case really are displayed differently",Not_TD,TD
1077," steps to reproduce

 open the sharing panel for a specific file or folder
 type user in the field

 expected result
no entry for remote user

 actual result
entry user appears

 version
oc 

we need a better regexp

please note that this also affects phoenix as we dont want to add additional client side filter to make up for this issue

 micbar fyi
happy to fix it myself as part of phoenix work",Not_TD,TD
1078,"tested with docker run rm ti v datamntdata  

 in the admin gui the log level is set to warnings errors and fatal issues per default
 admin user can change it there to eg everything fatal issues errors warnings info debug
 no confirmation message appears bad
 there is no save button on the admin page okayish
 when navigating away and returning to the admin page the setting is back at warnings errors and fatal issues bad

expected behaviour the settings are saved automagically user gets a confirmation message about the save
  eg when changing the update channel the user gets a confirmation message in green


",Not_TD,TD
1079,it would be nice to be able to create aliasshortcutlink in owncloud and have them work when viewed from the relevant platforms mac os xwindowsunix currently such objects seem to be invisible in the web interface or in mobile clients in mac os x finder in the owncloud window  i can create one  that worksas is also the case using the owncloud window in windows explorer but thesealiasesshortcuts are not visible in the web interface or in other owncloud windows,Not_TD,TD
1080,"i noticed this fail in a pr just now i am not sure if it fails very often but it will be good to investigate



  background                                                                               
    given user alice has been created with default attributes and without skeleton files  featurecontextuserhasbeencreatedwithdefaultattributesandwithoutskeletonfiles

  filessharingapprequired
  scenario upload overwriting a file into a public share                                                
    given user alice has created folder simplefolder                                               featurecontextuserhascreatedfolder
    and user alice has uploaded file filesforuploadloremtxt to simplefolderloremtxt          featurecontextuserhasuploadedafileto
    and user alice has created a public link share with settings                                       featurecontextuserhascreatedapubliclinksharewithsettings
       path         simplefolder     
       permissions  readupdatecreate 
    when the public accesses the last created public link using the webui                                webuisharingcontextthepublicaccessesthelastcreatedpubliclinkusingthewebui
information timed out waiting for ajax calls to start
upload overwriting loremtxt and got  notifications including you don’t have permission to upload or create files here

information timed out waiting for ajax calls to start
upload overwriting loremtxt and got  notifications including you don’t have permission to upload or create files here

information timed out waiting for ajax calls to start
    and the user uploads overwriting file loremtxt using the webui and retries if the file is locked  webuifilescontexttheuseruploadsoverwritingfileusingthewebuiretry
      │ information timed out waiting for ajax calls to startupload overwriting loremtxt and got  notifications including you don’t have permission to upload or create files here
      │ information timed out waiting for ajax calls to startupload overwriting loremtxt and got  notifications including you don’t have permission to upload or create files here
      │ information timed out waiting for ajax calls to start
      webuifilescontextchoiceinuploadconflictdialogwebui file upload conflict dialog expected but not found exception
    then file loremtxt should be listed on the webui                                                  webuifilescontextfilefoldershouldbelistedonthewebui
    when user alice logs in using the webui                                                            webuilogincontextloginwithusernameusingthewebui
    and the content of simplefolderloremtxt should be the same as the local loremtxt             webuifilescontextthecontentofshouldbethesameasthelocal
scenario result fail

",Not_TD,TD
1081,"it could look like remotephpdavfavoriteuserid

 the folder userid would contain every favorite file and folder
 the user folder itself does not accept creating new entries
 exploring inside subfolders works like regular dav could also be symlink or redirect to the actual dav folder
 renaming entries would work
 deleting entries would unfavorite them or delete them completely 

now on the desktop client side or mobile it might require a brand new ui unless we manage to build a virtual fs layer on top of the current one that could look like this
 
 home  contains regular home files as before
 favorites  contains favorites as represented by the above endpoint
 pending  contains received shares if ever supported
 

with selective sync the user can then choose to either sync regular home or favorites

michaelstingl samualfageme  butonic  ",Not_TD,Not_TD
1082,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
taking the following from the documentation

owncloud ships with an ldap application which allows ldap users including active directory to 
appear in your owncloud user listings these users will authenticate to owncloud with their ldap 
credentials so you don’t have to create separate owncloud user accounts for them you will manage 
their owncloud group memberships quotas and sharing permissions just like any other owncloud 
user

continuing this idea we also could use another owncloud instance to serve as user source
having two instances of owncloud connected already as federated share
both instances  and  have their own user database
the idea is that you can sync the user database so  can logon on  if sync is setup in that way
",Not_TD,Not_TD
1083,"currently filesexternal can only get global credentials from the web ui i suggest to include an option to add this type of credentials via command line occ



cc  ",Not_TD,TD
1084,"for reference see  and 

 documents that the remotephpdavmeta endpoint should be accessed by doing a propfind that includes a request body


apropfind xmlnsadav xmlnsoc
    
        
    



currently the test scenarios send an empty body and  replies with the ocmetapathforuser data item anyway

but implementations do not have to do that an implementation can be coded to only return the ocmetapathforuser data if it was explicitly requested

keep some of the existing no body test cases so that we still test that but also add test scenarios that send the documented body and verify that the correct ocmetapathforuser data is returned or that suitable  status is returned for the edge cases where the fileid is invalid belongs to another user etc",Not_TD,TD
1085,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 

default link  is broken 

the response page is youve been blocked by the shield plugin

 steps to reproduce
 go to user settings page
 click on desktop app

 expected behaviour
download of msi desktop client installer

 actual behaviour
shows youve been blocked by the shield plugin error",Not_TD,Not_TD
1086,"when dealing with external storages theres the topic about remote update detection which is adressed partly by the scanner checking for new ocfilecache entries and discarding old ones

currently when a file is deleted on an external storage outside of owncloud the scanner will later on find out about this deletion and delete the ocfilecache entry directly in this situation any thumbnail that was associated with this fileid still stays ondisk

we should make sure that any associated file gets deleted automatically

for previews the preview system should listen to the scanner hook about deletion and then delete the matching thumbnails

optional addition occ command to clear thumbnails

failing to do so can result in many gigabytes of orphaned thumbnails that need manual deletion

related
 triggering hooks for remote changes 
 centralized thumbnails proposal 

  jvillafanez butonic ",Not_TD,TD
1087, steps to  use  notice that it shows relative dates everywhere and only shows absolute dates when hovering over  be quite annoyed expected behaviourwe need a way to show absolute dates by default as it is really hard to convert from see the file i edited on the  of july to whatever that means as a relative date today especially so because that changes every day  absolute dates are accessible but only via a hover which means they cannot be searched for in the browser actual behaviourown cloud shows relative dates everywhere all the time absolute dates at least for us rule absolutely server configurationoperating systemcentos  serverapachedatabasemysqlphp  version see owncloud admin  from an older owncloud or fresh installupdatedwhere did you install owncloud frompackage managersigning status owncloud  and abovesigned i thinkno errors have been foundlist of activated appsocc applistenabled   activity    calendar true   comments    dav    federatedfilesharing    federation    files    filessharing    filestexteditor    filestrashbin    filesversions    filesvideoplayer    firstrunwizard    gallery    notifications    provisioningapi    systemtags    templateeditor    updatenotification  content of configconfigphpocc configlist system    system         instanceid fnord        passwordsalt removed sensitive value        secret removed sensitive value        trusteddomains             somedomain                datadirectory somepathownclouddata        overwritecliurl httpssomeurl        dbtype mysql        version         dbname owncloud        dbhost localhost        dbtableprefix oc        dbuser removed sensitive value        dbpassword removed sensitive value        installed true        forcessl true        forcesslforsubdomains false        updatechecker false        theme         loglevel         appstoreexperimentalenabled false        maintenance false        trashbinretentionobligation auto    from  it seems there is no option that allows this so can you please add this,Not_TD,TD
1088,ref ,Not_TD,Not_TD
1089,whether it’s a folder or a file pressing enter when performing a search should open the first result so one can quickly navigatecc butonic   ownclouddesigners ,Not_TD,Not_TD
1090, steps to  start file scan with ooc sudo u wwwdata php occ filesscan all expected behaviourno error message actual behaviourfor some user i got an error messagerootuplinkvarwwwowncloud sudo u wwwdata php occ filesscan allscanning files for  usersstarting scan for user  out of  biancahome storage for user bianca not writablemake sure youre running the scan command only as the user the web server runs asstarting scan for user  out of  christianstarting scan for user  out of  nicohome storage for user nico not writablemake sure youre running the scan command only as the user the web server runs asstarting scan for user  out of  sissystarting scan for user  out of  testuser folders  files  elapsed time               server configurationoperating system ubuntu  server  ubuntudatabase mysql  ver  distrib  for linux  using  editline wrapperphp version php  owncloud version  stableupdated from an older owncloud or fresh install updated from  did you install owncloud from ubuntu reprosigning status owncloud  and above no errors have been foundlist of activated appsrootuplinkvarwwwowncloud sudo u wwwdata php occ applistenabled   activity    comments    dav    federatedfilesharing    files    filesexternal    filespdfviewer    filessharing    filestexteditor    filestrashbin    filesversions    filesvideoplayer    firstrunwizard    gallery    notifications    provisioningapi    systemtags    templateeditor    updatenotification    encryption   external   federation   filesantivirus   notes   passwords   registration   userexternal   userldapthe content of configconfigphprootuplinkvarwwwowncloud sudo u wwwdata php occ configlist system    system         instanceid         passwordsalt removed sensitive value        secret removed sensitive value        trusteddomains                         uplinkspdnseu                datadirectory varwwwownclouddata        overwritecliurl httpsuxxxxxxxxxxu        dbtype mysql        version         logtimezone europevienna        installed true        dbname owncloud        dbhost localhost        dbtableprefix oc        dbuser removed sensitive value        dbpassword removed sensitive value        mailfromaddress sxxxxxxxxxrcs        mailsmtpmode sendmail        maildomain gmailcom        memcachelocal ocmemcacheapcu        maintenance false        mailsmtpauthtype login        mailsmtpauth         mailsmtphost smtpgmailcom        mailsmtpport         mailsmtpname removed sensitive value        mailsmtppassword removed sensitive value        mailsmtpsecure tls        loglevel         appstoreexperimentalenabled true        updatechecker false        theme         datafingerprint     are you using external storage if yes which one localsmbsftpyes  external hosted owncloud shareare you using encryption yesnonoare you using an external userbackend if yes which one ldapactivedirectorywebdavno client configurationbrowser chromeoperating  logs owncloud log dataowncloudlogno entry in the log during file scan additional notei checked the files permission and i see no difference between user christian und bianca,Not_TD,TD
1091,"the documentation  does not mention a lot of settings that can  need to be done to run the api tests
eg
testserverurl
testserverfedurl
runpart
divideintonumparts


the documentation need to be improved in that regards",Not_TD,TD
1092," steps to reproduce
 on the users page add a group abc
 put a user in the group
 click on the group to display the users in that group
 click the trashbin icon to delete the group

 expected behaviour
either
 the users listed disappear or
 the group selection refocuses to the group above or the everyone group or something
and
 the group no longer appears in the dropdown list of groups

 actual behaviour
the list of users in that group remains displayed
note refreshing the page confirms that the group and its memberships have actually been deleted so this is just a ui refresh issue

the group still appears in the dropdown list of groups that a user can be joined to for creating a new user or updating an existing user

 server configuration
operating system
ubuntu 

web server
php dev server in dev environment

database
mysql

php version


owncloud version see owncloud admin page


using git master code in a development environment",Not_TD,Not_TD
1093,"since last night  has been failing in ci with an error like

element click intercepted element  is not clickable at point   other element would receive the click 


sometimes other scenarios fail here are the fails from nightly  app ci




















runsh total unexpected failed scenarios throughout the test run






and it is failing in core



element click intercepted element  is not clickable at point   other element would receive the click 


this seems to be a hard fail now needs investigation",Not_TD,TD
1094, setup a login credential store in session mount point expected allow sharing is disabled actual allow sharing can be checked but will not workcc  xenopathic ,Not_TD,TD
1095,"username demo
email no email has been set up

log out enter wrong password
click on wrong password reset it

this text appears


it claims to have successfully sent an email that cannot be true as there is no email configured

",Not_TD,TD
1096," steps
note i havent actually tried this as i have no environment

 setup two smb users with the same name but different domains ex  and 
 setup a smb share shared where both users have access and put some data and subfolders into it
 make it so that  has only readonly permissions
 setup oc
 create a user  and  in owncloud
 let users mount their own shares
 login as 
 mount smb external storage and set the domain to  and user to testuser
 browse the share at this point the ocfilecache has scanned it and would contain readonly permissions
 login as 
 mount smb external storage and set the domain to  and user to testuser
 browse the share and try to upload something

 actual result
now i couldnt try this hypothetical scenario needs to be tested
it is likely that  cannot upload anything because ocfilecache contains the readonly permissions as scanned from the first user

the part that worries me is that both users will get the same ocstorages entry because we dont store the domain part of the user name there this means that if there is any discrepancy about visible content permissions etc between the two users theses will be in conflict

 expected result
each user should receive their own ocstorages entries to be consistent with the current approach which already does so when the user id is different

 versions
owncloud 

jvillafanez butonic tomneedham mmattel thoughts 
",Not_TD,Not_TD
1097,  create two users  and  login as  create two folders local and  share local with  share fed with  using federated  login as  accept the federated  open the share panel for local check owner in share  open the share panel for fed check owner in share tab expected resultboth local and fed show the owner in the share tab actual resultonly local shows the ownerfor federated shares the owner label is missing versionsowncloud  git master  ,Not_TD,Not_TD
1098," steps to reproduce
 install latest version on a centos server with cpanel and php v 
 to login

 expected behaviour
should be able to access the owncloud system

 actual behaviour
wont let you click or press on the icon to login 

 server configuration
operating system centos

web server yes

database mysql

php version 

owncloud version 

updated from an older owncloud or fresh install fresh install

where did you install owncloud from centos server

signing status owncloud  and above unable to pull

the content of configconfigphp
php
config  array 
  instanceid  
  passwordsalt  
  secret  
  trusteddomains  
  array 
      
  
  datadirectory  homecloud
  overwritecliurl  
  dbtype  mysql
  version  
  dbname  cloud
  dbhost  localhost
  dbtableprefix  oc
  dbuser  cloud
  dbpassword  
  logtimezone  utc
  installed  true


are you using encryption yesno


 client configuration
browser chromefirefox  edge

operating system  win  ubuntu",Not_TD,Not_TD
1099,"issue  reports some problems with moving shared folders to external storage

we have some tests in the cliexternalstorage test suite that check doing various things with webdavowncloud external storage look at what is there and add tests as necessary to cover

these should succeed
 user moves their own folder to the external storage
 user moves their own file to the external storage
 user moves a folder out of external storage to their own storage
 user moves a file out of external storage to their own storage

these should get some http  status and a message in the response
 user tries to move a folder that they have shared to someone to external storage
 user tries to move a file that they have shared to someone to external storage
 share receiver tries to move a folder that they have received from someone to external storage
 share receiver tries to move a file that they have received from someone to external storage

merge the tests to core master to document the existing behavior

then issue  and pr  can be worked on and the updated test expectations can be decided",Not_TD,TD
1100,please is there a way to list view all owncloud user accounts which are not part of any group i use imap authentication and automated user creation whenever a new account is created we must assign the new user to some groups according to who it is we have got quite a lot of usersin actual implementation it is very inconvenient to administrate them through web users menu in topright because it uses some wierd async javascript  it is very slow to scroll and wait all the way down through multiple iterations until you get to somebody on z  we would appreciate if we could just click on no groups virtual group where all users without group membership would be listed immediately  just like administrators for exampleif its currently not possible consider this a legitimate feature request thanks,Not_TD,Not_TD
1101,"issue       does not cover this issue so please to not mark as closed i would like to set individual user external site url
for example all users see the following apps files email calendar contacts and dashboard an external site for now the external site named dashboard has the same url for each user for instance if i would like to add wellsfargocom to the app menu using external sites plugin and  only want my accounting users to see it example  i would like the url for the external site to be user specific for example user  clicks on the external site and  is loaded and embedded in the owncloud instance if user  clickes the site  will be loaded etc please help thanks cant be too difficult 

owncloud  stable ",Not_TD,TD
1102,when an encryption key gets lost per example the preview generator will break and the script will stop executing potentially breaking whole apps like gallery steps to reproduce install master turn on encryption add image files optional install a gallery app go to datafilesencryptionkeys rename filekey delete all thumbnails datathumbnails reload the gallery or files appin the files app there will be a missing thumbnail in the gallery app processing will have stopped after having encountered that problemthis can by avoided by catching exceptions in getpreview and perhaps sending back either a broken image icon or the mime icon,Not_TD,TD
1103,"i am evaluating an instance i have created using  for use at my company i have onboarded a handful of users who have been using the system for several weeks they have migrated their contacts calendars etc recently after performing what appeared to be a successful upgrade to  i enabled serverside encryption per  and did occ encryptionencryptall shortly thereafter users started complaining of corruption with newlysynced files sources include desktop and ios app i attempted to decryptall so that i could disable encryption which failed on the postencryption corrupted files in addition several newly created file entries appeared as a result of the decryptall step alongside those corrupt files with suffixes like decryptedpart these showed up in users folders at least on web users were able to delete their own postencryption corrupted files from their instances but not the newlycreated part files in their home directories because apparently part is a reserved suffix but they could remove parent folders where part files resided without issue

now i am stuck i cant decryptall because of the corrupted part files even with the originals gone which means i cant turn off encryption users cant sync new content because after turning on encryption all files coming from desktop and ios apps get corrupted",Not_TD,TD
1104," 
 
 pagination

some topics could be relevant for the gallery app to be able to search by albums",Not_TD,Not_TD
1105,"there are situations where  on the webui can be not advisable or just a straight out bad idea if the installation does not have command line access eg enabling the encryption app and switching on encryption

a bit of discussion here in documentation


perhaps there could be a config setting like hosted  true or nocommandline  true or some other way for a hosting provider to be able to signal to owncloud that the installations are knobbled and so they do not want to let the admin user in the webui be able to do dangerous stuff that is subsequently going to need command line access

then owncloud code could respect this and either never even let the user do some things or at least give them a big red warning and make them click yes  times to do it",Not_TD,TD
1106," app systemtags

please allow the user at tags search result to select all files or individual files with checkbox and download them exactly like the functionality at files grid",Not_TD,Not_TD
1107,"with large user bases the performance seems to be not very good on the endpoint for user lookups

by using search terms in the endpoint filesindexphpcoreajaxsharephp we see that the response time increases rapidly and temporarily makes our user account unusable

tomneedham 
",Not_TD,TD
1108,"hello

offset parameter is ignored when using report method

example request 


ocsearchfiles xmlnsadav xmlnsoc
    
       
        
        
        
        
    


 steps to reproduce
  curl k u adminadmin x report h contenttype textxml d testreportxml   xmllint format 


 expected behaviour
retrieve  items starting from 

 actual behaviour
retrieve always  first items ignoring offset parameter


dmultistatus xmlnsddav xmlnss xmlnsoc
  
    owncloudremotephpdavfilesxxxxxxxxxxxxxxxxxxxxxx
    
      
        fri  feb   gmt
        
        
        
        applicationpdf
      
        ok
    
  
  
    owncloudremotephpdavfilesxxxxxxxxxxxxxxxxxxxxxxxxxxx
    
      
        tue  may   gmt
        
        
        
        applicationpdf
      
        ok
    
  


tested in master

filessearchreportpluginphp has no reference to offset parameter and has a different behaviour than filesreportpluginphp

documentation says that its possible to limit and set a starting point in both cases  

",Not_TD,Not_TD
1109,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 create an instance of owncloud version  and log in as admin
 have an ldap connected for user and group integration
 have an admin user authenticated by the database
 have  user alice authenticated by ldap
 have  user bob authenticated by database
 have a group ldapgroup taken from a group in ldap
 have a guest group called externals created with owncloud
 let alice be in group ldapgroup as stated in ldap memberofcnldapgroup
 try to add bob to that group and set the hook for that group tooglegroupsphp is run by the webfrontend
a behaviour a
 add admin to group ldapgroup
b behaviour b
 add an entry manually to the database insert into ocgroupuser gid uid values ldapgroup admin
 update the userpage in the owncloud frontend you will see user admin now being part of group ldapgroup
 add an entry manually to the database insert into ocgroupuser gid uid values ldapgroup bob
 update the userpage in the owncloud frontend you will see user bob now being part of group ldapgroup
 now remove the group ldapgroup from admin in the user settings page
 update the page
c behaviour c
 add an entry manually to the database insert into ocgroupuser gid uid values ldapgroup admin
 update the page find both admin and bob as members of of ldapgroup
 now remove  the group ldapgroup from bob in the user settings page
 update the page find bob gone as a member of ldapgroup and admin still a member of of ldapgroup this works as expected

the same happens to the nonldap based group externals
bob will only be visible in any group if admin is a member there too

 expected behaviour
a bob should be in the group ldapgroup now to bob should be in the database table ocgroupuser with ldapgroup and bob
b admin should be in the group ldapgroup now to admin should be in the database table ocgroupuser with ldapgroup and admin
c admin is not listed as member of ldapgroup but bob is still listed as member of ldapgroup

 actual behaviour
a bob is not added to the group bob has no entry in ocgroupuser for this group
b admin is not added to the group admin has no entry in ocgroupuser for this group
c bob and admin are both not listed any longer as members of ldapgroup but bob is still listed as member in ocgroupuser in the database but bob is not displayed anymore

 server configuration
operating system
linux ubuntu 
web server
apache 
database
mysql 
php version

owncloud version see owncloud admin page

updated from an older owncloud or fresh install
fresh install
where did you install owncloud from
ubuntu repository
signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here
no errors have been found


the content of configconfigphp


log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form



or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder

enabled
   calendar 
   comments 
   configreport 
   dav 
   drawio 
   federatedfilesharing 
   federation 
   files 
   filesclipboard 
   filesexternal 
   filessharing 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   firstrunwizard 
   guests 
   market 
   notifications 
   passman 
   provisioningapi 
   systemtags 
   tasks 
   updatenotification 
   userldap 
disabled
   encryption
   external
   userexternal


are you using external storage if yes which one localsmbsftp

are you using encryption no

are you using an external userbackend if yes which one activedirectory

 ldap configuration delete this part if not used


with access to your command line run eg
sudo u wwwdata php occ ldapshowconfig
from within your owncloud installation folder


 configuration                                                                                                                                                                                                    

 hasmemberoffiltersupport                                                                                                                                                                                        
 haspagedresultsupport                                                                                                                                                                                            
 homefoldernamingrule                                                                                                                                                                                             
 lastjpegphotolookup                                                                                                                                                                                             
 ldapagentname                  cnwebserviceuserauthouservicesoudomaindcnsdclocal                                                                                                                     
 ldapagentpassword                                                                                                                                                                                             
 ldapattributesforgroupsearch   cnname                                                                                                                                                                           
 ldapattributesforusersearch    cnnamedisplayname                                                                                                                                                               
 ldapbackuphost                                                                                                                                                                                                   
 ldapbackupport                                                                                                                                                                                                   
 ldapbase                       oudomaindcnsdclocal                                                                                                                                                       
 ldapbasegroups                 ouwebservicesougroupsoudomaindcnsdclocal                                                                                                                              
 ldapbaseusers                  ouusersoudomaindcnsdclocal                                                                                                                                              
 ldapcachettl                                                                                                                                                                                                  
 ldapconfigurationactive                                                                                                                                                                                         
 ldapdynamicgroupmemberurl                                                                                                                                                                                        
 ldapemailattribute             mail                                                                                                                                                                              
 ldapexperiencedadmin                                                                                                                                                                                            
 ldapexpertuuidgroupattr                                                                                                                                                                                          
 ldapexpertuuiduserattr         objectguid                                                                                                                                                                        
 ldapexpertusernameattr         samaccountname                                                                                                                                                                    
 ldapgroupdisplayname           cn                                                                                                                                                                                
 ldapgroupfilter                objectclassgroupmemberofcnabteilungenouwebservicesougroupsoudomaindcnsdclocalmemberofcntechnikouwebservicesougroupsoudomaindcnsdclocal 
 ldapgroupfiltergroups                                                                                                                                                                                            
 ldapgroupfiltermode                                                                                                                                                                                             
 ldapgroupfilterobjectclass     group                                                                                                                                                                             
 ldapgroupmemberassocattr       member                                                                                                                                                                            
 ldaphost                                                                                                                                                                                   
 ldapignorenamingrules                                                                                                                                                                                            
 ldaploginfilter                                             
 ldaploginfilterattributes      name                                                                                                                                                                              
 ldaploginfilteremail                                                                                                                                                                                            
 ldaploginfiltermode                                                                                                                                                                                             
 ldaploginfilterusername                                                                                                                                                                                         
 ldapnestedgroups                                                                                                                                                                                                
 ldapoverridemainserver                                                                                                                                                                                           
 ldappagingsize                                                                                                                                                                                                
 ldapport                                                                                                                                                                                                      
 ldapquotaattribute                                                                                                                                                                                               
 ldapquotadefault                                                                                                                                                                                                 
 ldaptls                                                                                                                                                                                                         
 ldapuserdisplayname            displayname                                                                                                                                                                       
                                                                                                                                                                                              
 ldapuserfilter                 objectclassorganizationalpersonobjectclasstop                                                                                                                            
 ldapuserfiltergroups                                                                                                                                                                                             
 ldapuserfiltermode                                                                                                                                                                                              
 ldapuserfilterobjectclass      organizationalpersontop                                                                                                                                                          
 ldapusername                   samaccountname                                                                                                                                                                    
 ldapuuidgroupattribute         auto                                                                                                                                                                              
 ldapuuiduserattribute          auto                                                                                                                                                                              
 turnoffcertcheck                                                                                                                                                                                                
 usememberoftodetectmembership                                                                                                                                                                                   



without access to your command line download the dataownclouddb to your local
computer or access your sql server remotely and run the select query
select  from ocappconfig where appid  userldap


eventually replace sensitive data as the nameipaddress of your ldap server or groups


 client configuration
browser
useragent   linux   khtml like gecko  
operating system
linux ubuntu 
 logs
 web server error log

insert your webserver log here

no related entry in that log


 owncloud log dataowncloudlog

insert your owncloud log here

no related entry in that log


 browser log
na
insert your browser log here this could for example include

a the javascript console log
b the network log 
c 

",Not_TD,Not_TD
1110,"

php warning  declaration of pageloginpagewaittillpageisloadedbehatminksession session int timeoutmsec  pagestandarduiwaittimeoutmillisec void should be compatible with pageowncloudpagewaittillpageisloadedbehatminksession session timeoutmsec  pagestandarduiwaittimeoutmillisec in dronesrctestsacceptancefeatureslibloginpagephp on line 


i noticed this in the ci output it did not cause the code to fail this will have been reported now that various acceptance tests have parameter and return types declared
",Not_TD,TD
1111,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 steps to reproduce

❯ curl xpropfind  u admininvalid  xmllint format 
   total     received  xferd  average speed   time    time     time  current
                                 dload  upload   total   spent    left  speed
                               

derror xmlnsddav xmlnss
  sabredavexceptionnotauthenticated
  username or password was incorrect username or password was incorrect no authorization bearer header found either the client didnt send one or the server is misconfigured no authorization bearer header found either the client didnt send one or the server is misconfigured



 expected behaviour
error message username or password was incorrect username or password was incorrect no authorization bearer header found either the client didnt send one or the server is misconfigured

 actual behaviour
error message username or password was incorrect username or password was incorrect no authorization bearer header found either the client didnt send one or the server is misconfigured no authorization bearer header found either the client didnt send one or the server is misconfigured 

 server configuration
operating system ubuntu 

web server apache

database   mysql ver  for linux on  ubuntu

php version 

owncloud version see owncloud admin page  git
",Not_TD,Not_TD
1112,"not sure if we had this ticket before

we need to have a single location for logging in instead of having every possible endpoint being able to authenticate one exception is webdav because some clients need to be able to send basic auth so fine

but external apps that use rest apis or so need to use a main endpoint
that endpoint at some point might also be an  one

goal here is to remove all the other code paths that allowed to send basic auth to private apis ocs share api etc

thoughts 

 butonic phisch guruz davivel ",Not_TD,TD
1113,follow up of  and  regarding string id   karlitschek,Not_TD,Not_TD
1114,"is it possible to show user activity

 how many users are currently logged in
 traffic downloadupload
 maybe statistic for the last  days

i currently look into the sslaccesslog to determine if there is any activity",Not_TD,TD
1115,for comparison this is what nautilus does when navigating from a child folder into the »owncloud« parent folder this allows for easy switching between parent and child folders also regarding moving filescc ownclouddesigners owncloudjavascript ,Not_TD,Not_TD
1116,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 steps to reproduce




 expected behaviour
tell us what should happen

 actual behaviour
tell us what happens instead

 server configuration
operating system

web server

database

php version

owncloud version see owncloud admin page

updated from an older owncloud or fresh install

where did you install owncloud from

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here



the content of configconfigphp


log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder


are you using external storage if yes which one localsmbsftp

are you using encryption yesno

are you using an external userbackend if yes which one ldapactivedirectorywebdav

 ldap configuration delete this part if not used


with access to your command line run eg
sudo u wwwdata php occ ldapshowconfig
from within your owncloud installation folder

without access to your command line download the dataownclouddb to your local
computer or access your sql server remotely and run the select query
select  from ocappconfig where appid  userldap


eventually replace sensitive data as the nameipaddress of your ldap server or groups


 client configuration
browser

operating system

 logs
 web server error log

insert your webserver log here


 owncloud log dataowncloudlog

insert your owncloud log here


 browser log

insert your browser log here this could for example include

a the javascript console log
b the network log 
c 

",Not_TD,Not_TD
1117,"server   alpha
desktop client  build 

steps to recreate
 create a password protected public link 
 copy link to clipboard direct download
 paste the link into your browser
 enter password
 wait for the download

actual result resource has not been downloaded instead it has only been shown in the browser download has been lost from the url after authentication

expected result resource has been downloaded",Not_TD,Not_TD
1118," steps to reproduce

 in a folder with several files upload a file bigger than  mib using the web ui
 in the same web ui without refreshing upload another file bigger than  mib

 expected behaviour
the highlighted row corresponds to the current uploaded file

 actual behaviour
the previous uploaded file row is highlighted instead the current one




 server configuration

operating system
ubuntu 

web server
apache

database
mysql

php version


cache
db

owncloud version see owncloud admin page

 



updated from an older owncloud or fresh install
fresh

the content of configconfigphp





are you using external storage if yes which one localsmbsftp
no

are you using encryption 
no

logs




 client configuration

browser
chrome",Not_TD,Not_TD
1119,shares inside of shares are confusingfirst im not sure if this is a bug or a feature request also this is most critical for the owncloud client and for that i would call it a bughow to reproduceversion  running on ubuntu  the following folders products  international   product a   product b  localproduct a is a folder with several gb of stuff in itsome users get to see everything they are in a group that has the share products other only have the share international or local and a third group of users have access only to a share product a for example no problem up to nowbut now there are some users that are in several groups and they suddenly have products international and product a as a sharethe problems owncloud client run out of disk space since they suddenly store huge amounts of data  times owncloud client slow synchronisation waste of bandwidth the same file gets copied  times webdav access clients and web interface confusing layout  ways to access one folder web interface slow and confusing search results files listed  timesi think shares inside other shares should be hidden if they have the same permissionsalternatively it could also be a global options since there might be users who would actually want the same content multiple times,Not_TD,Not_TD
1120, current situation the fileslocking app is flooding the logs with info messages i need to add all the other apps in the logcondition array and maintain that list ideal solutioni simply exclude fileslocking in logcondition maybe using what do you think morrisjobke ,Not_TD,TD
1121,"

 changed files 

 appsdavlibcommandcleanupchunksphp   

 check if disallowed file was changed 

  no file disallowed to be skipped was changed


tests should be run when source code changes in apps directories",Not_TD,Not_TD
1122, steps to  install two   on server  upload a bunch of  on server  create a  on server  enable external storage  on server  configure external webdav mounts to point to server  on server  log in as  on server  upload a file with the same name as a file on the webdav  on server  mark the uploaded file as a  on server  mark the file with the same name on the external mount as a  click on favorites link expected behaviourshould see two favorites actual behaviourthere are three favorites server log  paged search for  filter objectclass base arraynn      uidabagailkuhicoupeopledcowncloudqadccomnn attr arraynn      nn limit  offset  for a paged  uidabagailkuhicoupeopledcowncloudqadccom  paged search for  filter objectclass base arraynn      uidabagailkuhicoupeopledcowncloudqadccomnn attr arraynn      primarygroupidnn limit  offset  for a paged  attribute primarygroupid not found for  paged search for  filter objectclass base arraynn      uidabagailkuhicoupeopledcowncloudqadccomnn attr arraynn      memberofnn limit  offset  for a paged  paged search for  filter objectclass base arraynn      cnaggregateubiquitousschemasougroupsdcowncloudqadccomnn attr arraynn      nn limit  offset  for a paged  cnaggregateubiquitousschemasougroupsdcowncloudqadccom  paged search for  filter objectclass base arraynn      cnarchitectintuitiveinfrastructuresougroupsdcowncloudqadccomnn attr arraynn      nn limit  offset  for a paged  cnarchitectintuitiveinfrastructuresougroupsdcowncloudqadccom  paged search for  filter objectclass base arraynn      cnarchitectdotcomnichesougroupsdcowncloudqadccomnn attr arraynn      nn limit  offset  for a paged  cnarchitectdotcomnichesougroupsdcowncloudqadccom  paged search for  filter objectclass base arraynn      cnbrandworldclassdeliverablesougroupsdcowncloudqadccomnn attr arraynn      nn limit  offset  for a paged  cnbrandworldclassdeliverablesougroupsdcowncloudqadccom  paged search for  filter objectclass base arraynn      cnbenchmarkbricksandclicksinfomediariesougroupsdcowncloudqadccomnn attr arraynn      nn limit  offset  for a paged  cnbenchmarkbricksandclicksinfomediariesougroupsdcowncloudqadccom  paged search for  filter objectclass base arraynn       attr arraynn      nn limit  offset  for a paged    paged search for  filter objectclass base arraynn      cnbrandtransparentecommerceougroupsdcowncloudqadccomnn attr arraynn      nn limit  offset  for a paged  cnbrandtransparentecommerceougroupsdcowncloudqadccom  paged search for  filter objectclass base arraynn      cndeliverbricksandclicksebusinessougroupsdcowncloudqadccomnn attr arraynn      nn limit  offset  for a paged  cndeliverbricksandclicksebusinessougroupsdcowncloudqadccom  paged search for  filter objectclass base arraynn      cnbenchmarkproactivewebreadinessougroupsdcowncloudqadccomnn attr arraynn      nn limit  offset  for a paged  cnbenchmarkproactivewebreadinessougroupsdcowncloudqadccom  paged search for  filter objectclass base arraynn      cnbenchmarkfrictionlessapplicationsougroupsdcowncloudqadccomnn attr arraynn      nn limit  offset  for a paged  cnbenchmarkfrictionlessapplicationsougroupsdcowncloudqadccom  app configurationenabled  activity   adminaudit   encryption   enterprisekey   files   filesexternal   fileslocking  filespdfviewer   filessharing   filessharinglog   filestexteditor   filestrashbin   filesversions   filesvideoviewer   gallery   provisioningapi   templateeditor   updater   userldap   windowsnetworkdrive   external  filesantivirus  filesdrop  filesldaphome  firewall  firstrunwizard  objectstore  sharepoint  userexternal  usershibboleth  userwebdavauth server  host infoubuntu   server configurationowncloud enterprise edition  beta  daily  ,Not_TD,TD
1123,currently the trashbin command line only supports permanently deleting files via the trashbincleanup and trashbinexpire commands in the event that an administrator wishes to restore files  it would be good to have a trashbinrestore option with the ability to restore files within some date range,Not_TD,TD
1124," steps to reproduce
 as an admin go to the users page
 modify the quota for a user selecting other and enter  kb
 modify again to  kb
 modify again to  use a way to express  kb in a different but acceptable way
 look at the dropdown list  it contains multiple entries for  kb

 expected behaviour
the dropdown list of quota values should not have any duplicates

 actual behaviour
the dropdown list of quota values has duplicates

 server configuration
current master or  in a dev environment cloned from github

this was mentioned in issue  but does not seem to have been raised as a separate issue so doing it here

there is no backend problem  clicking any of the duplicated dropdown entries works ok this is just a silly ui feature in the javascript",Not_TD,TD
1125,i have seen many of these on a  instanceexception messageroot cant be       occonnectorsabreserverfactoryocconnectorsabreclosureobjectsabrehttprequest   calluserfuncarrayobjectclosure   sabreeventeventemitteremitbeforemethod   sabredavserverinvokemethodobjectsabrehttprequest       i have not more information about the requested urllukasreschke  schiesbn could we make this more robust,Not_TD,TD
1126," upgrade to 
getting this message
 repair warning you have incompatible or missing apps enabled that could not be found or updated via the marketplace
 repair warning please install or update the following apps manually or disable them with
occ appdisable logreader
 ocrepairexception upgrade is not possible
 update failed


so far so good could the process ask next do you want to disable blabla app not yn so its clearer what has to be done and even somewhat guided",Not_TD,TD
1127,when moving files you don’t get any feedback where the files are moved it would be good to show a notification up top likefilename moved to foldernamecc  schiesbn ,Not_TD,TD
1128,in some situations like  one might need to manually operate on the filecache to restore broken entriesthe trouble with this is that when reparenting entries one would need to update both the parent value and pathhash which can be tediousalso there might be instances where bugs caused holes in the file cache or inconsistenciesi suggest we add a occ repair command to repair these repair pathhash column if different repair parent column if it doesnt matchcould be part of the health check could also be made an extra repair option for occ filesscan if the logic is close enough to be suitable i suppose one could call this some kind of scandisk  morrisjobke butonic ,Not_TD,TD
1129,currently the ui is using svg graphics in browsers which support it but the standard mime icon is used for thumbnails of svg  files instead of a small svg previewgeorgehrke ,Not_TD,TD
1130,when using the sharing api is would be very useful to obtain all of the filesfolders that have been shared with a specific user this could be used for audit purposes reconciliation and other tasksi only see methods to get all shares or get shares from a specific file or folder i am using the get all api and then to get share id for a particular user the problem is the return results could be hugemtrichards ,Not_TD,TD
1131,would it be possible to disable synchronisation on certain directories within the users filesystem but still allow them to be accessed through the web interface failing a general solution is it possible to disable synchronisation for certain mounted sharesfor example a user may want to mount several different shares for access through the web interface but only wants their home share to be synchronised with any clients this is useful in cases where a large multiuser share is available and the user wants to be able to manage files in it but doesnt want to pull down gbs of data most of which may be useless to them,Not_TD,TD
1132,"eg in ocfilecache we have several columns with a notnull constraint


mariadb  show columns from ocfilecache

 field             type           null  key  default  extra          

 fileid                 no    pri  null     autoincrement 
 storage                   no    mul                         
 path                yes        null                    
 pathhash             no                                 
 parent                 no    mul                         
 name                 yes        null                    
 mimetype                  no                                
 mimepart                  no                                
 size                   no                                
 mtime                  no                                
 storagemtime          no                                
 encrypted                 no                                
 unencryptedsize       no                                
 etag                  yes        null                    
 permissions               yes                               
 checksum             yes        null                    

 rows in set  sec


mysql per default accepts eg 


mariadb  update ocfilecache set parent  null where fileid  
query ok  row affected  sec
rows matched   changed   warnings 

mariadb  show warnings

 level    code  message                        

 warning    column parent cannot be null 

 row in set  sec


with only a warning it effectively writes  into the parent column this is bad for two reasons

 we normally use parent   to indicated that there is no parent not  

 postgresql throws an error when we try to assign null to a notnull column

expected behavour

 mysql should also throw an error in this case
  run mysql with set sqlmode  stricttranstables to convert all warnings to errors 

 we eventually get our apps fixed to not try assigning null to notnull columns",Not_TD,TD
1133,hias reported init seems that files are corrupted in the sync client when moddeflate is enabled at the webserver adding a server side check for this could prevent such issues,Not_TD,TD
1134,i would like to create an intranet owncloud instance where anyone without even creating an account can upload and see files but from outside of the intranet subnet files should be only readonly but again not requiring account,Not_TD,Not_TD
1135,"instead of using a modal dialog for link share dialog view embed it into the sidebar

 to prevent cluttering use an accordion for each of the link shares
 the accordion can only open one link share detail at a time
 keep the savecancel button
 clicking away on another link counts as cancel
 bottom of accordion panel has another panel for link creation

not sure if all this properly fits together main goal is getting away from the modal reducing clicks and having it work properly on mobile

felixheidecke felixboehm  ",Not_TD,TD
1136,"


reproduced in oc  but seems to be there since long time ago

to be discussed i think it can be maybe due to get and put dance used for printing the checkbox marks it looks like the responses come back slower than you are clicking and it is possible that the responses arrive back in a different order to the requests that were sent maybe a solution can be to do not allow putget operations until previous one is resolved",Not_TD,TD
1137,thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out this is the bug tracker for the server component find other components at to make it possible for us to help you please fill out below information carefully  steps to  delete a user as an admin expected behaviourthe admin should get warned if the user has foldersfilescontactscalendars shared with other users and get an option if he wants the other users to keep these foldersfilescontactscalendars etc in their directories actual behavioureverything this user shared with others is deleted restoring is not easy if encryption is enabled and the user is not existing in owncloud anymore no recovery key enabled,Not_TD,Not_TD
1138,across the codebase there are lots of places where we want certain usersgroups to have access to parts of an app or feature and have it restricted for everyone else each part of owncloud implements this in its own way for example enable this app for these groups only allow users to mount these external storage backends allow users to share by link allow users to share things etcwhats more we often find that the controls arent granular enough there are usecases where some usersgroups would need to be able to mount external storages perhaps in an enterprise while other users should not be able to of course its overkill to implement full capability management for each little component hence this feature requesti envision a unified capability manager which apps can register capabilities to and then check if a particular user has the capability for a certain resource these capabilities can be managed by admins in a special page which works similar to the applicable to selection for external storages in that both individual users and entire groups can be selected the admin would see a list of capabilities and the usersgroups that have each capability,Not_TD,TD
1139,"we mostly have tests that test the existence of each files which sends request to the dav endpoint of each filefolder but we dont have tests that try to get the entire file list with webdav

we need to add tests to get the list of files from webdav
 test getting files list on user files public link trashbin
 use depth header to get the nested filesfolders
",Not_TD,TD
1140, steps to  go to the gallery  share a gallery with password protection maybe also without as a  email that link to a person or just share the  log out from your owncloud account to see how public users see the shared  open the  press on the icon in the right uppercorner    expected behavourthe pictures will appear with small thumbnails and some more detailed information like time and date and size and only the pictures nothing else actual behaviourthe whole folder is visable security risk serverowncloud  enhancementmake a filter to only show the pictures in a folder when you share an album ,Not_TD,TD
1141,hiwere currently struggling in updating the nginx config at the moment three rewrites are provided within the htaccesswhere a clear statement is missing if those are still needed or what their purpose isit seems they are even not needed any more as the nginx config is not providing them since ages so they could be just removed from the htaccessany insights in thiscc xenopathic  ,Not_TD,TD
1142,while the activity app shows me who did what when it is frustrating not to see who created a certain version in the versions tab so when i need to blame someone to have messed with a document my brain quickly starts to hurt when i try to match events in the two tabswe should somehow merge the two tabs  or show more info in the versions tabpulling ownclouddesigners for ux guidancecc mtrichards ,Not_TD,TD
1143,"when using the sharing api and sending expiredate in a request to createmodify a share the documentation  says

an expire date for public link shares this argument expects a date string in the following format yyyymmdd


but if you send the expiredate in any format that  understands then that also works  eg  days or 

we are adding a feature to have expiry dates for user and group shares the feature pr also behaves like this allowing an extensive range of ways to send expiredate

is it ok that this extended behaviour works",Not_TD,TD
1144,"
 steps to reproduce
 create a public link over a file

 actual behaviour



 expected behaviour

option should be switchable

core


related 
",Not_TD,Not_TD
1145, the key to a successful interface is to provide several ways to perform specific actions in order to cater for the needs of a broad spectrum of  advanced users need shortcutsa sample selection  ctrla select all  ctrlc copy selection  ctrlv paste selection  ctrlx cut selection  del delete selection  ctrlf puts cursor in search field    ctrlz undo a deletion per  schiesbn jancborchardt henni,Not_TD,TD
1146,"we have acceptance tests that download just a part of a file use the range parameter in the api request for example a step like

then the downloaded content when downloading file sharestestshareoverwritethistxt for user alice with range  should be ownclou


in many cases we actually just want to test that downloading a file works but due to some history we used a test step that downloads a range of the file that is testing  things at once  downloading and support for range downloads that is not optimal when testing systems where downloads work fine but range is not yet supported or working

todo
 identify a small set of test scenarios that cover support of range in download and make sure that the feature file name feature description and scenario descriptions clearly say that range is being tested
 adjust other scenarios so that they download the whole file when the scenario just needs to check for valid file content etc


",Not_TD,TD
1147,in  we introduced permalinks when a user who doesnt have access to the file opens the permalink they currently get a  not found pagea nice addition would be to convert this into a request access page which would prompt the owner of the filefolder in a notification to share it with that userownclouddesigners dragotin ,Not_TD,TD
1148,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 check finish set up page



 expected behaviour
tell us what should happen

 actual behaviour
tell us what happens instead



 server configuration
operating system

web server

database

php version

owncloud version see owncloud admin page

updated from an older owncloud or fresh install

where did you install owncloud from

signing status owncloud  and above


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here



the content of configconfigphp


log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder


are you using external storage if yes which one localsmbsftp

are you using encryption yesno

are you using an external userbackend if yes which one ldapactivedirectorywebdav

 ldap configuration delete this part if not used


with access to your command line run eg
sudo u wwwdata php occ ldapshowconfig
from within your owncloud installation folder

without access to your command line download the dataownclouddb to your local
computer or access your sql server remotely and run the select query
select  from ocappconfig where appid  userldap


eventually replace sensitive data as the nameipaddress of your ldap server or groups


 client configuration
browser

operating system

 logs
 web server error log

insert your webserver log here


 owncloud log dataowncloudlog

insert your owncloud log here


 browser log

insert your browser log here this could for example include

a the javascript console log
b the network log 
c 

",Not_TD,Not_TD
1149,see   preview provider registration in manager   implement interapp dependency management  move providers outside of core,Not_TD,TD
1150," steps to reproduce

 lock a file
 via webui check the file is locked
 via webui browse to the sidebar and unlock the file clicking twice

 expected behaviour

the lock iconbutton should be get disabled after the  click

 actual behaviour

it is possible to click several times








 server configuration
ubuntu  lts

web server
apache 

database
mariadb

php version


where did you install owncloud from

",Not_TD,Not_TD
1151,currently the warnings are inaccessible config folder inaccessible apps folder inaccessible data folderthese warnings only show up one by one in that order the last one even only after you tried to put in your admin usernamepassword and clicking »finish installation«instead of slowly feeding those out there should be one page with a list showing the errors at once in case one or more of the folders are already accessible of course leave those outthis will once again simplify the most annoyingtechnical step of the installation process which is settings the   schiesbn is there some reason which led us to do it in these steps is it possible to alter so we can streamline a very common installation case,Not_TD,TD
1152,see this client issue basically we want to avoid that a client overwrites a file while there had been a change to it in the meantime,Not_TD,TD
1153,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 drag and drop empty folder from desktop or any other location into owncloud over web browser
 i tested on multiple owncloud servers test environment and production multiple browsers multiple os multiple machines multiple networks on owncloud  there was no problem i upgraded to  and then later to   on both version there was an error


 expected behaviour
empty folder should have been uploaded to owncloud

 actual behaviour
empty folder is not being uploaded if i insert jut an empty text file into this folder then it is uploaded correctly

 server configuration
ubuntu  lts

web server
apache

database
mysql

php version
php 

owncloud version see owncloud admin page
 error also in  in version  it worked correctly

updated from an older owncloud or fresh install
updated

where did you install owncloud from


signing status owncloud  and above
no errors 


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here

no errors have been found


the content of configconfigphp

    system 
        updatechecker false
        instanceid removed sensitive value
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            removed sensitive value
            
        
        memcachelocal ocmemcacheredis
        filelockingenabled true
        memcachedistributed ocmemcacheredis
        memcachelocking ocmemcacheredis
        redis 
            host localhost
            port 
            timeout 
            dbindex 
        
        datadirectory varownclouddata
        overwritecliurl httpsremoved sensitive value
        dbtype mysql
        version 
        dbname oc
        dbhost localhost
        dbtableprefix oc
         true
        dbuser removed sensitive value
        dbpassword removed sensitive value
        logtimezone utc
        installed true
        ldapignorenamingrules false
        loglevel 
        maintenance false
    



log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps
   activity 
   audioplayer 
   calendar 
   comments 
   configreport 
   dav 
   federatedfilesharing 
   federation 
   files 
   filesexternal 
   filespdfviewer 
   filessharing 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   firstrunwizard 
   gallery 
   impersonate 
   market 
   notifications 
   onlyoffice 
   provisioningapi 
   systemtags 
   templateeditor 
   twofactortotp 
   updatenotification 
   userldap 


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder


are you using external storage if yes which one localsmbsftp
no

are you using encryption yesno
no

are you using an external userbackend if yes which one ldapactivedirectorywebdav
tested on multiple owncloud servers only internal users and ldap  not working on either


with access to your command line run eg
sudo u wwwdata php occ ldapshowconfig
from within your owncloud installation folder

without access to your command line download the dataownclouddb to your local
computer or access your sql server remotely and run the select query
select  from ocappconfig where appid  userldap


eventually replace sensitive data as the nameipaddress of your ldap server or groups


 client configuration
browser
tested on chrome firefox ie all latest version

operating system
windows 

 logs
 web server error log

     server certificate does not include an id which matches the server name
     ubuntu  configured  resuming normal operations
    command line 
     server certificate does not include an id which matches the server name
     server certificate does not include an id which matches the server name
     ubuntu  configured  resuming normal operations
    command line 
    caught sigterm shutting down
     server certificate does not include an id which matches the server name
     server certificate does not include an id which matches the server name
     ubuntu  configured  resuming normal operations
    command line 



 owncloud log dataowncloudlog

insert your owncloud log here
no log recorded for the time of testing log set to warning errors and fatal issues

 browser log

insert your browser log here this could for example include

a the javascript console log
b the network log 
c 





",Not_TD,Not_TD
1154,"you can create groups with all sorts of names in the webui or with the provisioning api like

curl  x post d groupidqmark
curl  x post d groupidasign
curl  x post d groupidaslash

and other special characters

you can list all groups fine with

curl 


and view individual groups with

curl 

and to get a  through you have to put the escaped value 

curl 


you can delete such groups with

curl  x delete
curl  x delete


the problem comes if you try with groups that have a  in their name a literal slash is never going to work

curl 

and an escaped slash like this is rejected by the server apache or php dev server

curl 


so you cannot manage a group like aslash via the provisioning api but you can manage it through webui",Not_TD,TD
1155,"comprehensive description

 mfa authentication with totpqr email fallback and backup verification code

not only for user but also admin  possible because of fallback solutions
configurable which method is primary
validation for first use not at login but direct after shooting qrcode
email fallback like 
warning message when qrcode is taken that no one else is taking it hey its the masterkey that could be compromised in this stage




",Not_TD,TD
1156,the occ filesscan command currently lacks the option to scan more than one specified file or directory from the command line the only options are for user x and y and z all files and this path i propose adding an additional option the paths listed in this file allowing a single invocation of the command to scan a distinct multiple of files without needing multiple invocations which would be slow or resorting to recursive directory scans which depending on the size of the scanned directory would be even slowerthe use case for this option is closely tied to another weakness in owncloud the absence of inotifybased metadatasynchronisation on the server files which are changed in external local mounts are only picked up on the next full scan a full scan of a large file system is prohibitively expensive especially when compared to scanning a single filean example of this can be seen when using the filesopds app which provides an opds service for owncloudhosted content linked to an externally mounted library this library is mounted as an external local mount in owncloud and is available to all users publications are added to the library by the librarian but they only become available to owncloud users after doing either a full scan  which can take a long time given the size of the library more than half a million publications   or when new or changed publications are manually scanned using occ filesscan p userfileslibrarypathtopublication  tedious at best the solution is obvious use inotify to watch the directory and do targeted scans of newchangeddeleted files as publications sometimes are added in batches this would lead to a large number of occ invocations to scan each individual file or to unnecessarily expensive recursive directory scans to pick up a single changed file adding a batch scan option to occ enabled me to cut down on this waste of resources while simultaneously making sure the latest changes to the library are available to owncloud users in more or less realtimeattached is a patch to owncloud core  applies against oc core  it implements a new option pathlistl  which expects a path to a file containing one path per line to scan this file can be produced by tools like inotifywait and fed to occ periodically an example script  implementing such a scheme is attached to this messagewhile the best solution would be for owncloud to implement inotifybased or a functionally similar system based on fsevents or fam for nonlinux hosts external storage monitoring the combination of an external inotifybased daemon and the batch scan option does solve most of the problems related to the lack of external local storage synchronisation,Not_TD,TD
1157," steps to reproduce
 upload a file jpg in  format
 click in file to open preview
 press ctrlp for print this jpg
 check a espace on left and jpg file are deconfigured to print

 expected behaviour

the print preview should only show the jpg

 actual behaviour

a left margin appears preventing correct printing

 server configuration
linux ubuntu 

web server
                              

database
                     

php version
                

owncloud version see owncloud admin page


updated from an older owncloud or fresh install
no

where did you install owncloud from
apt repos


    system 
        updatechecker false
        instanceid ocsxeexzuime
        passwordsalt removed sensitive value
        secret removed sensitive value
        trusteddomains 
            
            
            
            localizasjrpddnsnet
        
        datadirectory varwwwownclouddata
        overwritecliurl 
        dbtype mysql
        version 
        dbname owncloud
        dbhost localhost
        dbtableprefix oc
        dbuser removed sensitive value
        dbpassword removed sensitive value
        logtimezone utc
        installed true
    



list of activated apps
enabled
   activity 
   comments 
   configreport 
   dav 
   federatedfilesharing 
   federation 
   files 
   filespdfviewer 
   filessharing 
   filestexteditor 
   filestrashbin 
   filesversions 
   filesvideoplayer 
   firstrunwizard 
   gallery 
   notifications 
   provisioningapi 
   systemtags 
   templateeditor 
   updatenotification 
disabled
   encryption
   external
   filesantivirus
   filesexternal
   userexternal
   userldap

are you using external storage if yes which one localsmbsftp
only local storage in two disks

are you using encryption yesno
in access https letsencrypted

are you using an external userbackend if yes which one ldapactivedirectorywebdav
dont use

 client configuration
google chrome versão  versão oficial  bits

operating system
windows  professional 

 logs
 web server error log
no errors in log about this problem

 owncloud log dataowncloudlog
no errors in log about this problem

 browser log
no errors in log about this problem

ps i did not find this fix in change version logs",Not_TD,Not_TD
1158,"pr  adjusts some ui elements for smaller screens we could run some webui  test scenarios on a smaller browser window to know if they work ok we do not want to explodde ci by running all ui test scenarios maybe just run smoketest scenarios

see my comment 

hint the behatminkselenium stack allows resizing the browser

  current

",Not_TD,TD
1159,currently users can revoke a token themselves admins should be able to revoke them as well to remain in control,Not_TD,TD
1160," steps to reproduce
see pr  
 run the appsfilesexternaltestsstorageowncloudtestphp

 expected behaviour
pass

 actual behaviour


phpunit  by sebastian bergmann and contributors

runtime       phpdbg 
configuration dronesrctestsphpunitautotestexternalxml

f     
                                                 

time  minutes memory  mb

there was  failure

 ocafilesexternaltestsstorageowncloudtesttestcheckupdate
no update
failed asserting that true is false



failures
tests  assertions  failures 


 server configuration
ci  see the pr for the configuration
",Not_TD,Not_TD
1161,do someone know if its possible for an app to add an extra action button on the files header as file header i means the red area indicated by the picture belowthank you very muchneedsinfoappfile,Not_TD,Not_TD
1162," expected behaviour
as a user i only want to see areas for which the admin has configuration options ready for me

 actual behaviour
as a user i always see sections that are displayed but do not offer me any configuration options 

there could be more sections but in my case i see the following

 federated cloud sharing



 external storage



 additional 



is it possible not to show the entries in the left bar if there is nothing to configure

 server configuration
owncloud version see owncloud admin page
current
",Not_TD,TD
1163, open op a js console in a  fire a command with a long main text including a few line breaks n like ocdialogsconfirmfunevat qngn va guvf jnl gb hanhguragvpngrq hfref vg trarenyyl abg pbafvfgrag jvgu pbasvqragvny naqbe crefbany frafvgvir qngnnvs lbh unir ragrerq n qngn cebprffbe nterrzrag jvgu qrvp lbh npprcg ol guvf npgvba gung qrvp vf eryrnirq sebz nal boyvtngvbaf gurerva pbapreavat gurfr qngnnqb lbh jnag gb cebprrq testing confirm function   true expected behaviourthe dialog should break the lines of the main text making the box taller rather than wider actual behaviourwe get a single paragraph with no line breaks making the confirm box very wideowncloud version observed in versions  and  if its fixed in  or newer i apologise,Not_TD,TD
1164,"reading  and all the others related to regular background job execution i am thinking if it would be a good idea to have a gui available where you can manage the tasks to be run as part of the recurring background job where some can´t be managed but are visible forced by oc some can be disabled but not deleted suggested by oc and some freely added and removed admins decision

 ",Not_TD,TD
1165,thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out this is the bug tracker for the server component find other components at to make it possible for us to help you please fill out below information carefully since owncloud  it is possible to transfer the ownership of files from one user to another i would like to see something similar for calendars to be able to fully disable an old account it is not available in owncloud  there is an occ command to migrate calendarssudo u wwwdata php occ davmigratecalendarsbut that is to migrate preowncloud  calendars to owncloud  so from old app to new core so that command is completely irrelevant to transferringmigrating calendars between users i removed the issue template as it seems irrelevant to this feature request,Not_TD,Not_TD
1166,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 

it would be good to harmonize the ability to enable groups containing a comma in their name

based on a comment of phildavis in 

snip
in core repo corecommanduseraddphp the option is called just group because you specify just  group name after each group 

group financesydney group financeberlin group myfriends
snip

maybe true for other occ cammands where this change would be benificial

in case of a change doc relevant for all commands affected

 
",Not_TD,Not_TD
1167,hello to every oneim working on a project and i want in the mail share display the user displayname the one who is sharing the data and username the one who is receving the sharing data by email notification in owncloudfor the one who is sharing the data is very simple but i also want to display the displayname or username of the one whos receiving the mail notification of owncloud some exempleshello the displayname of the one who is receiving the mail notification   that admin shared  with youany idea thank you for your reply,Not_TD,Not_TD
1168," steps to reproduce
 open user management screen
 delete existing group
 open dropdown that is used to add new not yet created users to a group

 expected behaviour
the deleted group is not listed in the dropdown

 actual behaviour
the group is still there

 server configuration
owncloud version owncloud enterprise edition  stable

updated from an older owncloud or fresh install fresh

where did you install owncloud from docker hub",Not_TD,Not_TD
1169,"hello

i try to implement a conditional filemenu entry into the files app you can find the code here 

in line  i want to add an advance filter for actions to remove all actions which does not satisfy my conditions i want to show my new actions only when certain conditions are satisfied

with the js debugger i can see that the function will be added correctly to ocafilesfileactionsactionfilters but it will never be executed at all because my filter function is gone in actionfilters when the files app generates the file entries in the fileslist view

all entries were added in the files list because i can find them in the file menu do you have any ideas how i can find the issue
thank you very much

owncloud version ",Not_TD,Not_TD
1170,"phan is now running again this is a followon from issue 

 review the items that are being suppressed in the phan runs eg search for phansuppressnextline phanundeclaredmethod etc
 review the items where phan has to be specially told what type of object a variable is eg search for phanvar
 refactorfix the code so that as many as reasonable of these do not cause phan warnings
 consider   maybe we can also annotate some classes with property and method to describe some classes where it is not obvious to phan what methods are available
",Not_TD,TD
1171," steps to reproduce
 create a file 
 share the file with userb without can edit option
 login with userb
 browse to the share with you menu
 check the rename option does not appear in the  dots menu
 open the sidebar
 check again if the rename option does not appear in the  dots menu

 expected behaviour

rename file option should not appear

 actual behaviour

rename file option appears in the menu

note it is only a visual bug renaming is not posible

database
mysql


owncloud version see owncloud admin page

oc  


 step


 step


 step

",Not_TD,Not_TD
1172, when using the newly introduced »skip to content« link tab once to make it visible then enter to use the content refreshes that resets the tabindex and defeats the purpose of the link since you start from the beginning again see the previous code at  when tabbing through the file list the file actions should be displayed as well that’s what line  was for – but when that is enabled the tabindex resets after reaching the first fileit seems that both issues have to do with lazy loading any ideas ownclouddesigners  ,Not_TD,TD
1173,"after updating the core from  to  the sharing feature in the macos and ios app does not work anymore

when using the web interface sharing works as expected

 expected behaviour

rightclick on a file in my owncloud folder  copy public link  paste the link in the browser  file can be downloaded

 actual behaviour

rightclick on a file in my owncloud folder  copy public link  the window with the sharing options opens displaying “csrf check failed” in red all options for creating shares are greyed out

the ios app displays the same message when trying to create a public link to a file

 steps to reproduce
as described above

 server configuration
operating system linux info   smp tue jan   cest  all gnulinux
web server apache
database mysql 
php version 
owncloud version 

storage backend external storage none

 client configuration

client version desktop  build 
ios  build 

operating system macos  macos  ios 

os language german

installation path of client
applications

 logs


client logfile output of owncloud logwindow or owncloud logfile logtxt
   reply to “get” qurl“ qpair“path”bildschirmfoto  um  qpair“reshares”“true” has unexpected status code  ““ocs”“meta”“status”“failure”“statuscode”“message”“csrf check failed”“totalitems””“itemsperpage”“data”
   share fetchcreate error  “csrf check failed”


 web server error log

ipadressdeleted    “get  ”   urldeletedforprivacy “” “ macintosh  build  owncloud  clientarchitecture  osarchitecture ” “”
ipadressdeleted    “get  ”   urldeletedforprivacy “” “ macintosh  build  owncloud  clientarchitecture  osarchitecture ” “”
ipadressdeleted    “propfind  ”   urldeletedforprivacy “” “ macintosh  build  owncloud  clientarchitecture  osarchitecture ” “”
ipadressdeleted    “get  ”   urldeletedforprivacy “” “ macintosh  build  owncloud  clientarchitecture  osarchitecture ” “”
ipadressdeleted    “get  ”   urldeletedforprivacy “” “ macintosh  build  owncloud  clientarchitecture  osarchitecture ” “”


 server logfile owncloud log dataowncloudlog
can’t find unusual messages

updated from an older owncloud or fresh install
update from 

where did you install owncloud from
initially installed owncloud  from the zip archive provided at owncloudcom years ago and used the update function ever since

signing status owncloud  and above


no errors have been found



the content of configconfigphp


can be provided on request


list of activated apps


only standard apps


are you using external storage if yes which one localsmbsftp
no

are you using encryption yesno
no

are you using an external userbackend if yes which one ldapactivedirectorywebdav
no


img  altbildschirmfoto  um    src

",Not_TD,TD
1174,i installed oc  following the instructions when i activated the encryption the  encryption app is enabled but your keys are not initialized please logout and login again does not disappear after logging outin several times,Not_TD,Not_TD
1175,"yesterday the  docker images was updated to use ubuntu  as the base image was previously ubuntu  see pr 

now some unit tests are failing see demonstration in pr  

maybe ubuntu  is missing some things that were installed by default in ubuntu  or

investigate and fix or revert the docker image change for now",Not_TD,TD
1176,when upgrading owncloud the overall process is a bit of an unknownif you kick off the upgrade for example we dont tell a user in any way what apps will be disabled which will be enabled and which wont work after the upgrade we dont point out if you missed the upgrade screen showing you what actually happened and what will or wont workthe request is for thisas an admin i want to be able to see a preupgrade and postupgrade report of my upgrade so i know what apps worked what will be disabled because they are  party and which wont be upgraded because there is no newer code available so that i have my expectations set and managed through the upgradethe reports should be visible for the last few patch release and major version upgrades and should look something like thisversion                                       server    active  active  update plannedinstalled supported appssharing          active  active  update plannedfile firewall    active  active  update plannedsharepoint     active  active  update plannedetcinstalled unsupported appscontacts         active  active  update plannedfiles move     active  deactivated  update not planned app will not work after upgrade as no owncloud  compliant code can be found in the app storeetcthen during the update the update planned would move to update successful or notthis report would have a date associated with it and be available and visible from an update report mechanism in the admin panel,Not_TD,Not_TD
1177,i noticed that the uuid generated of the core is not compliant with the official  standard this causes some problems with other third party apps is it possible to fix this issue for more infos see ,Not_TD,TD
1178,transferred from an older security tracker ticket to make it public ref industry standard pointed out already at  in the general considerationsthis is even advised upstream see  because imagemagick is used to process images it is feasibly possible for hackers to create images that contain invalid data to attempt to exploit these bugs because of this we recommend the following   do not run imagick in a server that is directly accessible from outside your network it is better to either use it as a background task using something like supervisord or to run it in a separate server that is not directly access on the internet,Not_TD,TD
1179,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 steps to reproduce
 server is debian 
 owncloud version  but this issue has been a problem for at least the two previous versions
 after installing attempted to access the installation using firefox 

 expected behaviour
this was a working system but after an upgrade and several attempts to upgrade since has been broken now all i get is the message
setting locale to  failed

 actual behaviour
setting locale to  failed
and it doesnt allow any login or anything else

 server configuration
operating system debian 

web server apache 

database mysql

php version 

owncloud version see owncloud admin page  

updated from an older owncloud or fresh install untarred  into a new directory then moved the data directory from the older install to the new one and then made changes to the configphp file

where did you install owncloud from  dont know what this means i tried different things to install one using the debian synaptic package manager after inserting the appropriate link into  etcaptsourceslist file but finally resorted to downloading the latest from owncloudcom and untarred as mentioned above

signing status owncloud  and above no idea what this means


login as admin user into your owncloud and access 
 
paste the results into  and puth the link here

cant log in as anything 

i noticed that there are two files that are involved in this issue
libprivatelegacyutilphp


in utilphp the issetlocaleworking function uses basenamee§ to determine what to do 

and based on the lack of change in behavior from basename the check decides that setlocale didnt happen this indirect method seems to be problematic i have added a print statement into bootupphp and then ran 

sudo u wwwdata php occ configlist system

before setlocale 
before setlocale 

    system 
        instanceid 
        passwordsalt removed sensitive value
        trusteddomains 
            cloudsamcamporg
        
        corsalloweddomains 
            httpscloudsamcamporg
        
        datadirectory varwwwownclouddata
        crashdirectory varwwwownclouddata
        version 
        versionhide false
        showserverhostname false
        userelativedomainname false
        dbtype mysql
        dbhost localhost
        dbname samcampcloud
        dbuser removed sensitive value
        dbpassword removed sensitive value
        dbtableprefix oc
        installed true
        defaultlanguage enus
        defaultapp files
        enableavatars true
        allowusertochangedisplayname true
        rememberlogincookielifetime 
        sessionlifetime 
        sessionkeepalive true
        tokenauthenforced false
        strictloginenforced false
        loginalternatives 
        csrfdisabled false
        skeletondirectory varwwwowncloudowncloudcoreskeleton
        userbackends 
            
                class ocuserimap
                arguments 
                    
                
            
        
        lostpasswordlink 
        accountsenablemedialsearch true
        groupsenablemedialsearch true
        usersearchminlength 
        maildomain removed sensitive value
        mailfromaddress removed sensitive value
        mailsmtpdebug false
        mailsmtpmode sendmail
        mailsmtphost removed sensitive value
        mailsmtpport 
        mailsmtptimeout 
        mailsmtpsecure 
        mailsmtpauth false
        mailsmtpauthtype login
        mailsmtpname removed sensitive value
        mailsmtppassword removed sensitive value
        overwritehost 
        overwriteprotocol 
        overwritewebroot 
        overwritecondaddr 
        overwritecliurl 
        webbaseurl 
        htaccessrewritebase 
        proxy 
        proxyuserpwd removed sensitive value
        trashbinretentionobligation auto
        trashbinpurgelimit 
        versionsretentionobligation auto
        updatechecker true
        updaterserverurl httpsupdatesowncloudcomserver
        hasinternetconnection true
        checkforworkingwellknownsetup true
        configisreadonly false
        operationmode singleinstance
        logtype owncloud
        logfile varlogowncloudlog
        loglevel 
        syslogtag owncloud
        logsyslogformat  message
        logconditions 
            
                sharedsecret removed sensitive value
                users 
                    
                
                apps 
                    filestexteditor
                
                logfile tmptestlog
            
            
                sharedsecret removed sensitive value
                users 
                    
                
                apps 
                    filesmediaviewer
                
                logfile tmpmediaviewerlog
            
        
        logdateformat f d y his
        logtimezone europeberlin
        cronlog true
        logrotatesize false
        appspaths 
            
                path varwwwowncloudowncloudapps
                url apps
                writable false
            
            
                path varwwwowncloudowncloudappsexternal
                url appsexternal
                writable true
            
        
        enablepreviews true
        previewspath 
        previewmaxx 
        previewmaxy 
        previewmaxscalefactor 
        previewmaxfilesizeimage 
        previewlibreofficepath usrbinlibreoffice
         convertto pdf outdir 
        enabledpreviewproviders 
            ocpreviewpng
            ocpreviewjpeg
            ocpreviewgif
            ocpreviewbmp
            ocpreviewxbitmap
            
            ocpreviewtxt
            ocpreviewmarkdown
        
        commentsmanagerfactory occommentsmanagerfactory
        systemtagsmanagerfactory ocsystemtagmanagerfactory
        maintenance false
        singleuser false
        openssl 
            config etcsslopensslcnf
        
        enablecertificatemanagement false
        memcachelocal ocmemcacheapcu
        memcachedservers 
            
                localhost
                
            
        
        memcachedoptions 
             
             
             
             
             
             true
             true
             true
        
        cachepath 
        cachechunkgcttl 
        davchunkbasedir 
        sharingmanagerfactory 
        sharingfederationallowhttpfallback false
        sqlitejournalmode delete
         false
        supporteddatabases 
            sqlite
            mysql
            pgsql
            oci
        
        tempdirectory tmpowncloudtemp
        hashingcost 
        blacklistedfiles 
            htaccess
        
        blacklistedfilesregex 
            ext
            somefilename
        
        excludeddirectories 
            snapshot
            snapshot
        
        excludeddirectoriesregex 
            backup
            backup
        
        integrityexcludedfiles 
            dsstore
            thumbsdb
            directory
            webapp
            htaccess
            userini
        
        integrityignoremissingappsignature 
            appid of 
            appid of 
        
        sharefolder 
        cipher 
        minimumsupporteddesktopversion 
        quotaincludeexternalstorage false
        filesystemcheckchanges 
        filesystemmaxmountpointmoveattempts 
        partfileinstorage true
        mountfile varwwwownclouddatamountjson
        filesystemcachereadonly false
        secret removed sensitive value
        trustedproxies 
            
            
        
        forwardedforheaders 
            httpxforwarded
            httpforwardedfor
        
        maxfilesizeanimatedgifspublicsharing 
        filelockingenabled true
        filelockingttl 
        memcachelocking ocmemcacheredis
        upgradedisableweb false
        upgradeautomaticappupdate true
        debug false
        datafingerprint 
        filesexternalallowcreatenewlocal false
        smbloggingenable false
        davenableasync false
        graceperioddemokeyshowpopup true
        graceperioddemokeylink httpsowncloudcomtryenterprise
        theme 
    


so youll notice that  
print before setlocale   setlocalelcall   n
printed twice but there was no after setlocale indicating that the code didnt go through the check for basename to set the locale in other words the check for basename seemed to have favorable results 

but when leaving those print statements in bootupphp but making an http call the print statements return

before setlocale c
setting locale
after setlocale 

notice a couple of things
 the code went into bootupphp and ran my print statements and specifically the before and after setlocale was called which changes the value returned by 
 setlocale clearly worked in the webserver but running occ from the commandline setlocale value is different between commandline and web server 

and so if i just change the return value in utilphp for this check to return true instead of false as it is coded to do then everything seems to work just fine i now get the login prompt instead of the error message 

obviously when running things from the command line will differ from a webserver running things but if there is a setting that i am not setting for the web server then i dont know what it is ive combed through a lot of web searches which say to set various things and to restart the web server which i have done but clearly there is a bug if setlocale is changing the the value after the setlocale operation in bootupphp which wasnt detected by the method put in place indicating it isnt a problem with my system variables but a fundamental flaw in using basename to see if its behavior changes before and after the setlocale statement is executed



log in to the webui with an administrator account and click on
admin  generate config report  download owncloud config report
this report includes the configphp settings the list of activated apps
and other details in a well sanitized form

or 

if you have access to your command line run eg
sudo u wwwdata php occ configlist system
from within your owncloud installation folder

attention do not post your configphp file in public as is please use one of the above
methods whenever possible both the generated reports from the webui and from occ configlist
consistently remove sensitive data you still may want to review the report before sending
if done manually then it is critical for your own privacy to dilligently
remove all host names passwords usernames salts and other credentials before posting
you should assume that attackers find such information and will use them against your systems


list of activated apps


if you have access to your command line run eg
sudo u wwwdata php occ applist
from within your owncloud installation folder



are you using external storage if yes which one localsmbsftp

are you using encryption yesno

are you using an external userbackend if yes which one ldapactivedirectorywebdav

 ldap configuration delete this part if not used


with access to your command line run eg
sudo u wwwdata php occ ldapshowconfig
from within your owncloud installation folder

without access to your command line download the dataownclouddb to your local
computer or access your sql server remotely and run the select query
select  from ocappconfig where appid  userldap


eventually replace sensitive data as the nameipaddress of your ldap server or groups


 client configuration
browser

operating system

 logs
 web server error log

insert your webserver log here


 owncloud log dataowncloudlog

insert your owncloud log here


 browser log

insert your browser log here this could for example include

a the javascript console log
b the network log 
c 

",Not_TD,Not_TD
1180, steps to  create a valid ldap configuration with several  go to the users page and try to delete an ldap user expected behavioureither the delete action is not available or an error is notified to the user because its not possible to delete a ldap user from owncloud actual behaviourthere is a notification saying that the user is deleted but it isnt server configurationoperating system ubuntu  server apache  mysqlphp version  version  stable notesive also checked with oc  it behaves a bit better there is an alert saying that the the user cannot be deleted and the user is restored in the list later however the notification still appears and the alert shows twiceblizzz ,Not_TD,TD
1181,during core upgrade  shipped apps are installed upgraded but there is no output during this phase,Not_TD,Not_TD
1182,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
checked with release 
there are a bunch of apps maintained by owncloud which have no or no meaningful appicon standard gear you can see this in settingsapps example collaborative tags comments


it would look much more professional adding a good icon for those apps

the one i have identified without beeing complete
 admin config report
 federation
 provisioning api
 update notification
 collaborative tags
 comments
 external storage dropbox
 first run wizard
 ftp storage support
 guests
 mail template editor

",Not_TD,Not_TD
1183, expected behaviouran administrator from a group add users to that group even if the is not part of it actual behaviouran administrator from a group cant add users to that group even if the is not part of it steps to  i have an user who is administrator from many groups admin customers sales etc  the uses belongs to the groups admin sales etc not  log in as that user and try to include a user to customers  and the field does not appear server configurationowncloud version  from an older owncloud or fresh installupgraded from ,Not_TD,TD
1184,"whenever a user password that was used for an external storage is invalid usually the user needs to go to the web ui and see the mount point highlighted in red then the user needs to click on the row and gets a popup to enter the storages password

we should find a way to move this to user notifications instead whenever the system detects that a point is not available any more due to credential issue it would send a user notification with a link to the setting page to reenter the password there

how to detect such thing is a different story maybe not a background job it could detect this on the fly whenever the folder is accessed if a storagenotavailableexception was thrown somewhere and is related to wrong password take note into a table ocstorages  later on a process will send out the notification once

jvillafanez  ",Not_TD,TD
1185," steps to reproduce
 login
 share a file
 search a user in users and groups input box

 expected behaviour
shows only users in table ocaccounts row name state   enabled

 actual behaviour
shows all users in table ocaccounts row name state   all

 server configuration
operating system
centos linux release  core

web server
nginx version 

database
mysql  ver  distrib 

php version
php  cli built oct      nts 

owncloud version see owncloud admin page


updated from an older owncloud or fresh install
fresh install

thank you
",Not_TD,Not_TD
1186,allow a user to be granted group membership admin for a group  the user can  any users  the  the user cannot ever create a new  the user cannot ever delete a  user cannot change the quota or other settings of a userthis is different to the current group admin which is aimed at allowing the group admin to manage the users in a group add new users and delete existing users that are in the group the current group admin will not let the group administrator add existing system users to the group and even if it did then that would probably allow the group administrator to subsequently delete those users  effectively giving them the ability to delete every user on the system not such a great ideathis is somewhat related to  but different againuse casethere are groups for various departments in an organisation we want to give the administration of group membership to the relevant managers egfinancestaff group membership managed by janedoe finance managerhrstaff group membership managed by joebloggs hr manager,Not_TD,Not_TD
1187," steps to reproduce
 debian  running with oc package repository 
 package update using aptget update  aptget upgrade
 oc is updated from  to 
 oc doest work because of missing php 
 downgrade oc to make it work again using 

 expected behaviour
aptget upgrade should respect the missing dependency for php  and refuse to update the oc package when running debian oldoldstable with php 

 actual behaviour
the oc package is updated to  while php  is installed only
oc  drops support for php 

 server configuration
operating system debian 

web server apache 

database mysql 

php version 

owncloud version 

updated from an older owncloud or fresh install updated from 

where did you install owncloud from official owncloud repository

are you using external storage if yes which one smb

are you using encryption no

are you using an external userbackend if yes which one ldap
",Not_TD,TD
1188,hello everyonehaving the encryption app warning message back as mentioned here  is really great however there will still be many users that will just tick the box and reset their login password and will then complain to us their admin for not being able to access their old files password reset through an email link at least the way it is is right now is quite of a problem for us it significantly increases the administration work on our side as we have to reply to emails and phone calls and explain to technical or nontechnical customers why they no longer have access to their files no matter if we clearly stress out in our instructions and faq that password recovery disabled together with a weak memory can be a catastrophic combination with irreversible consequences most importantly we have several customers that forget their passwordencryption key reset their login password via the email link realise that they no longer have access to their files and instead of contacting us they decide to reupload them this means that they end up using double the storage space that they are paying us for eg if they have a  gb storage package they can end up using  gb  gb for their newly uploaded unencrypted files and  gb for the inaccessible encrypted filesfor us an easy solution to this would be to have the possibility to disable password reset via email link for customers with password recovery disabled and enable password reset via email link for those that have password recovery enabledthanks,Not_TD,Not_TD
1189,see  for history esp ,Not_TD,Not_TD
1190,using owncloud  customstyled scroll bar is low contrast only ten pixels wide and very difficult to use with a mousei suggest to not style the scroll bars if users like no or minimal scroll bars they can apply a theme to their os or use other means of configuration like apples system settings for mouse,Not_TD,TD
1191,currently apps and file viewers need to resort to their own url generation schemes and have no direct way of doing file operations like retrieving the file list ex gallery downloading a file etcinstead of having every app or file viewers invent their own way of accessing files a js files api should be developed to provide file operations like list files in a folder search files download file when opening a file for vieweing upload file when saving a file after modifying it creating folders deleting files ideally this api should be implemented base directly webdav see  this api is available the following will be possible the files app web ui itself should be based off the js files api  other apps or sidebar views can provide their own instance of js files api for example the trashbin can provide a file list of deleted files and let file viewers open such files for viewing the js files api could be used outside of owncloud by third party apps with   schiesbn morrisjobke raydiation what do you think ,Not_TD,TD
1192,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version for your major branch eg  see 
 
 steps to reproduce
 share a folder via link
 make sure it is not shared internally
 reload the page closing and reopening the sidebar does not trigger the bug
 open the sharing tab


 expected behaviour
since it is not shared to internal users the public links tab should be preselected

 actual behaviour
the users and groups tab is selected  and of course empty users need an additional click to access the public links
",Not_TD,Not_TD
1193,"
thanks for reporting issues back to owncloud this is the issue tracker of owncloud if you have any support question please check out 

this is the bug tracker for the server component find other components at 

for reporting potential security issues please see 

to make it possible for us to help you please fill out below information carefully

before reporting any issues please make sure that youre using the latest available version of owncloud see 
 
 steps to reproduce
 go to shared with you view
 resize the browser to mobile size eg  width by  height
 cannot view who shares the file and folder
 cannot view share details before accepting the share
 expected behaviour
should be able to see who shares the filefolder either from listed shares or by selecting the share details before accepting the share itself in mobile view of webui

 actual behaviour
 sharer display name is not shown
 cannot see share details before accepting the share itself


 server configuration
operating system
ubuntu  lts
web server
apache
database
mysql  ver  for linux on  ubuntu
php version
php 
owncloud version see owncloud admin page
latest master branch from github repo
updated from an older owncloud or fresh install
fresh install
where did you install owncloud from
github",Not_TD,Not_TD
1194,currently an email share notification is sent in the language of the user sending the share email this means the recipient of that email may not be able to read the notificationthe system should automatically translate email notifications into the language that the recipient has set in their preferences on the server before sending so that the recipient can read the email,Not_TD,TD
1195,"in the case of nonscannable storages like primary object store we need to disable automatically
 background jobs related to background scanning
 occ commands

maybe the jobscommands in question can still be listed but should not do anything when run",Not_TD,TD
1196,"currently some foreach gymnastics with iconfig and iappconfig are required to get all values for all apps of a user
php
applist  thisappconfiggetapps
foreach applist as app 
	userkeys  thisconfiggetuserkeysuserid app
	   foreach userkeys as key 
				
	    


proposed additions to iconfig
getuserkeyvaluesuserid app which returns an array of the stored key
getalluserkeyvaluesuserid ",Not_TD,TD
1197," steps to reproduce
 set filestoragesaveversionauthor to true
 create a file testtxt as admin user
 share the file with 
 as  edit this file  the current author is  the author of the first version is admin  all good
 as  roll back the first version  current author is admin good however the author of the first version is now admin as well bad

 expected behaviour

the version author should be 
",Not_TD,TD
1198,"seen with server 


",Not_TD,Not_TD
1199, when i have encryption on files and especially images should be encrypted here as well if encryption is changed we could simply delete the cache there,Not_TD,TD
